<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날마다 읽는 교리 - 2월 19일</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Pretendard', sans-serif; }
        .glass-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); }
        .list-circle { list-style-type: circle; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 leading-relaxed">

    <div class="max-w-4xl mx-auto px-4 py-12 md:py-20">
        <!-- Header -->
        <header class="text-center mb-16">
            <p class="text-indigo-600 font-bold tracking-widest uppercase mb-2">February 19</p>
            <h1 class="text-4xl md:text-5xl font-black text-slate-900 mb-6">사람의 첫 범죄</h1>
            <div class="h-1.5 w-24 bg-indigo-600 mx-auto rounded-full"></div>
            
            <!-- Audio Player Controller -->
            <div id="audio-player-container" class="mt-8 flex flex-col items-center">
                <div id="yt-player-hidden" class="hidden"></div>
                <button id="audio-control-btn" disabled 
                    class="flex items-center gap-3 px-8 py-3 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg disabled:opacity-50 disabled:cursor-wait"
                    aria-label="교리 오디오 로딩 중">
                    <span id="btn-icon">
                        <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                    </span>
                    <span id="btn-text">교리 오디오 로딩 중</span>
                </button>
                <div id="player-error-msg" class="text-red-500 mt-3 text-sm hidden"></div>
            </div>
        </header>

        <!-- Catechism Section -->
        <div class="space-y-6 mb-12">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Shorter Catechism 13 -->
                <div class="bg-white border-l-4 border-indigo-500 p-8 rounded-2xl shadow-sm">
                    <h3 class="text-indigo-600 font-bold mb-4 flex items-center gap-2 text-sm uppercase">
                        소요리문답 13
                    </h3>
                    <p class="font-bold text-lg mb-3 italic">우리 첫 조상은 창조된 상태에 머물러 있었습니까?</p>
                    <p class="text-slate-700">답: 의지의 자유에 따라 행하도록 허락된 우리 첫 조상은 하나님을 대적하여 죄를 지음으로써 자신들이 창조된 상태에서 타락했습니다.</p>
                </div>
                <!-- Shorter Catechism 15 -->
                <div class="bg-white border-l-4 border-indigo-400 p-8 rounded-2xl shadow-sm">
                    <h3 class="text-indigo-500 font-bold mb-4 flex items-center gap-2 text-sm uppercase">
                        소요리문답 15
                    </h3>
                    <p class="font-bold text-lg mb-3 italic">우리 첫 조상이 타락하게 된 죄는 무엇이었습니까?</p>
                    <p class="text-slate-700">답: 우리 첫 조상이 창조된 상태에서 타락하게 된 죄는 금지된 열매를 먹은 것이었습니다.</p>
                </div>
            </div>
            <!-- Larger Catechism 21 -->
            <div class="bg-white border-l-4 border-slate-800 p-8 rounded-2xl shadow-sm">
                <h3 class="text-slate-600 font-bold mb-4 flex items-center gap-2 text-sm uppercase">
                    대요리문답 21
                </h3>
                <p class="font-bold text-lg mb-3 italic">사람은 하나님께서 처음에 창조하신 상태에 머물러 있었습니까?</p>
                <p class="text-slate-700">답: 의지의 자유에 따라 행하도록 허락된 우리 첫 조상은 사탄의 유혹을 받아 금지된 열매를 먹음으로 하나님의 계명을 어겼습니다. 이로 인하여 이들은 무죄하게 창조된 상태에서 타락했습니다.</p>
            </div>
        </div>

        <!-- Scripture Section -->
        <div class="bg-slate-900 text-white p-8 rounded-3xl mb-12 shadow-xl">
            <h3 class="text-slate-400 font-bold mb-6 flex items-center gap-2 uppercase tracking-tighter text-xs">
                Scripture Reading
            </h3>
            <ul class="space-y-6">
                <li class="border-l border-indigo-500 pl-4">
                    <span class="block text-indigo-400 font-semibold mb-2">창세기 3:6-8, 13</span>
                    “여자가 그 나무를 본즉 먹음직도 하고 보암직도 하고... 여자가 그 열매를 따먹고 자기와 함께 있는 남편에게도 주매 그도 먹은지라... 아담과 그의 아내가 여호와 하나님의 낯을 피하여 동산 나무 사이에 숨은지라”
                </li>
                <li class="border-l border-indigo-500 pl-4">
                    <span class="block text-indigo-400 font-semibold mb-2">전도서 7:29</span>
                    “하나님은 사람을 정직하게 지으셨으나 사람이 많은 꾀들을 낸 것이니라”
                </li>
                <li class="border-l border-indigo-500 pl-4">
                    <span class="block text-indigo-400 font-semibold mb-2">고린도후서 11:3</span>
                    “뱀이 그 간계로 하와를 미혹한 것 같이 너희 마음이 그리스도를 향하는 진실함과 깨끗함에서 떠나 부패할까 두려워하노라”
                </li>
            </ul>
        </div>

        <!-- Deep Exposition -->
        <div class="space-y-8">
            <h2 class="text-2xl font-black text-slate-800 mb-8 border-b pb-2">심층 해설</h2>

            <!-- Card 1 -->
            <section class="bg-rose-50 border border-rose-100 p-8 rounded-3xl relative overflow-hidden group transition-all hover:shadow-lg">
                <div class="absolute -right-4 -top-4 w-24 h-24 bg-rose-200/20 rounded-full group-hover:scale-110 transition-transform"></div>
                <h3 class="text-rose-800 font-black text-xl mb-4 flex items-center gap-2">
                    1. 자유의지와 타락의 가능성
                </h3>
                <div class="text-rose-900/80 space-y-4">
                    <p>인류의 조상 아담과 하와는 본래 죄의 욕망이 없는 <strong class="text-rose-700">순전한 상태</strong>로 창조되었습니다. 그러나 그들은 이 무죄한 상태에 머물러 있지 않고 하나님을 대적하는 길을 택했습니다.</p>
                    <ul class="list-disc pl-5 space-y-2">
                        <li>하나님은 인간에게 자신의 의지에 따라 행할 수 있는 <strong class="text-rose-700 font-bold">자유의지</strong>를 부여하셨습니다.</li>
                        <li>하나님은 전능하신 능력으로 타락을 강제로 막지 않으시고, 인간이 지혜로운 선택을 하도록 허락하셨습니다.</li>
                        <li>결과적으로 인간은 자신의 자유를 오용하여 죄를 선택함으로써 창조된 영광스러운 상태에서 타락하게 되었습니다.</li>
                    </ul>
                </div>
            </section>

            <!-- Card 2 -->
            <section class="bg-slate-100 border border-slate-200 p-8 rounded-3xl relative overflow-hidden group transition-all hover:shadow-lg">
                <div class="absolute -right-4 -top-4 w-24 h-24 bg-slate-300/20 rounded-full group-hover:scale-110 transition-transform"></div>
                <h3 class="text-slate-800 font-black text-xl mb-4">
                    2. 유혹의 과정과 아담의 책임
                </h3>
                <div class="text-slate-900/80 space-y-4">
                    <p>타락은 <strong class="text-indigo-600">사탄의 유혹</strong>과 그에 굴복하여 <strong class="text-indigo-600">금지된 열매</strong>를 먹음으로써 일어났습니다. 이 과정에는 중요한 질서와 책임의 문제가 있습니다.</p>
                    <ul class="list-disc pl-5 space-y-2">
                        <li>사탄은 하나님의 명령을 직접 받은 아담 대신, 아담을 통해 명령을 전달받은 하와를 먼저 유혹하는 간계를 부렸습니다.</li>
                        <li>하와가 먼저 범죄했으나, <strong class="text-indigo-700 font-bold">아담의 책임</strong>은 더욱 막중합니다. 그는 하나님께 직접 명령을 받았으며, 하와를 보호하고 죄를 막아야 할 위치에 있었기 때문입니다.</li>
                        <li>아담은 사탄에게 직접 유혹받지 않았음에도 불구하고 하와의 권유에 동조함으로써 명백한 반역의 죄를 지었습니다.</li>
                    </ul>
                </div>
            </section>

            <!-- Card 3 -->
            <section class="bg-indigo-50 border border-indigo-100 p-8 rounded-3xl relative overflow-hidden group transition-all hover:shadow-lg">
                <div class="absolute -right-4 -top-4 w-24 h-24 bg-indigo-200/20 rounded-full group-hover:scale-110 transition-transform"></div>
                <h3 class="text-indigo-800 font-black text-xl mb-4">
                    3. 타락의 결과와 역사적 사실성
                </h3>
                <div class="text-indigo-900/80 space-y-4">
                    <p>타락은 단순한 도덕적 실수가 아니라 <strong class="text-indigo-700 font-bold">관계의 단절</strong>을 가져왔습니다. 죄를 지은 즉시 아담과 하와는 하나님과의 교제를 피하고 나무 사이에 숨었습니다.</p>
                    <ul class="list-disc pl-5 space-y-2">
                        <li>이는 인간의 <strong class="text-indigo-700">양심</strong>이 스스로의 범죄를 인식하고 거룩하신 하나님에 대한 공포를 느끼게 되었음을 보여줍니다.</li>
                        <li>중요한 것은 이 사건이 <strong class="text-indigo-700">역사적 사실</strong>이라는 점입니다.</li>
                        <li>예수님께서는 결혼의 원리를 가르치실 때 창세기의 인류 창조 기록을 인용하셨으며, 바울 역시 아담과 그리스도를 대비하여 구원의 원리를 설명했습니다.</li>
                        <li>타락 사건을 신화로 치부하는 것은 기독교 구원론의 기초를 무너뜨리는 잘못된 주장입니다.</li>
                    </ul>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer class="mt-24 pb-12 text-center border-t border-slate-200 pt-8">
            <p class="text-slate-400 text-sm italic">
                교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다
            </p>
        </footer>
    </div>

    <script>
        // Global variables for parent integration
        window.player = null;
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'catechism-daily';
        const controlBtn = document.getElementById('audio-control-btn');
        const btnIcon = document.getElementById('btn-icon');
        const btnText = document.getElementById('btn-text');
        const errorMsg = document.getElementById('player-error-msg');

        // Extract YouTube ID
        function extractVideoId(url) {
            const regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/;
            const match = url.match(regExp);
            return (match && match[7].length == 11) ? match[7] : false;
        }

        // Initialize YouTube API
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        window.onYouTubeIframeAPIReady = function() {
            initAudio();
        };

        async function initAudio() {
            try {
                const response = await fetch('../address/dcaddr.txt');
                if (!response.ok) throw new Error('파일 로드 실패');
                const data = await response.text();
                
                const today = "0219"; // Current Date MMDD
                const lines = data.split('\n');
                let videoUrl = '';
                
                for (const line of lines) {
                    const trimmedLine = line.trim();
                    if (trimmedLine.startsWith(today)) {
                        videoUrl = trimmedLine.split(/\s+/)[1];
                        break;
                    }
                }

                if (!videoUrl) {
                    showError("오늘의 AI요약 음성은 아직 업로드 전입니다.");
                    return;
                }

                const videoId = extractVideoId(videoUrl);
                if (!videoId) throw new Error('ID 파싱 실패');

                window.player = new YT.Player('yt-player-hidden', {
                    height: '0',
                    width: '0',
                    videoId: videoId,
                    events: {
                        'onReady': onPlayerReady,
                        'onStateChange': onPlayerStateChange
                    }
                });
            } catch (error) {
                showError("오디오 서버에 연결할 수 없습니다.");
            }
        }

        function onPlayerReady(event) {
            controlBtn.disabled = false;
            updateUI('paused');
        }

        function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.PLAYING) {
                updateUI('playing');
            } else {
                updateUI('paused');
            }
        }

        function updateUI(state) {
            if (state === 'playing') {
                btnIcon.innerHTML = `<svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>`;
                btnText.innerText = "교리 오디오 일시정지";
                controlBtn.setAttribute('aria-label', '교리 오디오 일시정지');
            } else {
                btnIcon.innerHTML = `<svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>`;
                btnText.innerText = "교리 오디오 재생";
                controlBtn.setAttribute('aria-label', '교리 오디오 재생');
            }
        }

        function showError(msg) {
            controlBtn.classList.add('hidden');
            errorMsg.innerText = msg;
            errorMsg.classList.remove('hidden');
        }

        controlBtn.addEventListener('click', () => {
            if (!window.player) return;
            const state = window.player.getPlayerState();
            if (state == YT.PlayerState.PLAYING) {
                window.player.pauseVideo();
            } else {
                window.player.playVideo();
            }
        });
    </script>
</body>
</html>
