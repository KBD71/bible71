<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11월 9일: 성례의 의미</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 antialiased">

    <main class="max-w-3xl mx-auto p-4 sm:p-6 lg:p-8 space-y-8">
        
        <header class="text-center space-y-2">
            <div class="text-sm font-bold text-blue-600 tracking-wide uppercase">11월 9일</div>
            <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight">성례의 의미</h1>
            <p class="text-gray-500 text-sm sm:text-base">소요리문답 92, 대요리문답 162</p>
        </header>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6">
            <h2 class="text-lg font-bold text-gray-900 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2 text-red-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg>
                AI요약 듣기
            </h2>
            <div id="audio-player-container" class="aspect-video bg-gray-100 rounded-lg flex items-center justify-center relative overflow-hidden">
                <div id="player-status" class="text-gray-500 text-sm">로딩 중...</div>
                <div id="youtube-player"></div>
            </div>
            <div id="error-message" class="hidden mt-4 p-4 bg-yellow-50 text-yellow-800 rounded-lg text-sm"></div>
        </section>

        <section class="bg-white rounded-2xl shadow-lg overflow-hidden border-l-4 border-blue-600">
            <div class="p-6 sm:p-8">
                <h2 class="text-xl font-bold text-gray-900 mb-4 border-b pb-2">소요리문답 92</h2>
                <div class="prose prose-blue max-w-none text-gray-700 leading-relaxed mb-8">
                    <p>
                        <span class="font-bold text-blue-700">문92.</span> 성례란 무엇입니까?<br>
                        <span class="font-bold text-blue-700">답.</span> 성례란 그리스도께서 제정하신 거룩한 규례입니다. 이 규례는 감각할 수 있는 표지에 의해서 그리스도와 새 언약의 유익을 신자들에게 표하고, 인치고, 적용합니다.<sup>1)</sup>
                    </p>
                    <div class="mt-2 text-sm text-gray-500 bg-gray-50 p-2 rounded">
                        1) 창 17:7, 10; 출 12:1-51; 고전 11:23, 26.
                    </div>
                </div>

                <h2 class="text-xl font-bold text-gray-900 mb-4 border-b pb-2">대요리문답 162</h2>
                <div class="prose prose-blue max-w-none text-gray-700 leading-relaxed">
                    <p>
                        <span class="font-bold text-blue-700">문162.</span> 성례란 무엇입니까?<br>
                        <span class="font-bold text-blue-700">답.</span> 성례는 그리스도께서 자신의 교회에 제정하신 거룩한 규례입니다.<sup>1)</sup> 이 규례는 은혜언약 안에 있는 자들에게 중보의 유익을 표하고 인치고 적용하기 위한 것이며, 이들의 믿음과 다른 모든 은혜를 강화하고 증진하기 위한 것이며, 이들이 순종하게 하고, 이들 상호 간에 사랑과 교제를 증거하고 소중히 여기도록 하는 것이며,<sup>6)</sup> 이들을 은혜언약 밖에 있는 자들과 구별하기 위한 것입니다.<sup>8)</sup>
                    </p>
                    <div class="mt-2 text-sm text-gray-500 bg-gray-50 p-2 rounded">
                        1) 창 17:7, 10; 출 12장; 마 28:19; 26:26-28.<br>
                        2) 롬 15:8; 출 12:48.<br>
                        3) 행 2:38; 고전 10:16.<br>
                        4) 롬 4:11; 고전 11:24-25.<br>
                        5) 롬 4:11; 갈 3:27.<br>
                        6) 롬 6:3-4; 고전 10:21.<br>
                        7) 엡 4:2-5; 고전 12:13.<br>
                        8) 엡 2:11-12; 창 34:14.
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-blue-50 rounded-2xl shadow-sm border border-blue-100 p-6">
            <h3 class="text-lg font-bold text-blue-900 mb-3 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                관련 말씀
            </h3>
            <ul class="space-y-3 text-gray-700 leading-relaxed">
                <li>
                    <span class="font-semibold text-blue-800">창 17:7, 10</span> "내가 내 언약을 나와 너 및 네 대대 후손 사이에 세워서 영원한 언약을 삼고 너와 네 후손의 하나님이 되리라... 너희 중 남자는 다 할례를 받으라 이것이 나와 너희와 너희 후손 사이에 지킬 내 언약이니라"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">고전 11:23-26</span> "내가 너희에게 전한 것은 주께 받은 것이니 곧 주 예수께서 잡히시던 밤에 빵을 가지사 축사하시고 떼어 이르시되 이것은 너희를 위하는 내 몸이니 이것을 행하여 나를 기념하라 하시고..."
                </li>
                <li>
                    <span class="font-semibold text-blue-800">롬 4:11</span> "그가 할례의 표를 받은 것은 무할례시에 믿음으로 된 의를 인친 것이니 이는 무할례자로서 믿는 모든 자의 조상이 되어 그들도 의로 여기심을 얻게 하려 하심이라"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">롬 6:3-4</span> "무릇 그리스도 예수와 합하여 세례를 받은 우리는 그의 죽으심과 합하여 세례를 받은 줄을 알지 못하느냐... 아버지의 영광으로 말미암아 그리스도를 죽은 자 가운데서 살리심과 같이 우리로 또한 새 생명 가운데서 행하게 하려 함이라"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">고전 12:13</span> "우리가 유대인이나 헬라인이나 종이나 자유인이나 다 한 성령으로 세례를 받아 한 몸이 되었고 또 다 한 성령을 마시게 하셨느니라"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">엡 2:11-12</span> "그러므로 생각하라 너희는 그 때에 육체로는 이방인이요... 그 때에 너희는 그리스도 밖에 있었고 이스라엘 나라 밖의 사람이라 약속의 언약들에 대하여는 외인이요 세상에서 소망이 없고 하나님도 없는 자이더니"
                </li>
            </ul>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 sm:p-8">
            <h3 class="text-xl font-bold text-gray-900 mb-6 border-b pb-2">교리 해설</h3>
            <div class="prose prose-lg max-w-none text-gray-700 space-y-6">
                <p>
                    오늘 읽는 소요리문답 92항과 대요리문답 162항은 성례(Sacrament)의 정의와 본질에 대해 교훈합니다. 특별히 대요리문답 162항은 성례의 의미를 6가지 측면에서 풍성하게 설명하고 있는데, 오늘은 그중 세 가지를 중심으로 살펴봅니다.
                </p>

                <div class="bg-gray-50 p-5 rounded-lg border-l-4 border-gray-400">
                    <h4 class="font-bold text-gray-900 mb-2">1. "그리스도께서 자신의 교회에 제정하신 거룩한 규례입니다"</h4>
                    <p class="mb-2">
                        성례는 사람이 편의를 위해 고안한 의식이 아닙니다. 교회의 머리이신 <strong class="text-blue-600">그리스도께서 친히 명령하시고 제정하신 규례</strong>입니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>공적 성격:</strong> "자신의 교회에" 제정하셨다는 것은 성례가 사적인 모임이나 개인이 임의로 행할 수 있는 것이 아님을 뜻합니다. 성례는 반드시 교회 공동체의 공적 예배 안에서 시행되어야 합니다.</li>
                        <li><strong>엄격성:</strong> 선교 단체 수련회, 가족 모임, 학교 동아리 등에서 성찬을 행하는 것은 그리스도께서 제정하신 교회의 공적 질서를 허무는 것이므로 합당하지 않습니다.</li>
                    </ul>
                </div>

                <div class="bg-blue-50 p-5 rounded-lg border-l-4 border-blue-400">
                    <h4 class="font-bold text-gray-900 mb-2">2. "중보의 유익을 표하고 인치고 적용하기 위한 것"</h4>
                    <p class="mb-2">
                        성례는 단순한 기념이나 상징에 그치지 않고, 은혜를 전달하는 실제적인 <strong class="text-blue-600">은혜의 방편</strong>입니다. 대요리문답은 이를 세 가지 동사로 설명합니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>표하다(Signify):</strong> 성례는 눈에 보이지 않는 영적 은혜를 눈에 보이는 물질(물, 빵, 포도주)로 나타내는 '표지(Sign)'입니다. 물은 씻음을, 빵과 포도주는 그리스도의 몸과 피를 가리킵니다.</li>
                        <li><strong>인치다(Seal):</strong> 성례는 하나님께서 약속하신 구원의 은혜가 참되다는 것을 도장 찍듯 보증하는 '인(Seal)'입니다. 아브라함의 할례가 믿음의 의를 인친 것(롬 4:11)처럼, 성례는 하나님의 약속이 우리에게 확실히 적용됨을 확증합니다.</li>
                        <li><strong>적용하다/제시하다(Exhibit/Apply):</strong> 성례는 은혜를 단지 보여주는 데 그치지 않고, 믿음으로 참여하는 자에게 실제로 그 은혜를 전달합니다.</li>
                    </ul>
                </div>

                <div class="bg-yellow-50 p-5 rounded-lg border-l-4 border-yellow-400">
                    <h4 class="font-bold text-gray-900 mb-2">3. "이들 상호 간에 사랑과 교제를 증거하고 소중히 여기도록"</h4>
                    <p class="mb-2">
                        성례는 개인적 차원을 넘어 <strong class="text-blue-600">공동체적 연합</strong>을 확인하는 규례입니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>한 몸 됨의 확인:</strong> 세례를 통해 우리는 그리스도의 몸 된 교회의 지체로 받아들여지며, 성찬을 통해 한 떡에 참여함으로 우리가 한 몸임을 확인합니다.</li>
                        <li><strong>사랑의 의무:</strong> 그러므로 성례에 참여하는 자들은 서로를 그리스도 안에서 한 형제자매로 사랑하고, 그 교제를 소중히 여겨야 할 의무가 있습니다. 성례는 개인주의적 신앙을 배격하고 언약 공동체의 연합을 세웁니다.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-yellow-200 p-6">
            <h3 class="text-lg font-bold text-yellow-800 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                적용 질문
            </h3>
            <ul class="space-y-4">
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">1. 왜 성례는 개인이나 사적인 모임에서 임의로 행할 수 없고 오직 교회 안에서 시행되어야 합니까?</span>
                    <p class="text-gray-700 text-sm">그렇다면 여러분은 성례를 교회의 머리이신 그리스도께서 친히 제정하신 규례로 존중하며, 단순한 행사가 아니라 교회의 거룩한 은혜의 방편으로 받고 있습니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">2. 세례와 성찬이 단순한 표로서만이 아니라 동시에 하나님의 언약 약속을 보증하는 인이라고 할 수 있는 이유는 무엇입니까?</span>
                    <p class="text-gray-700 text-sm">그렇다면 여러분은 세례와 성찬을 받을 때 하나님께서 그리스도 안에서 주신 약속이 참되다는 사실을 확증해 주신다는 것을 신뢰하며 살아가고 있습니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">3. 왜 성례는 하나님의 언약 백성들 사이에서만 행해지는 규례이며, 교회 공동체에 속한 자들의 특권이라고 할 수 있습니까?</span>
                    <p class="text-gray-700 text-sm">그렇다면 여러분은 성례에 참여할 때 그것이 단순히 개인의 신앙 행위가 아니라, 하나님께서 교회를 언약 공동체로 세우신 은혜의 표징임을 기억하며, 교회의 지체로서 서로에게 속한 자로 살고 있습니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">4. 성례가 성도 상호 간의 사랑과 교제를 증거하고 소중히 여기도록 하는 규례라고 할 때, 이것은 성례가 본질적으로 공동체적인 은혜의 방편임을 어떻게 보여줍니까?</span>
                    <p class="text-gray-700 text-sm">그렇다면 여러분은 성례에 참여할 때 단순히 개인적으로 은혜를 받는 것에 그치지 않고, 함께 그리스도께 속한 형제로서 서로를 사랑하고 교제하며 세워가고 있습니까?</p>
                </li>
            </ul>
        </section>

        <footer class="text-center text-gray-500 text-xs sm:text-sm mt-8 pb-8">
            교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다
        </footer>
    </main>

    <script>
        // Constants
        const ADDRESS_FILE_URL = '../address/dcaddr.txt';
        const DATE_KEY = '1109'; // MMDD format for November 9th

        // State
        window.player = null;

        // DOM Elements
        const playerContainer = document.getElementById('audio-player-container');
        const playerStatus = document.getElementById('player-status');
        const errorMessage = document.getElementById('error-message');

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadVideoConfig();
        });

        async function loadVideoConfig() {
            try {
                const response = await fetch(ADDRESS_FILE_URL);
                if (!response.ok) throw new Error('주소 파일을 불러올 수 없습니다.');
                
                const text = await response.text();
                const lines = text.split('\n');
                const targetLine = lines.find(line => line.trim().startsWith(DATE_KEY));

                if (!targetLine) {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                    return;
                }

                // Extract Video ID (Assume format: MMDD url)
                const parts = targetLine.split(/\s+/);
                if (parts.length < 2) throw new Error('비디오 주소 형식이 잘못되었습니다.');
                
                const url = parts[1];
                const videoId = extractVideoId(url);

                if (!videoId) throw new Error('유효한 비디오 ID를 찾을 수 없습니다.');

                initializePlayer(videoId);

            } catch (error) {
                console.error('Configuration Error:', error);
                showError(error.message || '오디오 설정을 불러오는 중 오류가 발생했습니다.');
            }
        }

        function extractVideoId(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        function initializePlayer(videoId) {
            // Load YouTube IFrame API
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            window.onYouTubeIframeAPIReady = function() {
                player = new YT.Player('youtube-player', {
                    height: '100%',
                    width: '100%',
                    videoId: videoId,
                    playerVars: {
                        'playsinline': 1,
                        'controls': 1,
                        'modestbranding': 1
                    },
                    events: {
                        'onReady': onPlayerReady,
                        'onError': onPlayerError
                    }
                });
            };
        }

        function onPlayerReady(event) {
            playerStatus.style.display = 'none';
            const iframe = event.target.getIframe();
            iframe.setAttribute('aria-label', '교리 오디오 재생');
        }

        function onPlayerError(event) {
            showError('오디오 재생 중 오류가 발생했습니다. (YouTube Error Code: ' + event.data + ')');
        }

        function showError(message) {
            playerContainer.style.display = 'none';
            errorMessage.textContent = message;
            errorMessage.classList.remove('hidden');
        }
    </script>
</body>
</html>
