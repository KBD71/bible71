<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날마다 읽는 교리 - 12월 2일</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" as="style" crossorigin="anonymous" />
    <style>
        body {
            font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            word-break: keep-all;
            background-color: #f3f4f6;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        .card-header {
            background-color: #4a5568;
            color: white;
            padding: 1rem 1.5rem;
            font-size: 1.25rem;
            font-weight: 700;
            border-bottom: 1px solid #e5e7eb;
        }
        .card-body {
            padding: 1.5rem;
            line-height: 1.75;
        }
        .card-body h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #1f2937;
        }
        .card-body p {
            margin-bottom: 1rem;
            color: #374151;
        }
        .card-body ul {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-bottom: 1rem;
            color: #374151;
        }
        .card-body li {
            margin-bottom: 0.5rem;
        }
        .card-body .question {
            font-weight: 600;
            color: #111827;
        }
        .card-body .answer {
            color: #374151;
        }
        .audio-player-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            background-color: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }
        .audio-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 500;
            border-radius: 0.5rem;
            transition: all 0.2s ease-in-out;
            border: 1px solid transparent;
        }
        .audio-button:disabled {
            background-color: #e5e7eb;
            color: #9ca3af;
            cursor: not-allowed;
        }
        .audio-button.play {
            background-color: #2563eb;
            color: white;
        }
        .audio-button.play:hover {
            background-color: #1d4ed8;
        }
        .audio-button.pause {
            background-color: #f87171;
            color: white;
        }
        .audio-button.pause:hover {
            background-color: #ef4444;
        }
        .audio-error {
            color: #dc2626;
            font-weight: 500;
            text-align: center;
        }
        #player-container {
            width: 1px;
            height: 1px;
            opacity: 0;
            position: absolute;
            top: -100px;
            left: -100px;
        }
        footer {
            text-align: center;
            padding: 2rem 1rem;
            font-size: 0.875rem;
            color: #6b7280;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="container mx-auto max-w-3xl px-4 py-8 sm:py-12">

        <header class="mb-8 text-center">
            <h1 class="text-4xl font-bold text-gray-800">12월 2일</h1>
            <p class="text-xl text-gray-600 mt-2">121/ · 일</p>
        </header>

        <main>
            <div class="card">
                <div class="card-header">
                    신앙고백서 29.5
                </div>
                <div class="card-body">
                    <p class="answer">외적요소와그것이 의미하는것의 성례전적 판계 신앙고백서 29.5 이 성례의 외적 요소들은 그리스도께서 제정하신 용도 를 위해 합당하게 구별될 때, 십자가에 달려 죽으신 그 리스도와 관계된다. 이 관계에 따라 종종 이 요소들은, 참으로 그러나 성례전적으로만, 이 요소들이 나타내는 실체의 이름, 즉 그리스도의 몸과 피로 불린다? 그럼에 도 이 요소들은 실체와 본질에 있어서 전과 같이, 참으 로 그리고 오직, 여전히 빵과 포도주 그대로이다.2) 1) 마 26:26-28. 2) 고전 11:26-28; 마 26:29. ‘</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    AI요약 듣기
                </div>
                <div class="audio-player-container" id="audio-player-ui">
                    <div id="player-container"></div>
                    <button id="audio-button" class="audio-button play" aria-label="교리 오디오 재생" disabled>
                        <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2">
                            <path fill-rule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z" clip-rule="evenodd" />
                        </svg>
                        <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2" style="display: none;">
                            <path fill-rule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z" clip-rule="evenodd" />
                        </svg>
                        <span id="button-text">로딩 중...</span>
                    </button>
                    <div id="audio-error" class="audio-error mt-4" style="display: none;"></div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    교리 해설
                </div>
                <div class="card-body">
                    <p>오늘 읽는 신앙고백서 29.5은, 11월 11일에 살핀 신앙고백서 27.2과 대요리문답 163항에서 진술하고 있는 “성례전적 연합"(sacramental union)을 
성찬의 규례에 맞추어 구체적으로 교훈합니다. 본문의 내용을 크게 두 부 
분으로 나누어 살펴보겠습니다. 
(1) “이 성례의 외적 요소들은 그리스도께서 제정하신 용도를 위해 합당하 
게 구별될 때, 십자가에 달려 죽으신 그리스도와 관계된다. 이 관계에 따라 
종종 이 요소들은, 참으로 그러나 성례전적으로만, 이 요소들이 나타내는 
실체의 이름 죽 그리스도의 몸과 피로 불린다”: 성례의 외적 요소들이란 대요리문답 163항에서 언급한 성례의 두 구성 부분 가운데 외적이고 감각적 
인 표지를 말합니다. 다른 구성 부분은 이 외적 요소가 나타내는 내적이고 
영적인 은혜입니다. 여기서 외적 요소는 성찬의 경우 빵과 포도주를 가리 
킵니다. 이러한 외적 요소들은 “그리스도께서 제정하신 용도를 위해 합당 
하게 구별될 때,” 단지 빵과 포도주라는 일상 음식이 아니라 십자가에 달려 
죽으신 그리스도와 연결되는 효력을 지닌 표징이 됩니다. 그리고 이러한 효 
력으로 말미암아 외적 요소인 빵과 포도주는 성찬에서 그것들이 표지하는 
실체의 이름, 죽 그리스도의 몸과 피로 불립니다. 이것은 합당하게 구별된 
외적 요소와 그것이 표지하는 내적이고 영적인 은혜 사이에 성례전적 연합, 
곧 영적 관계가 주어지기 때문입니다. 이러한 성례전적 연합은 표지와 실체 
가 구별되지만 분리되지 않는 관계를 형성합니다. 
오늘 읽는 신앙고백서 29.5은 이러한 관계에 따라 "참으로 그러나 성례전 
적으로만" 그리스도의 몸과 피라고 불린다고 진술합니다. "참으로”라는 말 
은 빵과 포도주가 그리스도의 몸과 피라고 불리는 일이 단지 비유나 상징 
에 불과한 이름으로 이해되어서는 안 된다는 점을 강조합니다. 이는 소위 
단순 기념설(Mere Memo rialism) 의 오류를 배격하는 것입니다. "참...</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    적용 질문
                </div>
                <div class="card-body">
                    <ul>
                        <li><span class="question">루터파가 이해하는 성례전적 연합에서 그리스도의 몸과 피가 수찬자의</span></li>
<li><span class="question">믿음과 상관없이 실제로 먹히고 마신다고 할 때, 그것은 성찬의 효력을 어</span></li>
<li><span class="question">떻게 설명합니까? 여러분은 성찬을 받을 때 믿음이 없는 자도 동일한 은혜</span></li>
<li><span class="question">를 받는다고 생각하지 않으시며, 오직 믿음을 통해서만 그리스도의 구속의</span></li>
<li><span class="question">은혜가 실제로 전달된다는 진리를 확신하고 계십니까?</span></li>
<li><span class="question">개혁신학이 이해하는 성례전적 연합에서 오직 믿음으로 받는 수찬자</span></li>

                    </ul>
                </div>
            </div>
        </main>

        <footer>
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
        </footer>

    </div>

    <script>
        let player;
        let videoId = null;
        let isPlayerReady = false;
        let isPlaying = false;
        const audioButton = document.getElementById('audio-button');
        const buttonText = document.getElementById('button-text');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const errorContainer = document.getElementById('audio-error');

        function loadYouTubeAPI() {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }

        function onYouTubeIframeAPIReady() {
            fetchAudioAddress();
        }

        async function fetchAudioAddress() {
            try {
                const response = await fetch('../address/dcaddr.txt');
                if (!response.ok) {
                    throw new Error('오디오 목록 파일을 불러오는 데 실패했습니다.');
                }
                const text = await response.text();
                const lines = text.split('\n');
                const today = '1202';
                const todayLine = lines.find(line => line.startsWith(today));

                if (todayLine) {
                    const regex = /(?:v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                    const match = todayLine.match(regex);
                    if (match && match[1]) {
                        videoId = match[1];
                        initializePlayer();
                    } else {
                        throw new Error('오늘 날짜의 오디오 주소 형식이 올바르지 않습니다.');
                    }
                } else {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                }
            } catch (error) {
                console.error('Error fetching audio address:', error);
                showError(error.message || '오디오를 불러오는 중 오류가 발생했습니다.');
            }
        }

        function initializePlayer() {
            player = new YT.Player('player-container', {
                height: '1',
                width: '1',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1,
                    'controls': 0,
                  'showinfo': 0,
                    'rel': 0
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            isPlayerReady = true;
            audioButton.disabled = false;
            buttonText.textContent = 'AI요약 듣기';
            audioButton.setAttribute('aria-label', '교리 오디오 재생');
            audioButton.addEventListener('click', togglePlayPause);
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                isPlaying = true;
                updateButtonUI(true);
            } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                isPlaying = false;
                updateButtonUI(false);
                if (event.data === YT.PlayerState.ENDED) {
                    player.seekTo(0);
                }
            }
        }

        function togglePlayPause() {
            if (!isPlayerReady) return;
            if (isPlaying) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }

        function updateButtonUI(playing) {
            if (playing) {
                audioButton.classList.remove('play');
                audioButton.classList.add('pause');
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'inline';
                buttonText.textContent = '일시정지';
                audioButton.setAttribute('aria-label', '교리 오디오 일시정지');
            } else {
                audioButton.classList.remove('pause');
                audioButton.classList.add('play');
                playIcon.style.display = 'inline';
                pauseIcon.style.display = 'none';
                buttonText.textContent = 'AI요약 듣기';
                audioButton.setAttribute('aria-label', '교리 오디오 재생');
            }
        }

        function showError(message) {
            const button = document.getElementById('audio-button');
            if (button) {
                button.style.display = 'none';
            }
            errorContainer.textContent = message;
            errorContainer.style.display = 'block';
        }

        loadYouTubeAPI();
    </script>

</body>
</html>