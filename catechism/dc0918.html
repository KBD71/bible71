<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9월 18일: '주님께서 가르치신 기도'의 머리말</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .infographic-card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s ease-in-out;
        }
        .infographic-card:hover {
            transform: translateY(-5px);
        }
        .card-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 3rem;
            height: 3rem;
            border-radius: 9999px;
            margin-bottom: 1rem;
            background-color: #eef2ff; /* indigo-100 */
        }
        .card-icon svg {
            width: 1.75rem;
            height: 1.75rem;
            color: #4f46e5; /* indigo-600 */
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">

        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-2">'주님께서 가르치신 기도'의 머리말</h1>
            <p class="text-md sm:text-lg text-gray-600 mb-4">"하늘에 계신 우리 아버지여"라는 머리말은, 우리가 하나님의 자녀 된 권리를 확신하며 경외심과 담대함으로 나아가고, 또한 다른 이들과 함께, 그들을 위해 기도해야 함을 가르칩니다.</p>
            <button id="audio-toggle" class="bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-300 inline-flex items-center space-x-2">
                <svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                </svg>
                <span id="audio-text">AI 요약</span>
            </button>
        </header>

        <main class="grid grid-cols-1 md:grid-cols-2 gap-6">

            <section class="infographic-card md:col-span-2">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v11.494m0 0a7.5 7.5 0 101.5-11.494A7.5 7.5 0 0012 17.747zM12 6.253v11.494a7.5 7.5 0 01-1.5-11.494A7.5 7.5 0 0112 6.253z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">대요리문답 제189문</h3>
                <div class="text-gray-700 space-y-2">
                    <p class="font-semibold">문: '주님의 기도'의 머리말은 무엇을 가르칩니까?</p>
                    <p>답: "하늘에 계신 우리 아버지여"라는 머리말이 가르치는 것은 우리가 기도할 때, 하나님의 부성적 선하심과 이에 대한 우리의 권리를 확신하며, 경외심과 어린아이 같은 모든 태도와 하늘을 소망하는 열정과 그분의 주권적 능력, 엄위, 그리고 은혜로운 낮아지심에 대한 바른 이해를 가지고 하나님께 가까이 나아가야 할 것을 가르칩니다. 또한 우리가 다른 사람들과 함께 그리고 그들을 위하여 기도해야 한다는 것을 가르칩니다.</p>
                </div>
            </section>

            <section class="infographic-card">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-1.08-5.857A4.5 4.5 0 0 0 11.25 6.75v1.5a3.75 3.75 0 0 0 7.5 0v-1.5a4.5 4.5 0 0 0-4.5-4.5H6.75A4.5 4.5 0 0 0 2.25 15Z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">기도의 대상: 하늘에 계신 아버지</h3>
                <p class="text-gray-700">"하늘에 계신"이라는 표현은 세상을 초월하신 하나님의 존엄과 위엄, 모든 것을 다스리시는 권세와 능력을 상기시킵니다. 동시에 "우리 아버지"는 그리스도 안에서 하나님의 자녀가 된 우리가 누리는 특권적인 관계를 보여줍니다. 우리는 경외심과 겸손함으로 그분께 나아갑니다.</p>
            </section>

            <section class="infographic-card">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">자녀의 권리와 확신</h3>
                <p class="text-gray-700">하나님의 '부성적 선하심'을 믿기에 우리는 담대히 나아갈 수 있습니다. 이 담대함은 우리의 자격이 아닌, 그리스도의 공로로 주어진 '자녀의 신분'에 근거합니다. 그러므로 죄책감 때문에 기도를 주저하거나 회피해서는 안 되며, 오히려 자녀를 사랑하시는 아버지가 가장 선한 것으로 응답하실 것을 확신해야 합니다.</p>
            </section>
            
            <section class="infographic-card">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">기도의 바른 자세</h3>
                <p class="text-gray-700">하나님을 아버지라 부르는 담대함이 경박함으로 이어져선 안됩니다. 우리는 항상 다음과 같은 자세를 가져야 합니다: ① 존엄하신 주권자에 대한 **경외심**, ② 아버지를 신뢰하고 의존하는 **어린아이 같은 태도**, ③ 세상의 염려를 넘어 하나님께 집중하는 **하늘을 소망하는 열정**.</p>
            </section>

            <section class="infographic-card">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m-7.5-2.962A3 3 0 0 1 6 13.5a3 3 0 0 1 3-3h.008v.008h-.008a3 3 0 0 1 0 6H9m-3 3.75a3 3 0 0 1-6 0v-1.5a3 3 0 0 1 3-3h.008v.008h-.008a3 3 0 0 1 0 6H6m6 3.75a3 3 0 0 1-6 0v-1.5a3 3 0 0 1 3-3h.008v.008h-.008a3 3 0 0 1 0 6H9m6-12.75a3 3 0 0 1-6 0v-1.5a3 3 0 0 1 3-3h.008v.008h-.008a3 3 0 0 1 0 6H9" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">함께 드리는 기도: "우리"</h3>
                <p class="text-gray-700">하나님은 '나'만의 아버지가 아닌 "**우리**" 아버지이십니다. 이는 우리가 홀로가 아니라 교회 공동체에 속해 있음을 의미합니다. 따라서 우리의 기도는 개인적인 것을 넘어, 다른 성도들과 한마음으로 연합하여 드리는 것이며, 서로의 형편을 위해 중보하는 기도(도고)여야 합니다.</p>
            </section>

            <section class="infographic-card md:col-span-2">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">적용 질문</h3>
                <ol class="list-decimal list-inside text-gray-700 space-y-2">
                    <li>우리는 "하늘에 계신 우리 아버지여"라는 머리말을 통해 하나님의 성품들과 권능에 대하여 어떤 인식을 가져야 합니까?</li>
                    <li>하나님의 "부성적 선하심"과 그에 대한 우리의 "자녀 된 권리"를 확신해야 한다는 말은 무엇을 뜻하며, 그것의 근거는 무엇입니까?</li>
                    <li>여러분은 기도할 때 하나님의 크심과 거룩하심을 인식하며 경외하는 마음으로 나아가십니까? 아니면 하나님을 너무 가볍게 대하거나, 친근함만을 강조하여 경박한 태도를 보이시진 않습니까?</li>
                    <li>여러분은 자신의 죄책감 때문에 기도하는 일을 피하거나 주저한 적이 있습니까? 그렇다면 그 이유는 무엇이며, 하나님의 부성적 선하심과 그리스도 안에서 주어진 자녀의 권리를 어떻게 다시 확신할 수 있을까요?</li>
                </ol>
            </section>

        </main>

        <footer class="text-center mt-8 text-sm text-gray-500">
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다.</p>
        </footer>
    </div>

    <div id="player" class="hidden"></div>

    <script>
        // 1. YouTube IFrame Player API 비동기 로드
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        var videoId = null;

        const audioToggleButton = document.getElementById('audio-toggle');
        const audioIcon = document.getElementById('audio-icon');
        const audioText = document.getElementById('audio-text');
        
        const playIconSVG = `<svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" /></svg>`;
        const pauseIconSVG = `<svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" /></svg>`;

        // 2. YouTube 플레이어 생성 함수
        function createPlayer(videoId) {
            player = new YT.Player('player', {
                height: '0',
                width: '0',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }
        
        // 3. API 로드 완료 후 실행될 콜백 (API가 자동으로 호출)
        function onYouTubeIframeAPIReady() {
            // 이 함수는 API가 로드되면 자동으로 호출됩니다.
        }

        // 4. 플레이어 준비 완료 시 실행
        function onPlayerReady(event) {
            event.target.playVideo();
        }

        // 5. 플레이어 상태 변경 시 실행 (재생, 일시정지 등)
        function onPlayerStateChange(event) {
            switch(event.data) {
                case YT.PlayerState.PLAYING:
                    audioText.textContent = '일시정지';
                    audioIcon.innerHTML = pauseIconSVG;
                    break;
                case YT.PlayerState.PAUSED:
                    audioText.textContent = 'AI 요약';
                    audioIcon.innerHTML = playIconSVG;
                    break;
                case YT.PlayerState.ENDED:
                    audioText.textContent = 'AI 요약';
                    audioIcon.innerHTML = playIconSVG;
                    player.seekTo(0);
                    player.stopVideo();
                    break;
            }
        }
        
        // 6. 비디오 ID 추출 함수
        function extractVideoId(url) {
            if (!url) return null;
            const regex = /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/;
            const match = url.match(regex);
            return match ? match[1] : null;
        }

        // 7. 페이지 로드 완료 후 버튼에 이벤트 리스너 추가
        document.addEventListener('DOMContentLoaded', () => {
            audioToggleButton.addEventListener('click', async () => {
                if (!player) {
                    try {
                        const response = await fetch('../address/0918.txt');
                        if (!response.ok) {
                            throw new Error('file not found');
                        }
                        
                        const fullUrl = await response.text();
                        if (!fullUrl.trim()) {
                            alert('유효한 오디오 주소가 파일에 없습니다.');
                            return;
                        }
                        
                        videoId = extractVideoId(fullUrl);
                        if (!videoId) {
                            alert('유효한 YouTube URL이 아닙니다.');
                            return;
                        }

                        createPlayer(videoId);

                    } catch (error) {
                        if (error.message === 'file not found') {
                            alert('아직 업로드 전입니다.');
                        } else {
                            console.error('오디오 파일 로드 오류:', error);
                        }
                    }
                } else {
                    const playerState = player.getPlayerState();
                    if (playerState === YT.PlayerState.PLAYING) {
                        player.pauseVideo();
                    } else {
                        player.playVideo();
                    }
                }
            });
        });
    </script>
</body>
</html>
