<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날마다 읽는 교리 - 12월 10일</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" as="style" crossorigin="anonymous" />
    <style>
        body {
            font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            word-break: keep-all;
            background-color: #f3f4f6;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        .card-header {
            background-color: #4a5568;
            color: white;
            padding: 1rem 1.5rem;
            font-size: 1.25rem;
            font-weight: 700;
            border-bottom: 1px solid #e5e7eb;
        }
        .card-body {
            padding: 1.5rem;
            line-height: 1.75;
        }
        .card-body h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #1f2937;
        }
        .card-body p {
            margin-bottom: 1rem;
            color: #374151;
        }
        .card-body ul {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-bottom: 1rem;
            color: #374151;
        }
        .card-body li {
            margin-bottom: 0.5rem;
        }
        .card-body .question {
            font-weight: 600;
            color: #111827;
        }
        .card-body .answer {
            color: #374151;
        }
        .audio-player-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            background-color: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }
        .audio-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 500;
            border-radius: 0.5rem;
            transition: all 0.2s ease-in-out;
            border: 1px solid transparent;
        }
        .audio-button:disabled {
            background-color: #e5e7eb;
            color: #9ca3af;
            cursor: not-allowed;
        }
        .audio-button.play {
            background-color: #2563eb;
            color: white;
        }
        .audio-button.play:hover {
            background-color: #1d4ed8;
        }
        .audio-button.pause {
            background-color: #f87171;
            color: white;
        }
        .audio-button.pause:hover {
            background-color: #ef4444;
        }
        .audio-error {
            color: #dc2626;
            font-weight: 500;
            text-align: center;
        }
        #player-container {
            width: 1px;
            height: 1px;
            opacity: 0;
            position: absolute;
            top: -100px;
            left: -100px;
        }
        footer {
            text-align: center;
            padding: 2rem 1rem;
            font-size: 0.875rem;
            color: #6b7280;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="container mx-auto max-w-3xl px-4 py-8 sm:py-12">

        <header class="mb-8 text-center">
            <h1 class="text-4xl font-bold text-gray-800">12월 10일</h1>
            <p class="text-xl text-gray-600 mt-2">121/ 10일</p>
        </header>

        <main>
            <div class="card">
                <div class="card-header">
                    대요리문답 175
                </div>
                <div class="card-body">
                    <p class="answer">대요리문답 175: 175. 주의만찬을받은후에그리스도인이행할의무는 무엇입니까? 답. 주의 만찬을 받은 후에 그리스도인은 주의 만 찬에서 어떻게 행하였으며. 어떤 결과가 있었는지 신중 히 생각해야 합니다.1) 만일 소생함과 위로를 받았으면 하나님을 찬송하고전 은혜의 지속을 간구하며,3) 이 은 혜에서 다시 떨어지지 않도록 주의하고,4) 서원한 것을 시행하며,5) 성찬에 자주 참여하도록 힘써야만 합니다.6) 그러나 당장 아무런 유익을 얻지 못했다면, 자신이 이 성례를 어떻게 준비했고 어떤 태도로 입했는지 더 면밀 하게 돌아봐야 합니다? 만일 이들이 이 두 가지에서 하 나님 앞과 자신의 양심에 비추어 떳떳하다면, 적절한 ‘</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    AI요약 듣기
                </div>
                <div class="audio-player-container" id="audio-player-ui">
                    <div id="player-container"></div>
                    <button id="audio-button" class="audio-button play" aria-label="교리 오디오 재생" disabled>
                        <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2">
                            <path fill-rule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z" clip-rule="evenodd" />
                        </svg>
                        <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2" style="display: none;">
                            <path fill-rule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z" clip-rule="evenodd" />
                        </svg>
                        <span id="button-text">로딩 중...</span>
                    </button>
                    <div id="audio-error" class="audio-error mt-4" style="display: none;"></div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    교리 해설
                </div>
                <div class="card-body">
                    <p>오늘 읽는 대요리문답 175항은 성찬식에 참여한 후, 성찬을 통해 받은 은 
혜를 지속적으로 유지해야 할 성도의 의무를 교훈합니다. 만일 아무런 유 
익을 얻지 못했다면, 자신의 성찬 참여 태도가 어떠했는지를 살피고 더욱 
부지런히 성찬에 참여해야 하며, 은혜의 때를 기다리며 성찬의 은혜를 간 
구해야 함을 가르칩니다. 본 문답의 교훈은 크게 네 가지 내용으로 살펴볼 
수있습니다. 
(1) “주의 만찬을 받은 후에 그리스도인은 주의 만찬에서 어떻게 행하였으 
며, 어떤 결과가 있었는지 신중히 생각해야 합니다”: 성찬은 단순히 참여하 
는 것으로 그 목적과 요구를 이루는 외적인 의식이 아닙니다. 성찬은 성례 
전적 연합을 통해, 빵과 포도주가 표지하는 그리스도의 몸과 피를 믿음으 
로 먹고 마시는 은혜를 받는 영적 양식입니다. 이것은 하늘로부터 내리시는 
그리스도의 은혜를 받고, 우리 마음을 그리스도께로 올려드려 그분과 연합 
하는 신비로운 은혜의 수단입니다. 
따라서 성찬을 받은 후에는 자신이 이러한 영적 양식을 받기에 합당한 믿 
음으로 성찬에 참여하였는지를 살펴야 합니다. 또 성찬에서 받은 은혜를 
감사하면서, 다시 그리스도의 은혜를 구하며 성찬을 통해 누리는 연속적이 
고 순환적인 은혜의 간구가 자신에게 있었는지를 점검해야 합니다. 구체적 
으로 이러한 ‘성찬 후의 자기 점검’(probatio post sacrum)은 자신이 참된 
지식과 믿음으로 성찬을 알고 믿었는지, 또한 회개와 사랑의 열매를 맺고 
있는지를 확인하는 것입니다. 이는 수찬자가 스스로 돌아보며, 자신이 어떠 
한 마음으로 이 복된 성찬의 자리에 나아왔는지롤 진지하게 생각하는 일 
올요구합니다. 
성찬 후의 자기 점검에 대한 교훈이 필요한 이유는, 성찬이 한 번의 행위로 
끝나는 것이 아니기 때문입니다. 그리스도께서는 성찬 규례를 제정하실 때, 
성도로 하여금 지속적으로 행함으로써 그리스도의 중보의 유익을 새기고, 
영적 양식을 받아 주님과의 ...</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    적용 질문
                </div>
                <div class="card-body">
                    <ul>
                        <li><span class="question">성찬은 단순히 참여하는 의식이 아니라 신자가 그리스도의 은혜에 참</span></li>
<li><span class="question">예하는 거룩한 수단입니다. 여러분은 성찬 후에 자신이 어떤 마음으로 참</span></li>
<li><span class="question">여했는지를 돌아보며, 그 자리를 통해 하나님께서 주신 은혜를 어떻게 감사</span></li>
<li><span class="question">하고 지켜가고 있습니까?</span></li>
<li><span class="question">성찬을 통해 위로와 영적 소생을 경험한 신자는 그 은혜가 오래 지속</span></li>
<li><span class="question">되도록 힘써야 합니다. 여러분은 하나님께 받은 은혜를 찬송과 감사로 표현</span></li>

                    </ul>
                </div>
            </div>
        </main>

        <footer>
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
        </footer>

    </div>

    <script>
        let player;
        let videoId = null;
        let isPlayerReady = false;
        let isPlaying = false;
        const audioButton = document.getElementById('audio-button');
        const buttonText = document.getElementById('button-text');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const errorContainer = document.getElementById('audio-error');

        function loadYouTubeAPI() {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }

        function onYouTubeIframeAPIReady() {
            fetchAudioAddress();
        }

        async function fetchAudioAddress() {
            try {
                const response = await fetch('../address/dcaddr.txt');
                if (!response.ok) {
                    throw new Error('오디오 목록 파일을 불러오는 데 실패했습니다.');
                }
                const text = await response.text();
                const lines = text.split('\n');
                const today = '1210';
                const todayLine = lines.find(line => line.startsWith(today));

                if (todayLine) {
                    const regex = /(?:v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                    const match = todayLine.match(regex);
                    if (match && match[1]) {
                        videoId = match[1];
                        initializePlayer();
                    } else {
                        throw new Error('오늘 날짜의 오디오 주소 형식이 올바르지 않습니다.');
                    }
                } else {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                }
            } catch (error) {
                console.error('Error fetching audio address:', error);
                showError(error.message || '오디오를 불러오는 중 오류가 발생했습니다.');
            }
        }

        function initializePlayer() {
            player = new YT.Player('player-container', {
                height: '1',
                width: '1',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1,
                    'controls': 0,
                  'showinfo': 0,
                    'rel': 0
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            isPlayerReady = true;
            audioButton.disabled = false;
            buttonText.textContent = 'AI요약 듣기';
            audioButton.setAttribute('aria-label', '교리 오디오 재생');
            audioButton.addEventListener('click', togglePlayPause);
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                isPlaying = true;
                updateButtonUI(true);
            } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                isPlaying = false;
                updateButtonUI(false);
                if (event.data === YT.PlayerState.ENDED) {
                    player.seekTo(0);
                }
            }
        }

        function togglePlayPause() {
            if (!isPlayerReady) return;
            if (isPlaying) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }

        function updateButtonUI(playing) {
            if (playing) {
                audioButton.classList.remove('play');
                audioButton.classList.add('pause');
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'inline';
                buttonText.textContent = '일시정지';
                audioButton.setAttribute('aria-label', '교리 오디오 일시정지');
            } else {
                audioButton.classList.remove('pause');
                audioButton.classList.add('play');
                playIcon.style.display = 'inline';
                pauseIcon.style.display = 'none';
                buttonText.textContent = 'AI요약 듣기';
                audioButton.setAttribute('aria-label', '교리 오디오 재생');
            }
        }

        function showError(message) {
            const button = document.getElementById('audio-button');
            if (button) {
                button.style.display = 'none';
            }
            errorContainer.textContent = message;
            errorContainer.style.display = 'block';
        }

        loadYouTubeAPI();
    </script>

</body>
</html>