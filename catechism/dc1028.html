<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10월 28일 | 성도의 교제에 대한 오해</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto max-w-4xl px-4 py-8">

        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-900">10월 28일</h1>
            <p class="text-xl text-gray-600 mt-2">성도의 교제에 대한 오해</p>
        </header>

        <section id="audio-player-section" class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-semibold mb-4">AI요약 듣기</h2>
            <div id="player-ui" class="flex items-center space-x-4">
                <button id="play-pause-button" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full w-28 transition-opacity duration-300" aria-label="교리 오디오 재생/일시정지" disabled>
                    로딩 중...
                </button>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full" style="width: 0%"></div>
                </div>
            </div>
            <div id="player" class="hidden"></div>
            <div id="error-message" class="hidden text-red-500 mt-4"></div>
        </section>
        
        <section class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-semibold mb-4 text-blue-800">신앙고백서 26.3</h2>
            <div class="space-y-4 text-lg leading-relaxed">
                <p>그리스도와 함께하는 이 교제로 말미암아 성도가 어떤 식으로든 그리스도의 신적 본질에 참여하거나, 또는 어떤 점에서든 그리스도와 동등해지는 것은 결코 아니다. 이 두 주장은 다 불경건하며 신성모독이다. 또한 성도로서 서로 교제한다고 하여 각 사람의 재산과 소유에 대한 사적 소유권을 빼앗거나 침해해서는 안 된다.</p>
            </div>
        </section>

        <section class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-semibold mb-4 text-blue-800">교리 해설</h2>
            <div class="space-y-6 text-lg leading-relaxed">
                <p>
                    신앙고백서 26.3은 성도의 교제를 오해하여 발생할 수 있는 두 가지 심각한 오류를 경계합니다. 하나는 그리스도와의 연합을 신비주의적으로 오해하는 것이고, 다른 하나는 물질 나눔을 공산주의적으로 오해하는 것입니다.
                </p>
                
                <div>
                    <strong class="text-xl block text-gray-900">(1) 그리스도와의 연합에 대한 오해: 신성모독</strong>
                    <div class="pl-4 mt-2 space-y-3 border-l-4 border-blue-100">
                        [cite_start]<p>성도가 그리스도와 연합한다는 것은 <strong class="text-blue-600">법적, 언약적으로</strong> 그분의 구속 사역에 연결되는 것을 의미합니다. [cite: 88] [cite_start]즉, 그리스도의 죽음이 나의 죽음으로, 그분의 부활이 나의 부활로 간주되는 것입니다. [cite: 89] [cite_start]그러나 이 연합은 결코 성도가 하나님의 신적 본질에 참여하거나, 그분과 동등해지는 것을 의미하지 않습니다. [cite: 92] [cite_start]창조주와 피조물 사이의 존재론적 차이는 무너지지 않습니다. [cite: 95] [cite_start]성도가 하나님이 된다고 주장하는 것은 불경건하며 신성모독적인 죄입니다. [cite: 96]</p>
                        [cite_start]<p>베드로후서 1장 4절의 “신성한 성품에 참여하는 자”라는 표현은, 하나님의 본질에 참여한다는 뜻이 아니라, 성령의 은혜로 하나님의 거룩, 사랑, 의와 같은 성품을 닮아가는 <strong class="text-blue-600">성화(聖化)</strong>를 의미합니다. [cite: 98, 99, 101]</p>
                    </div>
                </div>

                <div>
                    <strong class="text-xl block text-gray-900">(2) 물질 나눔에 대한 오해: 사적 소유권 침해</strong>
                    <div class="pl-4 mt-2 space-y-3 border-l-4 border-blue-100">
                        [cite_start]<p>성도의 교제는 물질 나눔을 포함하지만, 이는 전적으로 <strong class="text-blue-600">자발적인 사랑</strong>에서 비롯되어야 합니다. [cite: 103] [cite_start]바울 사도 역시 헌금을 권면할 때 “인색함으로나 억지로 하지 말지니 하나님은 즐겨 내는 자를 사랑하시느니라”(고후 9:7)고 강조했습니다. [cite: 104]</p>
                        [cite_start]<p>따라서 성도의 교제는 개인의 사적 소유권을 폐지하거나 침해하는 것을 의미하지 않습니다. [cite: 105] [cite_start]종교개혁 당시 일부 급진 재침례파는 사도행전 2장 44-45절을 근거로 사유재산 폐지를 주장했으나, 이는 성경을 왜곡한 것입니다. [cite: 110] [cite_start]성경이 가르치는 바는 소유권의 폐지가 아니라, 모든 소유를 하나님의 것으로 여기는 <strong class="text-blue-600">청지기</strong>의 자세로 올바르게 사용하는 것입니다. [cite: 111]</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold mb-4 text-blue-800">적용 질문</h2>
            <ol class="list-decimal list-inside space-y-4 text-lg leading-relaxed">
                <li>성도가 그리스도와 연합한다는 것은 무엇을 의미합니까? [cite_start]우리는 그 연합을 단순히 신비적인 체험으로 오해하지 않고, 성령의 은혜로 그리스도의 구속 사역에 언약적으로 연결되는 것으로 이해하며 실제 삶에서 그 은혜를 누려야 하지 않습니까? [cite: 113]</li>
                <li>왜 그리스도와의 연합이 하나님의 본질에 참여하거나 그리스도와 동등해지는 것을 뜻하지 않는다고 말합니까? [cite_start]우리는 연합을 통해 창조주와 피조물의 경계가 무너지지 않음을 기억하고, 겸손히 은혜를 받아 살아야 하지 않습니까? [cite: 114, 115]</li>
                <li>베드로후서 1:4에서 말하는 "신의 성품에 참여한다"라는 표현은 어떤 의미입니까? [cite_start]우리는 이 구절을 하나님의 본질을 공유하는 것으로 오해하지 않고, 성령의 은혜로 하나님의 거룩과 사랑과 의와 선을 닮아가는 성화의 길로 나아가야 하지 않습니까? [cite: 116, 117]</li>
                <li>성도의 교제 가운데 물질적 나눔은 왜 개인의 소유권을 부정하는 것이 아니라고 말합니까? [cite_start]우리는 재산을 폐지하거나 강제로 공유하는 잘못을 피하고, 청지기로서 자발적이고 기쁨으로 이웃을 돕는 사랑의 나눔을 실천해야 하지 않습니까? [cite: 119, 120]</li>
            </ol>
        </section>

        <footer class="text-center mt-8 text-sm text-gray-500">
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
        </footer>

    </div>

   <script>
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        let player;
        let progressInterval;
        const playPauseButton = document.getElementById('play-pause-button');
        const progressBar = document.getElementById('progress-bar');
        const errorMessageDiv = document.getElementById('error-message');
        const playerUi = document.getElementById('player-ui');

        function onYouTubeIframeAPIReady() {
            loadVideoForToday();
        }

        async function loadVideoForToday() {
            try {
                const response = await fetch('../address/dcaddr.txt');
                if (!response.ok) {
                    throw new Error('Audio address file could not be loaded.');
                }
                const data = await response.text();
                const lines = data.split('\n');
                
                const todayKey = '1028';

                // --- 수정된 부분 시작 ---
                // '1021'로 시작하는 줄을 찾습니다 (공백이나 '=' 모두 처리).
                const todayLine = lines.find(line => line.trim().startsWith(todayKey));
                
                if (!todayLine) {
                    throw new Error('not_uploaded');
                }

                // 날짜(키) 부분을 제외하고 나머지(URL)를 추출합니다.
                let url = todayLine.substring(todayKey.length).trim();
                // 맨 앞에 '=' 문자가 있다면 제거합니다.
                if (url.startsWith('=')) {
                    url = url.substring(1).trim();
                }
                // --- 수정된 부분 끝 ---

                const videoId = extractVideoID(url);

                if (!videoId) {
                    // URL은 찾았으나 비디오 ID 추출에 실패한 경우
                    throw new Error('Invalid YouTube URL in dcaddr.txt');
                }
                
                player = new YT.Player('player', {
                    height: '0',
                    width: '0',
                    videoId: videoId,
                    playerVars: {
                        'playsinline': 1
                    },
                    events: {
                        'onReady': onPlayerReady,
                        'onStateChange': onPlayerStateChange
                    }
                });

            } catch (error) {
                playerUi.classList.add('hidden');
                errorMessageDiv.classList.remove('hidden');
                if (error.message === 'not_uploaded') {
                    errorMessageDiv.textContent = '오늘의 AI요약 음성은 아직 업로드 전입니다.';
                } else {
                    errorMessageDiv.textContent = '오디오를 불러오는 중 오류가 발생했습니다.';
                    console.error('Error loading video:', error);
                }
            }
        }

        function extractVideoID(url) {
            // 다양한 YouTube URL 형식에서 비디오 ID를 추출하는 정규식
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        function onPlayerReady(event) {
            playPauseButton.disabled = false;
            playPauseButton.textContent = '재생';
            playPauseButton.setAttribute('aria-label', '교리 오디오 재생');
            
            playPauseButton.addEventListener('click', togglePlayPause);
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                playPauseButton.textContent = '일시정지';
                playPauseButton.setAttribute('aria-label', '교리 오디오 일시정지');
                progressInterval = setInterval(updateProgressBar, 1000);
            } else {
                playPauseButton.textContent = '재생';
                playPauseButton.setAttribute('aria-label', '교리 오디오 재생');
                clearInterval(progressInterval);
                if (event.data === YT.PlayerState.ENDED) {
                    progressBar.style.width = '100%';
                }
            }
        }

        function togglePlayPause() {
            if (player.getPlayerState() === YT.PlayerState.PLAYING) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }

        function updateProgressBar() {
            if (player && player.getDuration) {
                const currentTime = player.getCurrentTime();
                const duration = player.getDuration();
                const progress = (currentTime / duration) * 100;
                progressBar.style.width = progress + '%';
            }
        }
    </script>

</body>
</html>
