<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12월 5일: 주의 만찬에 합당하게 참여하지 않는 죄의 위험성</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 antialiased">

    <main class="max-w-3xl mx-auto p-4 sm:p-6 lg:p-8 space-y-8">
        
        <header class="text-center space-y-2">
            <div class="text-sm font-bold text-blue-600 tracking-wide uppercase">12월 5일</div>
            <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight">주의 만찬에 합당하게 참여하지 않는 죄의 위험성</h1>
            <p class="text-gray-500 text-sm sm:text-base">신앙고백서 29.8</p>
        </header>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6">
            <h2 class="text-lg font-bold text-gray-900 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2 text-red-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg>
                AI요약 듣기
            </h2>
            <div id="audio-player-container" class="aspect-video bg-gray-100 rounded-lg flex items-center justify-center relative overflow-hidden">
                <div id="player-status" class="text-gray-500 text-sm">로딩 중...</div>
                <div id="youtube-player"></div>
            </div>
            <div id="error-message" class="hidden mt-4 p-4 bg-yellow-50 text-yellow-800 rounded-lg text-sm"></div>
        </section>

        <section class="bg-white rounded-2xl shadow-lg overflow-hidden border-l-4 border-blue-600">
            <div class="p-6 sm:p-8">
                <h2 class="text-xl font-bold text-gray-900 mb-4 border-b pb-2">신앙고백서 29.8</h2>
                <div class="prose prose-blue max-w-none text-gray-700 leading-relaxed">
                    <p>
                        무지하고 사악한 사람들은 이 성례에서 외적인 요소들을 받을지라도 요소들이 가리키는 실체를 받는 것은 아니다. 단지 성례에 합당하지 않게 참여함으로써 주님의 몸과 피에 대하여 죄를 범하여 스스로 정죄에 이른다. 그러므로 모든 무지하며 불경건한 사람들은 그리스도와의 교제를 누리기에 적합하지 않기 때문에 또한 주님의 식탁에도 참여하기에 합당하지 않다. 이들이 이런 상태에 머무는 한 이 거룩한 신비에 참여하거나<sup>1)</sup> 참여가 허락된다면<sup>2)</sup> 이러한 일은 그리스도께 큰 죄를 짓는 것이다. 
                    </p>
                    <div class="mt-4 text-sm text-gray-500 bg-gray-50 p-3 rounded">
                        <p>1) 고전 11:27-29; 고후 6:14-16.</p>
                        <p>2) 고전 5:6-7, 13; 살후 3:6, 14-15; 마 7:6.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-blue-50 rounded-2xl shadow-sm border border-blue-100 p-6">
            <h3 class="text-lg font-bold text-blue-900 mb-3 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                관련 말씀
            </h3>
            <ul class="space-y-3 text-gray-700 leading-relaxed">
                <li>
                    <span class="font-semibold text-blue-800">고전 11:27-29</span> "그러므로 누구든지 주의 떡이나 잔을 합당하지 않게 먹고 마시는 자는 주의 몸과 피에 대하여 죄를 짓는 것이니라 사람이 자기를 살피고 그 후에야 이 떡을 먹고 이 잔을 마실지니 주의 몸을 분별하지 못하고 먹고 마시는 자는 자기의 죄를 먹고 마시는 것이니라" 
                </li>
                <li>
                    <span class="font-semibold text-blue-800">고전 5:6-7, 13</span> "너희가 자랑하는 것이 옳지 아니하도다 적은 누룩이 온 덩어리에 퍼지는 것을 알지 못하느냐... 이 악한 사람은 너희 중에서 내쫓으라" 
                </li>
                <li>
                    <span class="font-semibold text-blue-800">마 7:6</span> "거룩한 것을 개에게 주지 말며 너희 진주를 돼지 앞에 던지지 말라 그들이 그것을 발로 밟고 돌이켜 너희를 찢어 상하게 할까 염려하라" 
                </li>
            </ul>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 sm:p-8">
            <h3 class="text-xl font-bold text-gray-900 mb-6 border-b pb-2">교리 해설</h3>
            <div class="prose prose-lg max-w-none text-gray-700 space-y-6">
                <p>
                    신앙고백서 29.8은 주의 만찬에 참여하는 수찬자의 자격과 태도에 대해 매우 엄중한 경고를 담고 있습니다. 합당하게 참여하지 않는 행위는 단순한 실수가 아니라 죄가 된다는 사실과, 교회가 이러한 일을 방지해야 할 의무를 교훈합니다.
                </p>

                <div class="bg-gray-50 p-5 rounded-lg border-l-4 border-gray-400">
                    <h4 class="font-bold text-gray-900 mb-2">1. 외적 요소만 받고 실체는 받지 못함 (사효설 부정)</h4>
                    <p class="mb-2">
                        성찬의 은혜는 외적인 요소를 먹는 행위 자체로 전달되는 것이 아닙니다. 성찬은 <strong class="text-blue-600">성례전적 연합</strong>에 의해 성령의 역사로 믿음을 통해 구속의 은혜를 받습니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>믿음 없는 참여의 무익함:</strong> 믿음이 없는 자는 외적인 빵과 포도주만 받을 뿐, 그것이 가리키는 영적 실체(그리스도의 몸과 피)는 전혀 받지 못합니다. </li>
                        <li><strong>사효설(Ex opere operato) 배격:</strong> 이는 로마 가톨릭이 주장하는 사효설, 즉 '성례 행위 자체만으로 은혜가 주입된다'는 교리를 부정합니다. 성찬을 받기에 합당한 믿음이 없다면, 그 의식은 아무런 구속적 효과를 주지 않습니다. </li>
                    </ul>
                </div>

                <div class="bg-red-50 p-5 rounded-lg border-l-4 border-red-400">
                    <h4 class="font-bold text-gray-900 mb-2">2. 합당하지 않은 참여의 위험성: 스스로 정죄에 이름</h4>
                    <p class="mb-2">
                        무지하거나 사악한 사람이 성찬에 참여하는 것은 무익할 뿐만 아니라 위험합니다. 그들은 주님의 몸과 피에 대하여 죄를 범하는 것이기 때문입니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>무지(Ignorance):</strong> 성찬의 의미에 대한 지식과 믿음이 없어 '주의 몸을 분별하지 못하는'(고전 11:29) 상태입니다. 단순히 떡과 잔을 의례적으로 받을 뿐, 그리스도의 대속과 연합의 의미를 알지도 믿지도 않는 상태입니다. </li>
                        <li><strong>사악함(Wickedness):</strong> 믿음이 없어 불경건하고 부도덕한 생활에 빠져 있는 상태입니다. 믿음에 합당한 회개와 열매가 없는 자가 성찬을 받는 것은 성찬을 모독하는 행위이며, 스스로 심판(정죄)을 초래합니다. </li>
                    </ul>
                </div>

                <div class="bg-yellow-50 p-5 rounded-lg border-l-4 border-yellow-400">
                    <h4 class="font-bold text-gray-900 mb-2">3. 교회의 책임: 참여 금지와 권징</h4>
                    <p class="mb-2">
                        그리스도와의 교제를 누릴 만한 기본적인 신앙과 회개가 없는 자들은 주님의 식탁에 초대되어서는 안 됩니다. 이는 교회에 주어진 거룩한 의무입니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>참여 금지의 의무:</strong> 교회는 무지하고 불경건한 자들이 성찬에 참여하도록 허락해서는 안 됩니다. 이들이 성찬에 참여하게 두는 것은 그들로 하여금 그리스도께 큰 죄를 짓게 만드는 일입니다. </li>
                        <li><strong>권징(Discipline):</strong> 당회는 성찬의 거룩함을 해치지 않도록 성찬의 문을 지켜야 합니다. 이를 위해 성찬의 의미를 가르치고, 불경건한 자들을 권면하여 회개하도록 돕거나, 필요시 출교 등의 권징을 통해 성찬 참여를 금해야 합니다. </li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-yellow-200 p-6">
            <h3 class="text-lg font-bold text-yellow-800 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                적용 질문
            </h3>
            <ul class="space-y-4">
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">1. 무지하고 사악한 사람들은 왜 성찬의 외적인 요소를 받더라도 그 요소들이 가리키는 실체를 받지 못합니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 성찬의 외적 행위에만 참여하는 것으로 충분하다고 생각하지 않고, 오직 성령의 역사와 믿음으로 그리스도의 은혜에 참여해야 함을 기억하며 성찬에 임하고 계십니까? </p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">2. 성찬에 합당하지 않게 참여하는 것이 왜 주님의 몸과 피에 대하여 죄를 범하는 일입니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 성찬이 단순한 의례가 아니라, 그리스도의 몸과 피에 대한 신성한 참여임을 알고, 스스로를 성찰하며 겸손히 준비된 마음으로 성찬에 나아가고 계십니까? </p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">3. 무지하고 불경건한 사람들은 왜 주님의 식탁에 참여할 자격이 없다고 하는 것입니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 성찬이 회개하지 않은 자를 회심시키는 자리가 아니라, 이미 그리스도와 교제하는 자의 믿음을 확증하는 자리임을 깨닫고, 성찬 전에 자신이 참된 믿음과 회개의 자리 안에 있는지를 진지하게 돌아보고 계십니까? </p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">4. 교회가 무지하고 불경건한 자를 성찬에서 금하는 이유는 무엇입니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 교회가 권징을 통해 성찬의 거룩함을 보존하고 교인을 보호하는 일을 하나님께서 주신 거룩한 사명으로 이해하며, 우리 공동체가 거룩하고 신실한 성찬을 지키는 일에 함께 동참하기를 소망하십니까? </p>
                </li>
            </ul>
        </section>

        <footer class="text-center text-gray-500 text-xs sm:text-sm mt-8 pb-8">
            교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다
        </footer>
    </main>

    <script>
        // Constants
        const ADDRESS_FILE_URL = '../address/dcaddr.txt';
        const DATE_KEY = '1205'; // MMDD format for December 05

        // State
        let player = null;

        // DOM Elements
        const playerContainer = document.getElementById('audio-player-container');
        const playerStatus = document.getElementById('player-status');
        const errorMessage = document.getElementById('error-message');

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadVideoConfig();
        });

        async function loadVideoConfig() {
            try {
                const response = await fetch(ADDRESS_FILE_URL);
                if (!response.ok) throw new Error('주소 파일을 불러올 수 없습니다.');
                
                const text = await response.text();
                const lines = text.split('\n');
                const targetLine = lines.find(line => line.trim().startsWith(DATE_KEY));

                if (!targetLine) {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                    return;
                }

                // Extract Video ID
                const parts = targetLine.split(/\s+/);
                if (parts.length < 2) throw new Error('비디오 주소 형식이 잘못되었습니다.');
                
                const url = parts[1];
                const videoId = extractVideoId(url);

                if (!videoId) throw new Error('유효한 비디오 ID를 찾을 수 없습니다.');

                initializePlayer(videoId);

            } catch (error) {
                console.error('Configuration Error:', error);
                showError(error.message || '오디오 설정을 불러오는 중 오류가 발생했습니다.');
            }
        }

        function extractVideoId(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        function initializePlayer(videoId) {
            // Load YouTube IFrame API
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            window.onYouTubeIframeAPIReady = function() {
                player = new YT.Player('youtube-player', {
                    height: '100%',
                    width: '100%',
                    videoId: videoId,
                    playerVars: {
                        'playsinline': 1,
                        'controls': 1,
                        'modestbranding': 1
                    },
                    events: {
                        'onReady': onPlayerReady,
                        'onError': onPlayerError
                    }
                });
            };
        }

        function onPlayerReady(event) {
            playerStatus.style.display = 'none';
            const iframe = event.target.getIframe();
            iframe.setAttribute('aria-label', '교리 오디오 재생');
        }

        function onPlayerError(event) {
            showError('오디오 재생 중 오류가 발생했습니다. (YouTube Error Code: ' + event.data + ')');
        }

        function showError(message) {
            playerContainer.style.display = 'none';
            errorMessage.textContent = message;
            errorMessage.classList.remove('hidden');
        }
    </script>
</body>
</html>
