<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10월 23일 | 보이는 교회의 가시성과 순수성의 정도</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto max-w-4xl px-4 py-8">

        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-900">10월 23일</h1>
            <p class="text-xl text-gray-600 mt-2">보이는 교회의 가시성과 순수성의 정도</p>
        </header>

        <section id="audio-player-section" class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-semibold mb-4">AI요약 듣기</h2>
            <div id="player-ui" class="flex items-center space-x-4">
                <button id="play-pause-button" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full w-28 transition-opacity duration-300" aria-label="교리 오디오 재생/일시정지" disabled>
                    로딩 중...
                </button>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full" style="width: 0%"></div>
                </div>
            </div>
            <div id="player" class="hidden"></div>
            <div id="error-message" class="hidden text-red-500 mt-4"></div>
        </section>
        
        <section class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-semibold mb-4 text-blue-800">신앙고백서 25.4</h2>
            <div class="space-y-4 text-lg leading-relaxed">
                <p>이 보편교회는 때로는 잘 보였고, 때로는 잘 보이지 않았다. 이 보편교회의 구성원인 개교회들의 순수함은 복음의 교리가 가르쳐지고 받아들여지며, 규례들이 시행되고, 공예배가 행해지는 일들의 순수함에 따라 더하거나 덜하게 된다.</p>
            </div>
        </section>

        <section class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-semibold mb-4 text-blue-800">교리 해설</h2>
            <div class="space-y-6 text-lg leading-relaxed">
                <p>
                    <strong class="text-blue-600">‘보이는 교회’</strong>는 시대를 초월하여 존재하는 <strong class="text-blue-600">보편교회</strong>입니다. 그러나 그 모습은 항상 일정하지 않습니다. 때로는 박해나 타락으로 인해 그 모습이 잘 보이지 않기도 하고, 개별 교회마다 순수성의 정도에 차이가 있습니다.
                </p>
                <div>
                    <strong class="text-xl block text-gray-900">(1) 교회의 가시성: 때로는 잘 보이고, 때로는 잘 보이지 않음</strong>
                    <div class="pl-4 mt-2 space-y-3 border-l-4 border-blue-100">
                        <p>역사 속에서 교회는 부흥하여 그 표지가 선명하게 드러나는 시기가 있었습니다. 오순절 성령 강림 사건으로 탄생한 신약 교회는 사도의 가르침, 교제, 기도에 힘쓰며 놀라운 성장을 이루어 그 모습이 명확히 보였습니다(행 2:41-47).</p>
                        <p>반면, 교회의 모습이 거의 보이지 않는 때도 있었습니다. 엘리야 시대의 북왕국 이스라엘이 대표적입니다. 엘리야는 자신만 남았다고 탄식할 정도로 교회가 무너진 것처럼 보였습니다(왕상 19:10, 14). 그러나 하나님께서는 바알에게 무릎 꿇지 않은 칠천 명을 남겨두셨습니다(왕상 19:18). 박해로 광야로 피신해야 했던 교회 역시 하나님의 보호 아래 있었습니다(계 12:6, 14). 이처럼 교회는 쇠퇴하는 것처럼 보여도 하나님의 섭리 안에서 항상 보호받고 보존됩니다.</p>
                        <p>교회사적으로도, 로마의 국교가 된 이후 교회는 외형적으로는 부흥했지만 복음의 순수성은 약화되었습니다. 종교개혁 직전의 중세 교회는 외적으로는 강력했으나 교황주의, 면벌부, 성직자 부패 등으로 순수성을 심히 훼손하여 실제로는 그 빛이 흐려진 상태였습니다. 이처럼 <strong class="text-blue-600">‘보이는 교회’</strong>는 역사적 상황에 따라 번영과 쇠퇴를 반복하며 존재해 왔습니다.</p>
                    </div>
                </div>
                <div>
                    <strong class="text-xl block text-gray-900">(2) 교회의 순수성: 판단의 세 가지 기준</strong>
                    <div class="pl-4 mt-2 space-y-3 border-l-4 border-blue-100">
                        <p>교회의 가시성과 순수성을 판단하는 기준은 다음 세 가지입니다.</p>
                        <ul class="list-disc list-inside space-y-2">
                            <li><strong>복음 교리의 순수성:</strong> 교회의 가르침이 성경의 진리에 얼마나 충실한가에 달려있습니다. 성경의 무오성을 부정하거나, <strong class="text-blue-600">번영신학</strong>, 행위구원론 같은 비성경적 가르침은 교리의 순수성을 심각하게 훼손합니다.</li>
                            <li><strong>성례와 규례의 순수성:</strong> 세례와 성찬이 성경의 규정대로 합법적인 대상에게 시행되는지, 그리고 이단과 도덕적 부패를 권징하여 교회의 거룩함을 지키는지가 중요합니다. 성례를 구원의 능력이 있는 의식 자체로 여기거나(의식주의), 반대로 무의미하게 여겨 소홀히 하는 것 모두 순수성을 약화시킵니다.</li>
                            <li><strong>예배의 순수성:</strong> 예배가 사람이 임의로 정한 방식이 아닌, 성경이 가르치는 <strong class="text-blue-600">규정적 원리</strong>에 따라 드려지는지를 살펴야 합니다. 오락적 요소를 가미하여 감성적 체험을 극대화하려는 예배는 그 순수성을 훼손합니다.</li>
                        </ul>
                        <p>결론적으로, 교회의 참된 모습은 이 세 가지 기준의 순수성에 따라 더 선명하게, 혹은 더 희미하게 드러납니다.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold mb-4 text-blue-800">적용 질문</h2>
            <ol class="list-decimal list-inside space-y-4 text-lg leading-relaxed">
                <li>신앙고백서 25.4은 왜 '보이는 교회'가 역사 속에서 때로는 잘 보이기도 하고, 때로는 잘 보이지 않기도 한다고 가르칩니까? 우리는 교회의 외적 모습만을 보고 낙담하거나 자만하지 않고, 하나님의 섭리 속에서 교회를 보호하시고 보존하시는 은혜를 믿으며 바라보고 있습니까?</li>
                <li>성경은 오순절 사건이나 초대교회의 부흥을 통해 교회가 잘 드러난 시기를 보여주지만, 엘리야 시대처럼 교회의 모습이 보이지 않는 때도 기록하고 있음을 어떻게 설명합니까? 우리는 교회가 세상 속에서 약하게 보일 때에도 여전히 하나님께서 남겨두신 자들과 보호의 약속이 있음을 믿고 교회를 신뢰합니까?</li>
                <li>신앙고백서는 개별 교회의 순수성이 복음 교리, 성례와 규례, 예배의 순수성에 따라 달라진다고 가르치는데, 이것은 무엇을 의미합니까? 우리는 교회 안에서 가르쳐지는 복음 교리의 순수성을 살피고, 성례가 합법적으로 시행되는지 주의하며, 예배가 성경의 규정적 원리에 따라 드려지는지 점검하고 있습니까?</li>
                <li>교회는 역사 속에서 외적으로는 부흥하는 것처럼 보이지만 실제로는 순수성을 잃을 수 있다고 했는데, 이는 무엇을 경계하게 합니까? 우리는 교회의 외적 성장이나 규모만을 성공의 기준으로 삼지 않고, 교리의 순결과 예배의 정결, 성례의 바른 시행을 통해 진정한 교회의 순수성을 추구하고 있습니까?</li>
            </ol>
        </section>

        <footer class="text-center mt-8 text-sm text-gray-500">
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
        </footer>

    </div>

    <script>
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        let player;
        let progressInterval;
        const playPauseButton = document.getElementById('play-pause-button');
        const progressBar = document.getElementById('progress-bar');
        const errorMessageDiv = document.getElementById('error-message');
        const playerUi = document.getElementById('player-ui');

        function onYouTubeIframeAPIReady() {
            loadVideoForToday();
        }

        async function loadVideoForToday() {
            try {
                const response = await fetch('../address/dcaddr.txt');
                if (!response.ok) {
                    throw new Error('오디오 주소 파일을 불러올 수 없습니다.');
                }
                const data = await response.text();
                const lines = data.split('\n');
                
                const todayKey = '1023';

                const todayLine = lines.find(line => line.startsWith(todayKey + '='));
                
                if (!todayLine) {
                    throw new Error('not_uploaded');
                }

                const url = todayLine.split('=')[1].trim();
                const videoId = extractVideoID(url);

                if (!videoId) {
                    throw new Error('유효하지 않은 YouTube 주소입니다.');
                }
                
                player = new YT.Player('player', {
                    height: '0',
                    width: '0',
                    videoId: videoId,
                    playerVars: {
                        'playsinline': 1
                    },
                    events: {
                        'onReady': onPlayerReady,
                        'onStateChange': onPlayerStateChange
                    }
                });

            } catch (error) {
                playerUi.classList.add('hidden');
                errorMessageDiv.classList.remove('hidden');
                if (error.message === 'not_uploaded') {
                    errorMessageDiv.textContent = '오늘의 AI요약 음성은 아직 업로드 전입니다.';
                } else {
                    errorMessageDiv.textContent = '오디오를 불러오는 중 오류가 발생했습니다.';
                    console.error('Error loading video:', error);
                }
            }
        }

        function extractVideoID(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        function onPlayerReady(event) {
            playPauseButton.disabled = false;
            playPauseButton.textContent = '재생';
            playPauseButton.setAttribute('aria-label', '교리 오디오 재생');
            
            playPauseButton.addEventListener('click', togglePlayPause);
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                playPauseButton.textContent = '일시정지';
                playPauseButton.setAttribute('aria-label', '교리 오디오 일시정지');
                progressInterval = setInterval(updateProgressBar, 1000);
            } else {
                playPauseButton.textContent = '재생';
                playPauseButton.setAttribute('aria-label', '교리 오디오 재생');
                clearInterval(progressInterval);
                if (event.data === YT.PlayerState.ENDED) {
                    progressBar.style.width = '100%';
                }
            }
        }

        function togglePlayPause() {
            if (player.getPlayerState() === YT.PlayerState.PLAYING) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }

        function updateProgressBar() {
            if (player && player.getDuration) {
                const currentTime = player.getCurrentTime();
                const duration = player.getDuration();
                const progress = (currentTime / duration) * 100;
                progressBar.style.width = progress + '%';
            }
        }
    </script>

</body>
</html>
