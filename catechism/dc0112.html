<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날마다 읽는 교리 - 1월 12일</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .prose-custom {
            line-height: 1.75;
            word-break: keep-all;
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col items-center py-8 px-4">

    <main class="w-full max-w-2xl space-y-6">

        <header class="text-center space-y-2 mb-8">
            <span class="inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold tracking-wide">1월 12일</span>
            <h1 class="text-3xl font-bold text-gray-900 break-keep">성경 계시의 영감, 내용의 보전과 번역</h1>
        </header>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
                </svg>
                AI요약 듣기
            </h2>
            
            <div id="audio-player-container" class="space-y-4">
                <div id="youtube-player" class="w-full aspect-video rounded-lg overflow-hidden hidden"></div>
                
                <div id="player-controls" class="flex flex-col items-center justify-center p-4 bg-gray-50 rounded-xl">
                    <button id="play-button" disabled class="group relative flex items-center justify-center w-16 h-16 bg-white border-2 border-blue-500 rounded-full shadow-md hover:bg-blue-50 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed" aria-label="교리 오디오 재생/일시정지">
                        <svg id="play-icon" class="w-8 h-8 text-blue-600 ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        <svg id="loading-icon" class="w-8 h-8 text-blue-600 animate-spin hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                    </button>
                    <p id="player-status" class="mt-3 text-sm text-gray-500 font-medium">오디오 로딩 중...</p>
                </div>

                <div id="error-message" class="hidden p-4 bg-red-50 text-red-600 text-sm rounded-lg text-center"></div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-100">말씀 요절</h2>
            <div class="space-y-4 text-gray-700 prose-custom">
                <div class="p-4 bg-gray-50 rounded-lg">
                    <p class="font-serif">"진실로 너희에게 이르노니 천지가 없어지기 전에는 율법의 일점 일획도 결코 없어지지 아니하고 다 이루리라"</p>
                    <p class="text-right text-sm font-bold text-gray-500 mt-2">- 마태복음 5:18</p>
                </div>
                <div>
                    <p class="font-serif">"하나님이 처음으로 이방인 중에서 자기 이름을 위할 백성을 취하시려고 그들을 돌보신 것을 시므온이 말하였으니 선지자들의 말씀이 이와 일치하도다"</p>
                    <p class="text-right text-sm font-bold text-gray-500 mt-2">- 사도행전 15:14-15</p>
                </div>
                <div>
                    <p class="font-serif">"너희가 성경에서 영생을 얻는 줄 생각하고 성경을 연구하거니와 이 성경이 곧 내게 대하여 증언하는 것이니라"</p>
                    <p class="text-right text-sm font-bold text-gray-500 mt-2">- 요한복음 5:39</p>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-100">신앙고백서</h2>
            
            <div class="space-y-6">
                <div class="bg-indigo-50 p-5 rounded-xl">
                    <h3 class="font-bold text-indigo-900 mb-2">신앙고백서 1.8</h3>
                    <div class="prose-custom text-gray-700 space-y-2">
                        <p>(하나님의 옛 백성의 모국어인) 히브리어로 기록된 구약성경과 (신약성경이 기록되던 당시 여러 나라에 가장 일반적으로 알려진) 그리스어로 기록된 신약성경은, 하나님에 의해 직접 영감된 것이며, 하나님의 유례없는 보호와 섭리에 의해 모든 시대에 걸쳐 순수하게 보전되었으므로 본래 내용 그대로다. <strong class="text-indigo-700">그러므로 신앙과 관련한 모든 논쟁에 있어서 교회는 궁극적으로 원어 성경에 호소해야 한다.</strong></p>
                        <p>그러나 성경에 대한 권리와 관심을 가지고, 하나님을 경외하는 가운데 성경을 읽고 연구하도록 명령을 받은 하나님의 백성 모두가 원어를 알지는 못하기 때문에, <strong class="text-blue-600">성경이 전수된 각 나라의 통상적인 언어로 번역되어야만 하며</strong>, 그리하여 하나님의 말씀이 모든 사람 안에 풍성히 거하여, 이들이 하나님을 합당한 방식으로 예배하며, 성경이 주는 인내와 위로를 통하여 소망을 가질 수 있도록 하여야 한다.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-100">교리 해설</h2>
            <div class="prose-custom text-gray-700 space-y-4">
                
                <h3 class="font-bold text-lg text-gray-900 mt-2">1. 원본의 부재와 하나님의 특별한 섭리</h3>
                <p>
                    하나님께서 직접 영감하신 성경의 '원본'은 현재 남아있지 않습니다. 그러나 하나님께서는 당신의 말씀을 보전하시는 <strong class="text-blue-600">특별한 섭리</strong>를 통해 성경의 내용이 순수하게 전달되게 하셨습니다. 구약은 유대 랍비들의 철저한 필사를 통해, 신약은 5,000여 개에 이르는 방대한 사본들을 통해 보전되었습니다. 비록 원본 자체는 없지만, 교리상의 차이를 일으킬 만한 오류 없이 내용적으로 순전한 상태로 복구되어 우리에게 주어졌습니다.
                </p>

                <h3 class="font-bold text-lg text-gray-900 mt-4">2. 번역의 필요성과 당위성</h3>
                <p>
                    하나님의 백성은 말씀을 읽고 배워 하나님을 영화롭게 해야 할 의무가 있습니다(신 31:11). 그러나 현실적으로 구약의 히브리어와 신약의 그리스어를 모든 신자가 학습하여 읽는 것은 불가능에 가깝습니다. 그러므로 교회는 성경을 각 민족의 <strong class="text-indigo-700">통상적인 언어로 번역</strong>해야 합니다.
                </p>
                <ul class="list-disc pl-5 space-y-2">
                    <li>
                        <strong>목적:</strong> 모든 신자가 하나님의 지혜와 구원의 은혜를 깨닫고, 하나님을 합당하게 예배하며, 성경이 주는 인내와 위로로 소망을 갖게 하기 위함입니다.
                    </li>
                    <li>
                        <strong>보호:</strong> 성경 지식이 없으면 이단의 거짓 가르침과 사탄의 공격에 무방비하게 노출됩니다. 번역된 성경을 통해 신자는 자신을 지킬 수 있습니다.
                    </li>
                </ul>

                <h3 class="font-bold text-lg text-gray-900 mt-4">3. 최종 권위로서의 원문 성경</h3>
                <p>
                    성경 번역은 필수적이지만, 번역 과정에서 번역자의 기준이나 한계가 반영될 수 있습니다. 따라서 성도들이 사용하는 번역본 간에 차이가 있거나, 교리적인 논쟁이 발생할 때가 있습니다. 이러한 문제가 발생했을 때 교회는 번역 성경이 아니라 <strong class="text-red-600">원어 성경(원문)</strong>에 호소하여 결정해야 합니다. 신앙과 관련된 중요한 교리의 결정은 언제나 원문의 뜻을 분별하는 것을 최우선의 기준으로 삼아야 하기 때문입니다.
                </p>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-100">적용 질문</h2>
            <ul class="list-none space-y-4 text-gray-700">
                <li class="flex gap-3">
                    <span class="font-bold text-blue-600 flex-shrink-0">1.</span>
                    <p>여러분은 성경을 읽으면서 이 성경이 우리의 언어로 번역되어 있다는 사실에 감사를 드립니까?</p>
                </li>
                <li class="flex gap-3">
                    <span class="font-bold text-blue-600 flex-shrink-0">2.</span>
                    <p>여러분은 원본이 없을 때 어떻게 하면 그 원본에 최대한 가깝게 복원할 수 있겠습니까? 시험 문제를 공개하지 않아도 시험을 치른 후에 그 문제를 복원할 방법이 있겠습니까?</p>
                </li>
                <li class="flex gap-3">
                    <span class="font-bold text-blue-600 flex-shrink-0">3.</span>
                    <p>성경을 읽어 그것을 통하여 알리시는 하나님의 뜻을 알기 위해 여러분은 어떠한 노력을 하십니까?</p>
                </li>
                <li class="flex gap-3">
                    <span class="font-bold text-blue-600 flex-shrink-0">4.</span>
                    <p>주변에 이단의 거짓된 가르침에 빠진 분들을 보면서, 여러분은 어떠한 대비가 있어야 하겠다고 생각하십니까?</p>
                </li>
            </ul>
        </section>

        <footer class="text-center text-xs text-gray-400 mt-8 pb-4">
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
        </footer>

    </main>

    <script>
        // --- Configuration ---
        const DATE_ID = "0112"; // January 12th
        const ADDR_FILE = "../address/dcaddr.txt";
        
        // --- Elements ---
        const playerContainer = document.getElementById('youtube-player');
        const playButton = document.getElementById('play-button');
        const playIcon = document.getElementById('play-icon');
        const loadingIcon = document.getElementById('loading-icon');
        const statusText = document.getElementById('player-status');
        const errorMsg = document.getElementById('error-message');
        const controlsDiv = document.getElementById('player-controls');

        window.player = null;
        let videoId = null;
        let isPlayerReady = false;

        // --- Logic ---

        // 1. Fetch Video ID
        async function fetchVideoId() {
            try {
                const response = await fetch(ADDR_FILE);
                if (!response.ok) throw new Error("주소 파일을 불러올 수 없습니다.");
                
                const text = await response.text();
                const lines = text.split('\n');
                const todayLine = lines.find(line => line.trim().startsWith(DATE_ID));
                
                if (!todayLine) {
                    throw new Error("TODAY_NOT_FOUND");
                }

                // Extract URL (assuming format: MMDD URL)
                const urlPart = todayLine.replace(DATE_ID, '').trim();
                
                // Parse Video ID using Regex
                const regExp = /(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                const match = urlPart.match(regExp);

                if (match && match[1]) {
                    return match[1];
                } else {
                    throw new Error("INVALID_URL");
                }

            } catch (error) {
                console.error("Video Fetch Error:", error);
                if (error.message === "TODAY_NOT_FOUND") {
                    showError("오늘의 AI요약 음성은 아직 업로드 전입니다.");
                } else {
                    showError("오디오 정보를 불러오는 중 오류가 발생했습니다.");
                }
                return null;
            }
        }

        // 2. UI Helper Functions
        function showError(msg) {
            statusText.style.display = 'none';
            playButton.style.display = 'none';
            errorMsg.textContent = msg;
            errorMsg.classList.remove('hidden');
        }

        function setButtonLoading(isLoading) {
            playButton.disabled = isLoading;
            if (isLoading) {
                playIcon.classList.add('hidden');
                loadingIcon.classList.remove('hidden');
                statusText.textContent = "플레이어 준비 중...";
            } else {
                playIcon.classList.remove('hidden');
                loadingIcon.classList.add('hidden');
                statusText.textContent = "재생하기";
            }
        }

        // 3. Initialize YouTube API
        function loadYoutubeAPI() {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }

        // 4. Player Setup (Called by API)
        function onYouTubeIframeAPIReady() {
            if (!videoId) return;

            window.player = new YT.Player('youtube-player', {
                height: '360',
                width: '640',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1,
                    'controls': 1,
                    'modestbranding': 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            isPlayerReady = true;
            setButtonLoading(false);
        }

        function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.PLAYING) {
                playIcon.innerHTML = '<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>'; // Pause icon
                statusText.textContent = "재생 중";
                playButton.setAttribute('aria-label', '일시정지');
                
                // Show player, hide large button if desired, or keep as toggle
                playerContainer.classList.remove('hidden');
                controlsDiv.classList.add('hidden'); // Hide big button once playing starts
            } else if (event.data == YT.PlayerState.PAUSED) {
                playIcon.innerHTML = '<path d="M8 5v14l11-7z"/>'; // Play icon
                statusText.textContent = "일시정지됨";
                playButton.setAttribute('aria-label', '재생');
            }
        }

        // 5. Main Execution
        (async function init() {
            setButtonLoading(true);
            videoId = await fetchVideoId();
            
            if (videoId) {
                loadYoutubeAPI();
                
                playButton.addEventListener('click', () => {
                    if (isPlayerReady) {
                        playerContainer.classList.remove('hidden');
                        window.player.playVideo();
                    }
                });
            }
        })();

    </script>
</body>
</html>
