<!DOCTYPE html>
<html lang="ko">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>날마다 읽는 교리 - 11월 5일</title>
 <script src="https://cdn.tailwindcss.com"></script>
 <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" as="style" crossorigin="anonymous" />
 <style>
 body {
 font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
 word-break: keep-all;
 background-color: #f3f4f6; /* Tailwind gray-100 */
 }
 .card {
 background-color: white;
 border-radius: 0.75rem; /* lg */
 box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* lg */
 margin-bottom: 1.5rem; /* 6 */
 overflow: hidden;
 }
 .card-header {
 background-color: #4a5568; /* Tailwind gray-700 */
 color: white;
 padding: 1rem 1.5rem;
 font-size: 1.25rem; /* xl */
 font-weight: 700;
 border-bottom: 1px solid #e5e7eb; /* gray-200 */
 }
 .card-body {
 padding: 1.5rem;
 line-height: 1.75;
 }
 .card-body h3 {
 font-size: 1.125rem; /* lg */
 font-weight: 600;
 margin-bottom: 0.75rem;
 color: #1f2937; /* gray-800 */
 }
 .card-body p {
 margin-bottom: 1rem;
 color: #374151; /* gray-700 */
 }
 .card-body ul {
 list-style-type: disc;
 margin-left: 1.5rem;
 margin-bottom: 1rem;
 color: #374151; /* gray-700 */
 }
 .card-body li {
 margin-bottom: 0.5rem;
 }
 .card-body .question {
 font-weight: 600;
 color: #111827; /* gray-900 */
 }
 .card-body .answer {
 color: #374151; /* gray-700 */
 }
 .audio-player-container {
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 padding: 1.5rem;
 background-color: #f9fafb; /* gray-50 */
 border-top: 1px solid #e5e7eb; /* gray-200 */
 }
 .audio-button {
 display: inline-flex;
 align-items: center;
 justify-content: center;
 padding: 0.75rem 1.5rem;
 font-size: 1rem;
 font-weight: 500;
 border-radius: 0.5rem;
 transition: all 0.2s ease-in-out;
 border: 1px solid transparent;
 }
 .audio-button:disabled {
 background-color: #e5e7eb; /* gray-200 */
 color: #9ca3af; /* gray-400 */
 cursor: not-allowed;
 }
 .audio-button.play {
 background-color: #2563eb; /* blue-600 */
 color: white;
 }
 .audio-button.play:hover {
 background-color: #1d4ed8; /* blue-700 */
 }
 .audio-button.pause {
 background-color: #f87171; /* red-400 */
 color: white;
 }
 .audio-button.pause:hover {
 background-color: #ef4444; /* red-500 */
 }
 .audio-error {
 color: #dc2626; /* red-600 */
 font-weight: 500;
 text-align: center;
 }
 #player-container {
 width: 1px;
 height: 1px;
 opacity: 0;
 position: absolute;
 top: -100px;
 left: -100px;
 }
 footer {
 text-align: center;
 padding: 2rem 1rem;
 font-size: 0.875rem; /* sm */
 color: #6b7280; /* gray-500 */
 }
 </style>
</head>
<body class="bg-gray-100">

 <div class="container mx-auto max-w-3xl px-4 py-8 sm:py-12">

 <header class="mb-8 text-center">
 <h1 class="text-4xl font-bold text-gray-800">11월 5일</h1>
 <p class="text-xl text-gray-600 mt-2">하나님의 말씀을 읽고 듣는 자세</p>
 </header>

 <main>
 <div class="card">
 <div class="card-header">
 AI요약 듣기
 </div>
 <div class="audio-player-container" id="audio-player-ui">
 <div id="player-container"></div>
 <button id="audio-button" class="audio-button play" aria-label="교리 오디오 재생" disabled>
 <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2">
 <path fill-rule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z" clip-rule="evenodd" />
 </svg>
 <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2" style="display: none;">
 <path fill-rule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z" clip-rule="evenodd" />
 </svg>
 <span id="button-text">로딩 중...</span>
 </button>
 <div id="audio-error" class="audio-error mt-4" style="display: none;"></div>
 </div>
 </div>

 <div class="card">
 <div class="card-header">
 소요리문답 90문
 </div>
 <div class="card-body">
 <div class="question-answer">
 <p class="question">문90. 말씀이 구원에 효과 있게 되도록 어떻게 읽고 들어야 합니까?</p>
 <p class="answer">답. 말씀이 구원에 효과 있게 되도록 근면과 준비와 기도로써 말씀에 집중하고, 믿음과 사랑으로 말씀을 받아들여야 하며 우리의 마음에 말씀을 간직해야 하고, 우리의 삶에서 말씀을 실천해야 합니다. </p>
 </div>
 </div>
 </div>

 <div class="card">
 <div class="card-header">
 대요리문답 157문
 </div>
 <div class="card-body">
 <div class="question-answer">
 <p class="question">문157. 하나님의 말씀을 어떻게 읽어야 하십니까?</p>
 <p class="answer">답. 성경은 높이 여기고 경외하는 마음으로 읽어야 합니다. 성경이 곧 하나님의 말씀이며, 하나님께서만이 우리로 성경을 깨달을 수 있게 하실 수 있다는 굳은 확신과 성경에 계시된 하나님의 뜻을 알고, 믿고, 순종하고자 하는 갈망을 가지고 부지런히, 성경의 내용과 의도에 주의하면서 묵상하며 적용하고 자기 부정을 하며 기도하면서 읽어야 합니다.</p>
 </div>
 </div>
 </div>

 <div class="card">
 <div class="card-header">
 교리 해설
 </div>
 <div class="card-body">
 <p>어제 대요리문답 156항은 모든 사람이 직접 하나님의 말씀을 읽어야 함을 교훈했습니다. 오늘은 하나님의 말씀을 읽거나 듣는 마음과 태도에 대해 소요리문답 90항과 대요리문답 157항의 진술을 여덟 부분으로 나누어 살펴봅니다. </p>

 <ol class="list-decimal list-inside space-y-4">
 <li>
 <strong class="text-blue-600">"성경은 높이 여기고 경외하는 마음으로 읽어야 합니다" (대요리문답 157)</strong> <p class="mt-2">성경은 사람의 글이 아니라 하나님께서 영감하신 말씀(딤후 3:16)이므로 다른 책들과 달리 경외심으로 읽어야 합니다. 이는 하나님의 뜻을 최종 권위로 인정하며, 지금 내게 말씀하시는 하나님 앞에서 겸손히 순종하기를 구하는 마음입니다. </p>
 </li>
 <li>
 <strong class="text-blue-600">"성경이 곧 하나님의 말씀이며... 굳은 확신과" (대요리문답 157)</strong> <p class="mt-2">성경이 하나님의 영감된 말씀임을 굳게 확신해야 합니다. 또한 성경의 기원이 하나님께 있으므로, 그것을 깨닫는 은혜도 하나님께서 주신다는 점을 확신해야 합니다(고전 2:12-14). 학문적 연구만으로는 부족하며, 성령께서 깨우쳐 주시기를 기도로 구하며 읽어야 합니다. </p>
 </li>
 <li>
 <strong class="text-blue-600">"근면과 준비와 기도로써 말씀에 집중하고" (소요리문답 90)</strong> <p class="mt-2">하나님의 말씀을 깨닫는 것은 성령의 은혜입니다. 이 은혜를 확신하며, 우리는 <strong class="text-blue-600">근면</strong>(부지런한 습관), <strong class="text-blue-600">준비</strong>(세속적 방해를 정리하고 집중), 그리고 <strong class="text-blue-600">기도</strong>(성령의 도우심을 구함)의 자세를 갖추어야 합니다. 하나님의 뜻을 알고 믿고 순종하려는 열망으로 기도하며 읽어야 합니다. </p>
 </li>
 <li>
 <strong class="text-blue-600">"성경의 내용과 의도에 주의하면서" (대요리문답 157)</strong> <p class="mt-2">본문이 말하는 내용과 의도를 파악하기 위해 집중해야 합니다. 여기서 '의도'란 성경 전체가 가리키는 중심 주제, 곧 그리스도 안에서 베푸시는 하나님의 구속 사역을 의미합니다. 예수님께서 성경이 자기에 관한 것이라 말씀하셨고(눅 24:27), 요한복음은 성경 기록의 목적이 예수를 믿고 생명을 얻게 하려는 것(요 20:31)임을 보여줍니다. </p>
 </li>
 <li>
 <strong class="text-blue-600">"우리의 마음에 말씀을 간직해야 하고" (소요리문답 90)</strong> 
 <p class="mt-2">말씀이 구원에 효과를 내려면, 읽는 데 그치지 않고 마음에 새겨야 합니다. 이를 위해 <strong class="text-blue-600">묵상</strong>(말씀을 깊이 헤아려 마음에 새김), <strong class="text-blue-600">적용</strong>(묵상한 말씀을 삶의 열매로 구체화함), <strong class="text-blue-600">자기 부정</strong>(말씀 적용에 방해되는 자기중심적 사고와 의를 내려놓음)이 필요합니다. 자기 부정은 오직 십자가의 은혜를 의지할 때 가능합니다. </p>
 </li>
 <li>
 <strong class="text-blue-600">"믿음과 사랑으로 말씀을 받아들여야 하며" (소요리문답 90)</strong> 
 <p class="mt-2">말씀이 구원의 유익을 주려면, 그 말씀을 받아들여야 합니다. 이는 말씀을 믿는 것이며, 그 말씀에 담긴 은혜를 붙드는 믿음이 사랑의 열매로 이어지는 과정을 포함합니다. 예수님의 좋은 땅 비유(마 13:23)는 "말씀을 듣고 깨닫는 자", 곧 믿음과 사랑으로 받아들이는 것을 가리킵니다. </p>
 </li>
 <li>
 <strong class="text-blue-600">"기도로써 말씀에 집중하고" (소요리문답 90)</strong> 
 <p class="mt-2">말씀이 구원의 효과를 나타내려면 반드시 기도가 필요합니다. 기도는 영적 눈을 열어 말씀을 깨닫게 하시는 성령의 도우심(조명)을 구하는 행위입니다. 원죄로 인해 영적으로 무능력해진 인간은 자기 힘만으로는 말씀을 깨달을 수 없습니다. 시편 기자도 "내 눈을 열어서 주의 율법에서 놀라운 것을 보게 하소서"(시 119:18), "나로 하여금 깨닫게 하소서"(시 119:34)라고 간구했습니다. 기도로 조명의 은혜를 구할 때 말씀이 마음에 새겨집니다. </p>
 </li>
 <li>
 <strong class="text-blue-600">"우리의 삶에서 말씀을 실천해야 합니다" (소요리문답 90)</strong> 
 <p class="mt-2">소요리문답 90항의 질문은 단순한 '읽기 방법론'이 아니라, 말씀을 통해 '구원의 효과'가 실제로 나타나는 것에 관한 질문입니다. 이 효과는 삶의 실천으로 이어져야 합니다. 믿음과 실천(순종)은 동일한 성령의 은혜에서 비롯되며 동전의 양면과 같습니다. 성령의 도우심을 따라 말씀을 읽을 때, 말씀은 구원의 효과를 나타내며 우리의 삶을 변화시키는 능력으로 역사합니다. </p>
 </li>
 </ol>
 </div>
 </div>

 <div class="card">
 <div class="card-header">
 적용 질문
 </div>
 <div class="card-body">
 <ul>
 <li><span class="question">1. 성경을 읽는 일은 왜 일반 책을 읽는 것과 달리 경외와 존중의 태도를 요구합니까? 여러분은 성경을 읽을 때 지금 하나님께서 직접 말씀하신다는 사실을 인식하며 겸손과 경외로 그 말씀을 받아들이고 있습니까?</span> </li>
 <li><span class="question">2. 성경을 깨닫는 일은 오직 성령 하나님의 조명으로만 가능하다는 교훈은 무엇을 의미합니까? 여러분은 성경을 단순한 학문적 탐구의 대상으로 여기지 않고, 성령의 조명을 간구하며 말씀을 믿음과 확신 가운데 읽고 있습니까?</span> </li>
 <li><span class="question">3. 말씀을 구원에 효과 있게 읽기 위해 근면과 준비, 그리고 기도가 왜 필요합니까? 여러분은 말씀을 읽을 때 우연히 시간을 내는 것이 아니라 부지런히 습관을 세우고, 마음을 정리하며, 기도로 성령의 도우심을 구하는 태도를 갖고 있습니까?</span> </li>
 <li><span class="question">4. 성경의 내용을 묵상하고 삶에 적용하며 자기 부정을 실천해야 하는 이유는 무엇입니까? 여러분은 말씀을 단순히 이해하는 데 그치지 않고, 삶 속에서 말씀의 열매를 맺도록 적용하며 자기 의와 욕망을 내려놓고 순종의 길을 걷고 있습니까?</span> </li>
 </ul>
 </div>
 </div>
 </main>

 <footer>
 <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
 </footer>

 </div>

 <script>
 let player;
 let videoId = null;
 let isPlayerReady = false;
 let isPlaying = false;
 const audioButton = document.getElementById('audio-button');
 const buttonText = document.getElementById('button-text');
 const playIcon = document.getElementById('play-icon');
 const pauseIcon = document.getElementById('pause-icon');
 const errorContainer = document.getElementById('audio-error');
 const playerUi = document.getElementById('audio-player-ui');

 // 1. YouTube API 로드
 function loadYouTubeAPI() {
 const tag = document.createElement('script');
 tag.src = "https://www.youtube.com/iframe_api";
 const firstScriptTag = document.getElementsByTagName('script')[0];
 firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
 }

 // 2. API 콜백 함수
 function onYouTubeIframeAPIReady() {
 fetchAudioAddress();
 }

 // 3. 오디오 주소 fetch 및 파싱
 async function fetchAudioAddress() {
 try {
 const response = await fetch('../address/dcaddr.txt');
 if (!response.ok) {
 throw new Error('오디오 목록 파일을 불러오는 데 실패했습니다.');
 }
 const text = await response.text();
 const lines = text.split('\n');
 const today = getFormattedDate();
 const todayLine = lines.find(line => line.startsWith(today));

 if (todayLine) {
 // 비디오 ID 추출 (URL 전체에서 ID만 정확히 파싱)
 // 정규식: (v=... 또는 youtu.be/...) 다음에 오는 비디오 ID (특수문자 포함)
 const regex = /(?:v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
 const match = todayLine.match(regex);
 if (match && match[1]) {
 videoId = match[1];
 initializePlayer();
 } else {
 throw new Error('오늘 날짜의 오디오 주소 형식이 올바르지 않습니다.');
 }
 } else {
 // 오늘 날짜의 주소가 없는 경우
 showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
 }
 } catch (error) {
 console.error('Error fetching audio address:', error);
 showError(error.message || '오디오를 불러오는 중 오류가 발생했습니다.');
 }
 }

 // 4. 오늘 날짜 포맷 (MMDD)
 function getFormattedDate() {
 const now = new Date();
 const month = String(now.getMonth() + 1).padStart(2, '0');
 const day = String(now.getDate()).padStart(2, '0');
 // return `${month}${day}`;
 return '1105'; // 요청된 날짜로 고정
 }

 // 5. 플레이어 초기화
 function initializePlayer() {
 player = new YT.Player('player-container', {
 height: '1',
 width: '1',
 videoId: videoId,
 playerVars: {
 'playsinline': 1,
 'controls': 0,
 'showinfo': 0,
 'rel': 0
 },
 events: {
 'onReady': onPlayerReady,
 'onStateChange': onPlayerStateChange
 }
 });
 }

 // 6. 플레이어 준비 완료
 function onPlayerReady(event) {
 isPlayerReady = true;
 audioButton.disabled = false;
 buttonText.textContent = 'AI요약 듣기';
 audioButton.setAttribute('aria-label', '교리 오디오 재생');
 audioButton.addEventListener('click', togglePlayPause);
 }

 // 7. 플레이어 상태 변경
 function onPlayerStateChange(event) {
 if (event.data === YT.PlayerState.PLAYING) {
 isPlaying = true;
 updateButtonUI(true);
 } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
 isPlaying = false;
 updateButtonUI(false);
 if (event.data === YT.PlayerState.ENDED) {
 player.seekTo(0); // 끝나면 처음으로 되감기
 }
 }
 }

 // 8. 재생/일시정지 토글
 function togglePlayPause() {
 if (!isPlayerReady) return;
 if (isPlaying) {
 player.pauseVideo();
 } else {
 player.playVideo();
 }
 }

 // 9. 버튼 UI 업데이트
 function updateButtonUI(playing) {
 if (playing) {
 audioButton.classList.remove('play');
 audioButton.classList.add('pause');
 playIcon.style.display = 'none';
 pauseIcon.style.display = 'inline';
 buttonText.textContent = '일시정지';
 audioButton.setAttribute('aria-label', '교리 오디오 일시정지');
 } else {
 audioButton.classList.remove('pause');
 audioButton.classList.add('play');
 playIcon.style.display = 'inline';
 pauseIcon.style.display = 'none';
 buttonText.textContent = 'AI요약 듣기';
 audioButton.setAttribute('aria-label', '교리 오디오 재생');
 }
 }

 // 10. 오류 처리
 function showError(message) {
 // 기존 UI 숨기기
 const button = document.getElementById('audio-button');
 if (button) {
 button.style.display = 'none';
 }
 
 // 오류 메시지 표시
 errorContainer.textContent = message;
 errorContainer.style.display = 'block';
 }

 // API 로드 시작
 loadYouTubeAPI();
 </script>

</body>
</html>
