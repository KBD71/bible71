<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11월 5일: 하나님의 말씀을 읽고 듣는 자세</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 antialiased">

    <main class="max-w-3xl mx-auto p-4 sm:p-6 lg:p-8 space-y-8">
        
        <header class="text-center space-y-2">
            <div class="text-sm font-bold text-blue-600 tracking-wide uppercase">11월 5일</div>
            <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight">하나님의 말씀을 읽고 듣는 자세</h1>
            <p class="text-gray-500 text-sm sm:text-base">소요리문답 90, 대요리문답 157</p>
        </header>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6">
            <h2 class="text-lg font-bold text-gray-900 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2 text-red-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg>
                AI요약 듣기
            </h2>
            <div id="audio-player-container" class="aspect-video bg-gray-100 rounded-lg flex items-center justify-center relative overflow-hidden">
                <div id="player-status" class="text-gray-500 text-sm">로딩 중...</div>
                <div id="youtube-player"></div>
            </div>
            <div id="error-message" class="hidden mt-4 p-4 bg-yellow-50 text-yellow-800 rounded-lg text-sm"></div>
        </section>

        <section class="bg-white rounded-2xl shadow-lg overflow-hidden border-l-4 border-blue-600">
            <div class="p-6 sm:p-8">
                <div class="mb-8">
                    <h2 class="text-xl font-bold text-gray-900 mb-4 border-b pb-2">소요리문답 90</h2>
                    <div class="prose prose-blue max-w-none text-gray-700 leading-relaxed">
                        <p>
                            <span class="font-bold text-blue-700">문90.</span> 말씀이 구원에 효과 있게 되도록 어떻게 읽고 들어야 합니까?<br>
                            <span class="font-bold text-blue-700">답.</span> 말씀이 구원에 효과 있게 되도록 근면과 준비와 기도로써 말씀에 집중하고, 믿음과 사랑으로 말씀을 받아들여야 하며, 우리의 마음에 말씀을 간직해야 하고, 우리의 삶에서 말씀을 실천해야 합니다. 
                        </p>
                        <div class="mt-2 text-sm text-gray-500 bg-gray-50 p-2 rounded">
                            1) 잠 8:34.<br>
                            2) 벧전 2:1-2.<br>
                            3) 시 119:18.<br>
                            4) 히 4:2; 살후 2:10.<br>
                            5) 시 119:11.<br>
                            6) 눅 8:15; 약 1:25. 
                        </div>
                    </div>
                </div>

                <div>
                    <h2 class="text-xl font-bold text-gray-900 mb-4 border-b pb-2">대요리문답 157</h2>
                    <div class="prose prose-blue max-w-none text-gray-700 leading-relaxed">
                        <p>
                            <span class="font-bold text-blue-700">문157.</span> 하나님의 말씀을 어떻게 읽어야 하십니까?<br>
                            <span class="font-bold text-blue-700">답.</span> 성경은 높이 여기고 경외하는 마음으로 읽어야 합니다. 성경이 곧 하나님의 말씀이며, 하나님께서만이 우리로 성경을 깨달을 수 있게 하실 수 있다는 굳은 확신과 성경에 계시된 하나님의 뜻을 알고, 믿고, 순종하고자 하는 갈망을 가지고 부지런히, 성경의 내용과 의도에 주의하면서, 묵상하며 적용하고 자기 부정을 하며 기도하면서 읽어야 합니다. 
                        </p>
                        <div class="mt-2 text-sm text-gray-500 bg-gray-50 p-2 rounded">
                            1) 시 19:10; 느 8:3-6, 10; 출 24:7; 대하 34:27; 사 66:2.<br>
                            2) 벧후 1:19-21; 눅 24:45; 고후 3:13-16.<br>
                            3) 신 17:19-20.<br>
                            4) 행 17:11.<br>
                            5) 행 8:30, 34; 눅 10:26-28.<br>
                            6) 시 1:2; 119:97.<br>
                            7) 대하 34:21.<br>
                            8) 잠 3:5; 신 33:3.<br>
                            9) 잠 2:1-6; 시 119:18; 느 7:6, 8. 
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-blue-50 rounded-2xl shadow-sm border border-blue-100 p-6">
            <h3 class="text-lg font-bold text-blue-900 mb-3 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                관련 말씀
            </h3>
            <ul class="space-y-3 text-gray-700 leading-relaxed">
                <li>
                    <span class="font-semibold text-blue-800">시 19:10</span> "금 곧 많은 순금보다 더 사모할 것이며 꿀과 송이꿀보다 더 달도다" 
                </li>
                <li>
                    <span class="font-semibold text-blue-800">잠 8:34</span> "누구든지 내게 들으며 날마다 내 문 곁에서 기다리며 문설주 옆에서 기다리는 자는 복이 있나니" 
                </li>
                <li>
                    <span class="font-semibold text-blue-800">벧전 2:1-2</span> "...갓난 아기들 같이 순전하고 신령한 젖을 사모하라 이는 그로 말미암아 너희로 구원에 이르도록 자라게 하려 함이라" 
                </li>
                <li>
                    <span class="font-semibold text-blue-800">시 119:18</span> "내 눈을 열어서 주의 율법에서 놀라운 것을 보게 하소서" 
                </li>
                <li>
                    <span class="font-semibold text-blue-800">시 1:2</span> "오직 여호와의 율법을 즐거워하여 그의 율법을 주야로 묵상하는도다" 
                </li>
                <li>
                    <span class="font-semibold text-blue-800">약 1:25</span> "자유롭게 하는 온전한 율법을 들여다보고 있는 자는 듣고 잊어버리는 자가 아니요 실천하는 자니 이 사람은 그 행하는 일에 복을 받으리라" 
                </li>
            </ul>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 sm:p-8">
            <h3 class="text-xl font-bold text-gray-900 mb-6 border-b pb-2">교리 해설</h3>
            <div class="prose prose-lg max-w-none text-gray-700 space-y-6">
                <p>
                    어제 배운 대로 모든 사람은 직접 하나님의 말씀을 읽고 하나님의 교훈을 받아야 합니다. 오늘은 하나님의 말씀을 읽거나 듣는 마음과 태도에 대해 8가지로 나누어 살펴봅니다.
                </p>

                <div class="bg-gray-50 p-5 rounded-lg border-l-4 border-gray-400">
                    <h4 class="font-bold text-gray-900 mb-2">1. 높이 여기고 경외하는 마음</h4>
                    <p class="mb-2">
                        성경은 사람의 글이 아니라 하나님의 감동으로 된 말씀입니다. 따라서 일반 책을 읽는 것과는 전혀 다른 마음가짐이 필요합니다. 지금 내게 말씀하시는 하나님을 생각하며, 그분의 교훈에 순종하기를 구하는 겸손한 태도로 자신을 낮추어야 합니다.
                    </p>
                </div>

                <div class="bg-blue-50 p-5 rounded-lg border-l-4 border-blue-400">
                    <h4 class="font-bold text-gray-900 mb-2">2. 굳은 확신</h4>
                    <p class="mb-2">
                        성경이 하나님의 말씀이라는 사실과, 오직 하나님만이 우리로 하여금 성경을 깨닫게 하실 수 있다는 사실을 굳게 확신해야 합니다. 학문적 연구만으로는 부족합니다. 성령 하나님께서 깨우쳐 주시기를 바라는 믿음이 필수적입니다.
                    </p>
                </div>

                <div class="bg-yellow-50 p-5 rounded-lg border-l-4 border-yellow-400">
                    <h4 class="font-bold text-gray-900 mb-2">3. 근면과 준비, 그리고 갈망</h4>
                    <p class="mb-2">
                        말씀을 읽을 때는 어쩌다 읽는 것이 아니라 부지런한 습관을 따라야 합니다. 또한 세속적인 생각들을 정리하고 말씀에 집중할 수 있도록 마음을 준비해야 합니다. 하나님의 뜻을 알고, 믿고, 순종하고자 하는 열망을 가지고 성령의 도우심을 구해야 합니다.
                    </p>
                </div>

                <div class="bg-green-50 p-5 rounded-lg border-l-4 border-green-400">
                    <h4 class="font-bold text-gray-900 mb-2">4. 내용과 의도에 주의함</h4>
                    <p class="mb-2">
                        성경의 내용을 파악하고, 성경 전체가 가리키는 중심 주제와 의도를 파악하는 데 주의를 기울여야 합니다. 성경의 중심 의도는 바로 하나님의 아들 예수 그리스도에 관한 것입니다.
                    </p>
                </div>

                <div class="bg-purple-50 p-5 rounded-lg border-l-4 border-purple-400">
                    <h4 class="font-bold text-gray-900 mb-2">5. 묵상, 적용, 자기 부정</h4>
                    <p class="mb-2">
                        말씀을 눈으로 읽는 것에 그치지 않고, 그 교훈을 깊이 헤아려 마음에 새기는 <strong>묵상</strong>이 필요합니다. 묵상한 말씀이 삶의 방향이 되도록 구체화하는 <strong>적용</strong>과, 말씀을 따르는 데 방해가 되는 자기중심적 사고와 자기 의를 내려놓는 <strong>자기 부정</strong>이 뒤따라야 합니다.
                    </p>
                </div>
                
                <div class="p-4">
                    <ul class="list-disc list-inside space-y-2 ml-2">
                        <li><strong>믿음과 사랑으로 받아들임:</strong> 말씀을 믿고, 그 믿음이 사랑의 열매를 맺도록 말씀을 받아들여야 합니다.</li>
                        <li><strong>기도로써 집중함:</strong> 말씀을 읽고 깨닫는 일은 전적으로 성령 하나님의 은혜이므로, 영적 눈을 열어주시기를 구하는 기도가 반드시 동반되어야 합니다.</li>
                        <li><strong>삶에서의 실천:</strong> 말씀을 읽는 목적은 구원의 효과가 삶의 실천으로 이어져 변화를 일으키는 데 있습니다.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-yellow-200 p-6">
            <h3 class="text-lg font-bold text-yellow-800 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                적용 질문
            </h3>
            <ul class="space-y-4">
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">1. 성경을 읽는 일은 왜 일반 책을 읽는 것과 달리 경외와 존중의 태도를 요구합니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 성경을 읽을 때 지금 하나님께서 직접 말씀하신다는 사실을 인식하며 겸손과 경외로 그 말씀을 받아들이고 있습니까? </p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">2. 성경을 깨닫는 일은 오직 성령 하나님의 조명으로만 가능하다는 교훈은 무엇을 의미합니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 성경을 단순한 학문적 탐구의 대상으로 여기지 않고, 성령의 조명을 간구하며 말씀을 믿음과 확신 가운데 읽고 있습니까? </p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">3. 말씀을 구원에 효과 있게 읽기 위해 근면과 준비, 그리고 기도가 왜 필요합니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 말씀을 읽을 때 우연히 시간을 내는 것이 아니라 부지런히 습관을 세우고, 마음을 정리하며, 기도로 성령의 도우심을 구하는 태도를 갖고 있습니까? </p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">4. 성경의 내용을 묵상하고 삶에 적용하며 자기 부정을 실천해야 하는 이유는 무엇입니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 말씀을 단순히 이해하는 데 그치지 않고, 삶 속에서 말씀의 열매를 맺도록 적용하며 자기 의와 욕망을 내려놓고 순종의 길을 걷고 있습니까? </p>
                </li>
            </ul>
        </section>

        <footer class="text-center text-gray-500 text-xs sm:text-sm mt-8 pb-8">
            교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다
        </footer>
    </main>

    <script>
        // Constants
        const ADDRESS_FILE_URL = '../address/dcaddr.txt';
        const DATE_KEY = '1105'; // MMDD format for November 5th

        // State
        let player = null;

        // DOM Elements
        const playerContainer = document.getElementById('audio-player-container');
        const playerStatus = document.getElementById('player-status');
        const errorMessage = document.getElementById('error-message');

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadVideoConfig();
        });

        async function loadVideoConfig() {
            try {
                const response = await fetch(ADDRESS_FILE_URL);
                if (!response.ok) throw new Error('주소 파일을 불러올 수 없습니다.');
                
                const text = await response.text();
                const lines = text.split('\n');
                const targetLine = lines.find(line => line.trim().startsWith(DATE_KEY));

                if (!targetLine) {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                    return;
                }

                // Extract Video ID (Assume format: MMDD url)
                const parts = targetLine.split(/\s+/);
                if (parts.length < 2) throw new Error('비디오 주소 형식이 잘못되었습니다.');
                
                const url = parts[1];
                const videoId = extractVideoId(url);

                if (!videoId) throw new Error('유효한 비디오 ID를 찾을 수 없습니다.');

                initializePlayer(videoId);

            } catch (error) {
                console.error('Configuration Error:', error);
                showError(error.message || '오디오 설정을 불러오는 중 오류가 발생했습니다.');
            }
        }

        function extractVideoId(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        function initializePlayer(videoId) {
            // Load YouTube IFrame API
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            window.onYouTubeIframeAPIReady = function() {
                player = new YT.Player('youtube-player', {
                    height: '100%',
                    width: '100%',
                    videoId: videoId,
                    playerVars: {
                        'playsinline': 1,
                        'controls': 1,
                        'modestbranding': 1
                    },
                    events: {
                        'onReady': onPlayerReady,
                        'onError': onPlayerError
                    }
                });
            };
        }

        function onPlayerReady(event) {
            playerStatus.style.display = 'none';
            const iframe = event.target.getIframe();
            iframe.setAttribute('aria-label', '교리 오디오 재생');
        }

        function onPlayerError(event) {
            showError('오디오 재생 중 오류가 발생했습니다. (YouTube Error Code: ' + event.data + ')');
        }

        function showError(message) {
            playerContainer.style.display = 'none';
            errorMessage.textContent = message;
            errorMessage.classList.remove('hidden');
        }
    </script>
</body>
</html>
