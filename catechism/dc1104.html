<!DOCTYPE html>
<html lang="ko">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>날마다 읽는 교리 - 11월 4일</title>
 <script src="https://cdn.tailwindcss.com"></script>
 <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" as="style" crossorigin="anonymous" />
 <style>
 body {
 font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
 word-break: keep-all;
 background-color: #f3f4f6; /* Tailwind gray-100 */
 }
 .card {
 background-color: white;
 border-radius: 0.75rem; /* lg */
 box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* lg */
 margin-bottom: 1.5rem; /* 6 */
 overflow: hidden;
 }
 .card-header {
 background-color: #4a5568; /* Tailwind gray-700 */
 color: white;
 padding: 1rem 1.5rem;
 font-size: 1.25rem; /* xl */
 font-weight: 700;
 border-bottom: 1px solid #e5e7eb; /* gray-200 */
 }
 .card-body {
 padding: 1.5rem;
 line-height: 1.75;
 }
 .card-body h3 {
 font-size: 1.125rem; /* lg */
 font-weight: 600;
 margin-bottom: 0.75rem;
 color: #1f2937; /* gray-800 */
 }
 .card-body p {
 margin-bottom: 1rem;
 color: #374151; /* gray-700 */
 }
 .card-body ul {
 list-style-type: disc;
 margin-left: 1.5rem;
 margin-bottom: 1rem;
 color: #374151; /* gray-700 */
 }
 .card-body li {
 margin-bottom: 0.5rem;
 }
 .card-body .question {
 font-weight: 600;
 color: #111827; /* gray-900 */
 }
 .card-body .answer {
 color: #374151; /* gray-700 */
 }
 .audio-player-container {
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 padding: 1.5rem;
 background-color: #f9fafb; /* gray-50 */
 border-top: 1px solid #e5e7eb; /* gray-200 */
 }
 .audio-button {
 display: inline-flex;
 align-items: center;
 justify-content: center;
 padding: 0.75rem 1.5rem;
 font-size: 1rem;
 font-weight: 500;
 border-radius: 0.5rem;
 transition: all 0.2s ease-in-out;
 border: 1px solid transparent;
 }
 .audio-button:disabled {
 background-color: #e5e7eb; /* gray-200 */
 color: #9ca3af; /* gray-400 */
 cursor: not-allowed;
 }
 .audio-button.play {
 background-color: #2563eb; /* blue-600 */
 color: white;
 }
 .audio-button.play:hover {
 background-color: #1d4ed8; /* blue-700 */
 }
 .audio-button.pause {
 background-color: #f87171; /* red-400 */
 color: white;
 }
 .audio-button.pause:hover {
 background-color: #ef4444; /* red-500 */
 }
 .audio-error {
 color: #dc2626; /* red-600 */
 font-weight: 500;
 text-align: center;
 }
 #player-container {
 width: 1px;
 height: 1px;
 opacity: 0;
 position: absolute;
 top: -100px;
 left: -100px;
 }
 footer {
 text-align: center;
 padding: 2rem 1rem;
 font-size: 0.875rem; /* sm */
 color: #6b7280; /* gray-500 */
 }
 </style>
</head>
<body class="bg-gray-100">

 <div class="container mx-auto max-w-3xl px-4 py-8 sm:py-12">

 <header class="mb-8 text-center">
 <h1 class="text-4xl font-bold text-gray-800">11월 4일</h1>
 <p class="text-xl text-gray-600 mt-2">모든 사람이 읽어야 하는 하나님의 말씀</p>
 </header>

 <main>
 <div class="card">
 <div class="card-header">
 AI요약 듣기
 </div>
 <div class="audio-player-container" id="audio-player-ui">
 <div id="player-container"></div>
 <button id="audio-button" class="audio-button play" aria-label="교리 오디오 재생" disabled>
 <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2">
 <path fill-rule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z" clip-rule="evenodd" />
 </svg>
 <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2" style="display: none;">
 <path fill-rule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z" clip-rule="evenodd" />
 </svg>
 <span id="button-text">로딩 중...</span>
 </button>
 <div id="audio-error" class="audio-error mt-4" style="display: none;"></div>
 </div>
 </div>

 <div class="card">
 <div class="card-header">
 대요리문답 156문
 </div>
 <div class="card-body">
 <div class="question-answer">
 <p class="question">문156. 하나님의 말씀을 모든 사람이 읽어야 합니까?</p>
 <p class="answer">답. 비록 모든 사람이 회중 앞에서 공적으로 말씀을 읽도록 허락되어 있지는 않으나, 모든 사람은 개별적으로, 그리고 가족과 함께 말씀을 읽어야만 합니다. 이 목적을 위해 성경은 원어에서 각 나라의 보통 언어로 번역되어야만 합니다.</p>
 </div>
 </div>
 </div>

 <div class="card">
 <div class="card-header">
 교리 해설
 </div>
 <div class="card-body">
 <p>성령 하나님께서는 하나님의 말씀을 수단으로 하여 구원의 효과가 나타나도록 하십니다. 이는 사람이 하나님의 말씀을 읽는 것을 전제로 합니다. 오늘 대요리문답 156항은 모든 사람이 말씀을 읽어야 한다는 사실과, 이를 위해 성경이 번역되어야 함을 교훈합니다. </p>

 <h3>1. 공적 예배에서의 말씀 낭독</h3>
 <p>"비록 모든 사람이 회중 앞에서 공적으로 말씀을 읽도록 허락되어 있지는 않으나" </p>
 <p>하나님의 말씀은 모든 사람이 읽어야 하지만, <strong class="text-blue-600">"회중 앞에서 공적으로"</strong> 낭독하는 일은 제한됩니다. 이는 공예배에서의 말씀 낭독이 단순한 읽기가 아니라 <strong class="text-blue-600">말씀을 공적으로 선포하는 예배 행위</strong>에 속하기 때문입니다. 공예배에서 말씀을 읽는 일은 교회의 직분 체계와 질서의 원리에 따라, 합법적인 직분자(목사)에게 맡겨진 직무입니다. 이는 '만인 제사장직'을 부정하는 것이 아닙니다. 모든 성도는 하나님께 직접 나아갈 수 있으며 신분적 차이가 없지만, 예배를 <strong class="text-blue-600">"품위 있고 질서 있게"</strong>(고전 14:40) 드리기 위해 공적 낭독은 직분자에게 맡겨집니다. 이는 단순히 글을 잘 읽는 능력이 아니라, 교회를 영적으로 보호하고 가르칠 책임에 의해 정해집니다. </p>

 <h3>2. 개인과 가족의 말씀 읽기</h3>
 <p>"모든 사람은 개별적으로, 그리고 가족과 함께 말씀을 읽어야만 합니다" </p>
 <p>공적 낭독과 달리, 모든 성도는 <strong class="text-blue-600">"개별적으로"</strong> 말씀을 읽어야 합니다. 이는 다른 중개 없이 하나님을 직접 만나는 시간이며, 성령의 깨우치심을 받는 중요한 시간입니다. </p>
 <p>뿐만 아니라, <strong class="text-blue-600">"가족과 함께"</strong> 말씀을 읽어야 합니다. 이는 가족 전체가 하나님의 <strong class="text-blue-600">언약 공동체</strong>이기 때문입니다(창 17:7). 성경은 부모가 자녀에게 부지런히 말씀을 가르칠 의무가 있음을 교훈합니다(신 6:7). 개혁교회는 가족 전체가 하나님 앞에 서 있는 언약 공동체임을 강조하며, 개인 읽기뿐 아니라 가족이 함께 말씀을 읽는 것을 필수적 의무로 가르칩니다. </p>

 <h3>3. 성경 번역의 필요성</h3>
 <p>"이 목적을 위해 성경은 원어에서 각 나라의 보통 언어로 번역되어야만 합니다" </p>
 <p>개인과 가족이 말씀을 읽고 알기 위해서는 <strong class="text-blue-600">이해할 수 있는 언어로 번역</strong>되어 있어야 합니다. 모든 성도가 원어(히브리어, 헬라어)를 배울 수는 없기에 번역은 반드시 필요합니다. 종교개혁 이전, 중세 교회는 일반 교인들이 해독하지 못하는 라틴어 성경(불가타)을 사용했으며, 심지어 사제들조차 그 뜻을 모른 채 의식만 수행하곤 했습니다. 성경은 완전히 닫힌 책이었습니다. 종교개혁자들은 이 상황을 타개하기 위해 자국어 성경 번역을 최우선 과제로 삼았습니다. 따라서 선교 활동에서 성경 번역은 우선적 사역이어야 하며, 글을 읽지 못하는 이들(장애인 등)을 위해 점자 성경이나 오디오 성경 같은 다양한 방식을 마련하는 것도 필요합니다. </p>
 </div>
 </div>

 <div class="card">
 <div class="card-header">
 적용 질문
 </div>
 <div class="card-body">
 <ul>
 <li><span class="question">1. 왜 대요리문답 156항은 모든 사람이 말씀을 읽어야 한다고 하면서도, 회중 앞에서 공적으로 성경을 봉독하는 일은 모든 성도에게 허락되지 않는다고 말합니까? 여러분은 공예배에서의 성경 봉독이 단순한 낭독이 아니라 질서와 직분에 따라 맡겨진 예배 행위임을 인정하며, 예배를 질서 있게 드리는 일에 마음을 다하고 있습니까?</span></li>
 <li><span class="question">2. 성경은 왜 개인적으로 읽어야 하며, 동시에 가족과 함께 읽어야 한다고 교훈합니까? 여러분은 개인 경건 생활 속에서 하나님의 말씀을 직접 펴고 읽으며 하나님을 만나는 시간을 갖고 있습니까, 그리고 가정이 언약 공동체임을 기억하며 가족과 함께 말씀을 읽는 일에 힘쓰고 있습니까?</span></li>
 <li><span class="question">3. 종교개혁자들은 왜 성경을 각 나라의 언어로 번역하는 일을 가장 우선적인 과제로 삼았습니까? 여러분은 성경이 모국어로 주어진 은혜를 감사히 여기고 있으며, 또한 읽을 수 없는 이들을 위하여 성경을 다양한 방식으로 접할 수 있게 하는 사역에 관심과 기도를 드리고 있습니까?</span></li>
 <li><span class="question">4. 오늘날 교회와 성도들에게 대요리문답 156항의 가르침은 어떤 도전을 줍니까? 당신은 개인 성경 읽기와 가정 성경 읽기를 균형 있게 실천하며, 성경이 모든 사람에게 열려야 한다는 원리를 오늘의 신앙생활과 선교적 삶 속에서 어떻게 적용하고 있습니까?</span></li>
 </ul>
 </div>
 </div>
 </main>

 <footer>
 <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
 </footer>

 </div>

 <script>
 let player;
 let videoId = null;
 let isPlayerReady = false;
 let isPlaying = false;
 const audioButton = document.getElementById('audio-button');
 const buttonText = document.getElementById('button-text');
 const playIcon = document.getElementById('play-icon');
 const pauseIcon = document.getElementById('pause-icon');
 const errorContainer = document.getElementById('audio-error');
 const playerUi = document.getElementById('audio-player-ui');

 // 1. YouTube API 로드
 function loadYouTubeAPI() {
 const tag = document.createElement('script');
 tag.src = "https://www.youtube.com/iframe_api";
 const firstScriptTag = document.getElementsByTagName('script')[0];
 firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
 }

 // 2. API 콜백 함수
 function onYouTubeIframeAPIReady() {
 fetchAudioAddress();
 }

 // 3. 오디오 주소 fetch 및 파싱
 async function fetchAudioAddress() {
 try {
 const response = await fetch('../address/dcaddr.txt');
 if (!response.ok) {
 throw new Error('오디오 목록 파일을 불러오는 데 실패했습니다.');
 }
 const text = await response.text();
 const lines = text.split('\n');
 const today = getFormattedDate();
 const todayLine = lines.find(line => line.startsWith(today));

 if (todayLine) {
 // 비디오 ID 추출 (URL 전체에서 ID만 정확히 파싱)
 // 정규식: (v=... 또는 youtu.be/...) 다음에 오는 비디오 ID (특수문자 포함)
 const regex = /(?:v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
 const match = todayLine.match(regex);
 if (match && match[1]) {
 videoId = match[1];
 initializePlayer();
 } else {
 throw new Error('오늘 날짜의 오디오 주소 형식이 올바르지 않습니다.');
 }
 } else {
 // 오늘 날짜의 주소가 없는 경우
 showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
 }
 } catch (error) {
 console.error('Error fetching audio address:', error);
 showError(error.message || '오디오를 불러오는 중 오류가 발생했습니다.');
 }
 }

 // 4. 오늘 날짜 포맷 (MMDD)
 function getFormattedDate() {
 const now = new Date();
 const month = String(now.getMonth() + 1).padStart(2, '0');
 const day = String(now.getDate()).padStart(2, '0');
 // return `${month}${day}`;
 return '1104'; // 요청된 날짜로 고정
 }

 // 5. 플레이어 초기화
 function initializePlayer() {
 player = new YT.Player('player-container', {
 height: '1',
 width: '1',
 videoId: videoId,
 playerVars: {
 'playsinline': 1,
 'controls': 0,
 'showinfo': 0,
 'rel': 0
 },
 events: {
 'onReady': onPlayerReady,
 'onStateChange': onPlayerStateChange
 }
 });
 }

 // 6. 플레이어 준비 완료
 function onPlayerReady(event) {
 isPlayerReady = true;
 audioButton.disabled = false;
 buttonText.textContent = 'AI요약 듣기';
 audioButton.setAttribute('aria-label', '교리 오디오 재생');
 audioButton.addEventListener('click', togglePlayPause);
 }

 // 7. 플레이어 상태 변경
 function onPlayerStateChange(event) {
 if (event.data === YT.PlayerState.PLAYING) {
 isPlaying = true;
 updateButtonUI(true);
 } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
 isPlaying = false;
 updateButtonUI(false);
 if (event.data === YT.PlayerState.ENDED) {
 player.seekTo(0); // 끝나면 처음으로 되감기
 }
 }
 }

 // 8. 재생/일시정지 토글
 function togglePlayPause() {
 if (!isPlayerReady) return;
 if (isPlaying) {
 player.pauseVideo();
 } else {
 player.playVideo();
 }
 }

 // 9. 버튼 UI 업데이트
 function updateButtonUI(playing) {
 if (playing) {
 audioButton.classList.remove('play');
 audioButton.classList.add('pause');
 playIcon.style.display = 'none';
 pauseIcon.style.display = 'inline';
 buttonText.textContent = '일시정지';
 audioButton.setAttribute('aria-label', '교리 오디오 일시정지');
 } else {
 audioButton.classList.remove('pause');
 audioButton.classList.add('play');
 playIcon.style.display = 'inline';
 pauseIcon.style.display = 'none';
 buttonText.textContent = 'AI요약 듣기';
 audioButton.setAttribute('aria-label', '교리 오디오 재생');
 }
 }

 // 10. 오류 처리
 function showError(message) {
 // 기존 UI 숨기기
 const button = document.getElementById('audio-button');
 if (button) {
 button.style.display = 'none';
 }
 
 // 오류 메시지 표시
 errorContainer.textContent = message;
 errorContainer.style.display = 'block';
 }

 // API 로드 시작
 loadYouTubeAPI();
 </script>

</body>
</html>
