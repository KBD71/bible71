<!DOCTYPE html>

<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>9월 17일: '주님께서 가르치신 기도'의 구성</title>
<script src="https://cdn.tailwindcss.com"></script>
<link as="style" crossorigin="" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" rel="stylesheet"/>
<style>
        body {
            font-family: 'Pretendard', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .infographic-card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s ease-in-out;
        }
        .infographic-card:hover {
            transform: translateY(-5px);
        }
        .card-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 3rem;
            height: 3rem;
            border-radius: 9999px;
            margin-bottom: 1rem;
            background-color: #eef2ff; /* indigo-100 */
        }
        .card-icon svg {
            width: 1.75rem;
            height: 1.75rem;
            color: #4f46e5; /* indigo-600 */
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
<div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-3xl">
<header class="text-center mb-8">
<h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-2">'주님께서 가르치신 기도'의 구성</h1>
<p class="text-md sm:text-lg text-gray-600 mb-4">대요리문답 188문은 '주님의 기도'가 머리말, 간구, 결론의 세 부분으로 구성되어 있음을 가르칩니다. 이 구조는 기도의 대상, 내용, 목적에 대한 본질적 교훈을 담고 있습니다.</p>
<button class="bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-300 inline-flex items-center space-x-2" id="audio-toggle">
<svg class="h-5 w-5" fill="currentColor" id="audio-icon" viewbox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
<path clip-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" fill-rule="evenodd"></path>
</svg>
<span id="audio-text">AI 요약</span>
</button>
</header>
<main class="grid grid-cols-1 md:grid-cols-2 gap-6">
<section class="infographic-card md:col-span-2">
<div class="card-icon">
<svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 6.253v11.494m0 0a7.5 7.5 0 101.5-11.494A7.5 7.5 0 0012 17.747zM12 6.253v11.494a7.5 7.5 0 01-1.5-11.494A7.5 7.5 0 0112 6.253z" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>
</div>
<h3 class="text-xl font-bold mb-2 text-gray-900">대요리문답 제188문</h3>
<div class="text-gray-700 space-y-2">
<p class="font-semibold">문: '주님의 기도'는 몇 부분으로 구성되어 있습니까?</p>
<p>답: '주님의 기도'는 세 부분으로 구성되어 있으니, 머리말과 간구와 결론입니다.</p>
</div>
</section>
<section class="infographic-card">
<div class="card-icon">
<svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="1.5" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>
</div>
<h3 class="text-xl font-bold mb-2 text-gray-900">1. 머리말: 기도의 대상과 자세</h3>
<p class="text-gray-700">"하늘에 계신 우리 아버지여"라는 머리말은 기도를 받으시는 분이 하나님이심을 고백하며 시작하게 합니다. 이는 기도자가 마땅히 가져야 할 경건한 자세를 가르치며, 자신의 필요만을 경솔하게 늘어놓는 잘못을 방지합니다.</p>
</section>
<section class="infographic-card">
<div class="card-icon">
<svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="1.5" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>
</div>
<h3 class="text-xl font-bold mb-2 text-gray-900">2. 간구: 하나님과 우리를 위함</h3>
<div class="text-gray-700 space-y-2">
<p>간구는 두 부분으로 나뉩니다.</p>
<ul class="list-disc list-inside space-y-1">
<li><strong>하나님을 위한 간구:</strong> 이름, 나라, 뜻을 구하며 기도의 첫 목적이 하나님의 영광임을 보여줍니다.</li>
<li><strong>우리를 위한 간구:</strong> 일용할 양식, 죄 사함, 시험에서의 구원을 구하며 삶의 모든 영역에서 하나님의 도우심이 필요함을 고백합니다.</li>
</ul>
</div>
</section>
<section class="infographic-card md:col-span-2">
<div class="card-icon">
<svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="1.5" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M16.5 18.75h-9a9 9 0 1 1 9 0Z" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M12 15.75h.008v.008H12v-.008Z" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M12 12a3 3 0 0 0 0 6h.008a3 3 0 0 0 0-6H12Z" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M12 3.75a2.25 2.25 0 0 1 2.25 2.25v.75A2.25 2.25 0 0 1 12 9h-.008A2.25 2.25 0 0 1 9.75 6.75v-.75A2.25 2.25 0 0 1 12 3.75Z" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>
</div>
<h3 class="text-xl font-bold mb-2 text-gray-900">3. 결론: 기도의 목적과 확신</h3>
<p class="text-gray-700">"나라와 권세와 영광이 아버지께 영원히 있사옵나이다. 아멘"이라는 결론은 모든 간구가 궁극적으로 하나님의 영광을 위한 것임을 재확인합니다. 이는 단순한 간구를 넘어, 하나님 나라의 영원함에 대한 선언이자 영광의 찬송입니다. '아멘'은 기도를 들으시는 하나님에 대한 굳은 신뢰와 확신의 고백입니다.</p>
</section>

</main>
<footer class="text-center mt-8 text-sm text-gray-500">
<p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다.</p>
</footer>
</div>
<div class="hidden" id="player"></div>
<script>
        // 1. YouTube IFrame Player API 비동기 로드
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        var videoId = null;

        const audioToggleButton = document.getElementById('audio-toggle');
        const audioIcon = document.getElementById('audio-icon');
        const audioText = document.getElementById('audio-text');
        
        const playIconSVG = `<svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" /></svg>`;
        const pauseIconSVG = `<svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" /></svg>`;

        // 2. YouTube 플레이어 생성 함수
        function createPlayer(videoId) {
            player = new YT.Player('player', {
                height: '0',
                width: '0',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }
        
        // 3. API 로드 완료 후 실행될 콜백 (API가 자동으로 호출)
        function onYouTubeIframeAPIReady() {
            // 이 함수는 API가 로드되면 자동으로 호출됩니다.
            // 버튼 클릭 시 플레이어를 생성하도록 로직을 변경합니다.
        }

        // 4. 플레이어 준비 완료 시 실행
        function onPlayerReady(event) {
            event.target.playVideo();
        }

        // 5. 플레이어 상태 변경 시 실행 (재생, 일시정지 등)
        function onPlayerStateChange(event) {
            switch(event.data) {
                case YT.PlayerState.PLAYING:
                    audioText.textContent = '일시정지';
                    audioIcon.innerHTML = pauseIconSVG;
                    break;
                case YT.PlayerState.PAUSED:
                    audioText.textContent = 'AI 요약';
                    audioIcon.innerHTML = playIconSVG;
                    break;
                case YT.PlayerState.ENDED:
                    audioText.textContent = 'AI 요약';
                    audioIcon.innerHTML = playIconSVG;
                    player.seekTo(0);
                    player.stopVideo();
                    break;
            }
        }
        
        // 6. 비디오 ID 추출 함수
        function extractVideoId(url) {
            if (!url) return null;
            // 정규식: youtube.com/watch?v=VIDEO_ID 또는 youtu.be/VIDEO_ID 등 다양한 형식 지원
            const regex = /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/;
            const match = url.match(regex);
            return match ? match[1] : null;
        }

     // ... (script 태그 상단 및 다른 함수들은 그대로 유지) ...

// 7. 페이지 로드 완료 후 버튼에 이벤트 리스너 추가
document.addEventListener('DOMContentLoaded', () => {
    // 이 페이지에 해당하는 날짜 문자열 (예: '0917')
    // 실제 구현에서는 페이지 생성 시 동적으로 이 값을 설정해야 합니다.
    const pageDate = '0917';

    audioToggleButton.addEventListener('click', async () => {
        if (!player) {
            try {
                // 1. mc.txt 마스터 파일 가져오기
                const response = await fetch('../address/mc.txt');
                if (!response.ok) {
                    throw new Error('file not found');
                }
                
                const textContent = await response.text();
                if (!textContent.trim()) {
                    alert('mc.txt 파일이 비어있습니다.');
                    return;
                }

                // 2. 텍스트를 줄 단위로 나누고, 해당 날짜의 인덱스 찾기
                const lines = textContent.split('\n').map(line => line.trim());
                const dateIndex = lines.indexOf(pageDate);
                
                let fullUrl = null;

                // 3. 날짜를 찾았고, 그 다음 줄이 파일 범위 내에 있는지 확인
                if (dateIndex > -1 && dateIndex + 1 < lines.length) {
                    fullUrl = lines[dateIndex + 1];
                }

                if (!fullUrl) {
                    // 날짜가 없거나, 날짜가 마지막 줄이거나, 다음 줄이 비어있는 경우
                    alert('해당 날짜(' + pageDate + ')의 오디오 주소를 찾을 수 없습니다.');
                    return;
                }
                
                // --- 아래 로직은 기존과 동일 ---
                videoId = extractVideoId(fullUrl);
                if (!videoId) {
                    alert('유효한 YouTube URL이 아닙니다.');
                    return;
                }

                createPlayer(videoId);

            } catch (error) {
                if (error.message === 'file not found') {
                    alert('오디오 주소 파일(mc.txt)을 찾을 수 없습니다.');
                } else {
                    console.error('오디오 파일 로드 오류:', error);
                }
            }
        } else {
            const playerState = player.getPlayerState();
            if (playerState === YT.PlayerState.PLAYING) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }
    });
});
    </script>
</body>
</html>
