<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12월 7일: 주의 만찬에 합당한 준비가 되어 있는지를 의심하는 자의 참여</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 antialiased">

    <main class="max-w-3xl mx-auto p-4 sm:p-6 lg:p-8 space-y-8">
        
        <header class="text-center space-y-2">
            <div class="text-sm font-bold text-blue-600 tracking-wide uppercase">12월 7일</div>
            <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight">주의 만찬에 합당한 준비가 되어 있는지를 의심하는 자의 참여</h1>
            <p class="text-gray-500 text-sm sm:text-base">대요리문답 172</p>
        </header>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6">
            <h2 class="text-lg font-bold text-gray-900 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2 text-red-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg>
                AI요약 듣기
            </h2>
            <div id="audio-player-container" class="aspect-video bg-gray-100 rounded-lg flex items-center justify-center relative overflow-hidden">
                <div id="player-status" class="text-gray-500 text-sm">로딩 중...</div>
                <div id="youtube-player"></div>
            </div>
            <div id="error-message" class="hidden mt-4 p-4 bg-yellow-50 text-yellow-800 rounded-lg text-sm"></div>
        </section>

        <section class="bg-white rounded-2xl shadow-lg overflow-hidden border-l-4 border-blue-600">
            <div class="p-6 sm:p-8">
                <h2 class="text-xl font-bold text-gray-900 mb-4 border-b pb-2">대요리문답 172</h2>
                <div class="prose prose-blue max-w-none text-gray-700 leading-relaxed">
                    <p>
                        <span class="font-bold text-blue-700">문172.</span> 자신이 그리스도 안에 있는지 혹은 주의 만찬에 합당한 준비가 되어 있는지를 의심하는 사람도 주의 만찬에 참여할 수 있습니까?<br>
                        <span class="font-bold text-blue-700">답.</span> 자신이 그리스도 안에 있는지 혹은 주의 만찬에 합당한 준비가 되어 있는지를 의심하는 사람은, 비록 아직 확신이 없을지라도<sup>1)</sup> 그리스도 안에서 참된 권리를 가질 수 있습니다. 만약 자신의 자격 없음에 대해서 매우 염려하여<sup>2)</sup> 그리스도 안에서 발견되고<sup>3)</sup> 악에서 떠나기를 간절히 원한다면<sup>4)</sup> 그는 하나님 보시기에 권리가 있는 것입니다. 이 경우에 (연약하고 의심하는 그리스도인조차도 도움받을 수 있도록 약속이 주어졌으며 또한 그런 목적으로도 성례가 제정되었기 때문에)<sup>5)</sup> 그는 자신의 불신앙을 애통해하고<sup>6)</sup> 자신의 의심을 해결하려고 노력해야 하며,<sup>7)</sup> 그렇게 함으로 신앙을 더욱 강화하기 위하여 주의 만찬에 참여할 수 있을 뿐 아니라, 반드시 참여해야 합니다.<sup>8)</sup>
                    </p>
                    <div class="mt-4 text-sm text-gray-500 bg-gray-50 p-3 rounded">
                        <p>1) 사 50:10; 요일 5:13; 시 88편; 77:1-12; 욘 2:4, 7.</p>
                        <p>2) 사 54:7-10; 마 5:3-4; 시 73:13, 22-23.</p>
                        <p>3) 빌 3:8-9; 시 10:17; 42:1-2, 5.</p>
                        <p>4) 딤후 2:19; 사 50:10; 시 66:18-20.</p>
                        <p>5) 사 40:11, 29, 31; 마 11:28; 12:20; 26:28.</p>
                        <p>6) 막 9:24.</p>
                        <p>7) 행 2:37; 16:30.</p>
                        <p>8) 롬 4:11; 고전 11:28.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-blue-50 rounded-2xl shadow-sm border border-blue-100 p-6">
            <h3 class="text-lg font-bold text-blue-900 mb-3 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                관련 말씀
            </h3>
            <ul class="space-y-3 text-gray-700 leading-relaxed">
                <li>
                    <span class="font-semibold text-blue-800">요일 5:13</span> "내가 하나님의 아들의 이름을 믿는 너희에게 이것을 쓰는 것은 너희로 하여금 너희에게 영생이 있음을 알게 하려 함이라"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">마 5:3-4</span> "심령이 가난한 자는 복이 있나니 천국이 그들의 것임이요 애통하는 자는 복이 있나니 그들이 위로를 받을 것임이요"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">마 11:28</span> "수고하고 무거운 짐 진 자들아 다 내게로 오라 내가 너희를 쉬게 하리라"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">막 9:24</span> "곧 그 아이의 아버지가 소리를 질러 이르되 내가 믿나이다 나의 믿음 없는 것을 도와 주소서 하더라"
                </li>
            </ul>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 sm:p-8">
            <h3 class="text-xl font-bold text-gray-900 mb-6 border-b pb-2">교리 해설</h3>
            <div class="prose prose-lg max-w-none text-gray-700 space-y-6">
                <p>
                    합당한 준비의 필요성을 배운 후, 자신이 과연 충분히 준비되었는지 확신하지 못하는 성도들이 있습니다. 혹시 성찬에 참여했다가 죄를 범할까 두려워 주저하기도 합니다. 대요리문답 172항은 이러한 <strong class="text-blue-600">연약하고 의심하는 신자</strong>들을 향한 강력한 위로와 초대를 담고 있습니다.
                </p>

                <div class="bg-gray-50 p-5 rounded-lg border-l-4 border-gray-400">
                    <h4 class="font-bold text-gray-900 mb-2">1. 확신이 없어도 권리는 있습니다 (구원의 확신 vs 구원의 소유)</h4>
                    <p class="mb-2">
                        대요리문답은 <strong class="text-blue-600">'구원의 확신(assurance)'</strong>과 <strong class="text-blue-600">'구원의 소유(possession)'</strong>를 명확히 구별합니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>주관적 확신의 부재:</strong> 비록 내가 구원받았다는 주관적인 확신이 부족하거나 일시적으로 의심이 들더라도, 그것이 구원받지 못했다는 증거는 아닙니다.</li>
                        <li><strong>객관적 소유:</strong> 그리스도와의 연합 속에서 신자는 그리스도와 그분의 모든 구속의 유익을 이미 법적으로, 언약적으로 소유하고 있습니다. 확신이 약하다고 해서 이 객관적 사실이 취소되는 것은 아닙니다.</li>
                    </ul>
                </div>

                <div class="bg-blue-50 p-5 rounded-lg border-l-4 border-blue-400">
                    <h4 class="font-bold text-gray-900 mb-2">2. 하나님 보시기에 합당한 자의 증거</h4>
                    <p class="mb-2">
                        그렇다면 내가 불신앙이 아니라 단지 연약한 믿음 가운데 있음을 어떻게 알 수 있을까요? 대요리문답은 하나님 보시기에 권리가 있는 자의 세 가지 내적 증거를 제시합니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>거룩한 염려(Holy Concern):</strong> 자신의 자격 없음에 대해 매우 염려하며 애통해하는 마음입니다. 이는 단순한 정서적 불안이 아니라, 자신의 죄성을 깨닫고 괴로워하는 경건한 슬픔입니다.</li>
                        <li><strong>간절한 소원(Desire):</strong> 그리스도 안에서 발견되기를 진정으로 바라는 마음입니다(빌 3:8-9).</li>
                        <li><strong>죄와의 결별 의지:</strong> 악에서 떠나기를 간절히 원하는 마음입니다. 비록 넘어져도 죄를 사랑하지 않고 돌이키려는 중심이 있다면, 그는 그리스도 안에 있는 자입니다.</li>
                    </ul>
                </div>

                <div class="bg-yellow-50 p-5 rounded-lg border-l-4 border-yellow-400">
                    <h4 class="font-bold text-gray-900 mb-2">3. 성찬은 연약한 자를 위한 식탁입니다</h4>
                    <p class="mb-2">
                        성찬은 완성된 의인들을 위한 상급이 아니라, 병들고 연약한 죄인들을 위한 약이자 양식입니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>성례의 목적:</strong> 그리스도께서 성찬을 제정하신 목적은 흔들리는 믿음을 굳게 하고, 연약한 신앙을 강건하게 하기 위함입니다.</li>
                        <li><strong>참여의 의무:</strong> 따라서 자신이 부족하다고 느낄수록 성찬을 피할 것이 아니라, 오히려 더욱 성찬에 나아가야 합니다. 대요리문답은 "참여할 수 있을 뿐 아니라, <strong class="text-red-600">반드시 참여해야 합니다</strong>"라고 강조합니다. 성찬을 회피하는 것은 겸손이 아니라, 은혜의 수단을 거절하는 불순종이 될 수 있습니다.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-yellow-200 p-6">
            <h3 class="text-lg font-bold text-yellow-800 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                적용 질문
            </h3>
            <ul class="space-y-4">
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">1. 확신이 부족한 신자도 성찬에 참여할 수 있다고 가르치는 이유는 무엇입니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 성찬을 준비하는 과정에서 자신의 부족함을 인식할 때 낙심하기보다, 주님께서 연약한 신자를 위하여 성찬을 제정하셨음을 기억하며, 그 자리를 피하지 않고 주님의 초대에 응답하는 겸손한 믿음을 지니기를 원하십니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">2. 구원의 확신과 구원의 소유를 구별하는 것은 왜 중요한 교리적 구분입니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 확신이 약한 순간에도 그리스도 안에서 구원의 실재가 결코 흔들리지 않음을 신뢰하며, 의심 가운데서도 주님께 속한 자로서 은혜의 자리를 떠나지 않기를 소망하십니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">3. 하나님께서 보시는 관점에서, 성찬에 합당한 자로 여겨지는 세 가지 표지는 무엇입니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 자신의 마음속에서 일어나는 애통, 그리스도를 향한 갈망, 죄를 미워하는 의지가 성령의 열매임을 인정하고, 이러한 내적 표지가 있을 때마다 하나님께서 여러분을 그리스도 안에 있는 자로 보신다는 사실을 믿음으로 확신하십니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">4. 대요리문답 172항은 연약하고 의심하는 신자에게 성찬에 참여할 "허락"만을 말합니까, 아니면 "의무"까지 말합니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 자신이 연약하다는 이유로 성찬을 회피하지 않고, 오히려 주님의 은혜의 식탁으로 나아가 믿음을 새롭게 하며, 그리스도의 명령에 순종함으로 자신의 신앙을 더욱 굳건히 세워가기를 결단하십니까?</p>
                </li>
            </ul>
        </section>

        <footer class="text-center text-gray-500 text-xs sm:text-sm mt-8 pb-8">
            교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다
        </footer>
    </main>

    <script>
        // Constants
        const ADDRESS_FILE_URL = '../address/dcaddr.txt';
        const DATE_KEY = '1207'; // MMDD format for December 07

        // State
        window.player = null;

        // DOM Elements
        const playerContainer = document.getElementById('audio-player-container');
        const playerStatus = document.getElementById('player-status');
        const errorMessage = document.getElementById('error-message');

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadVideoConfig();
        });

        async function loadVideoConfig() {
            try {
                const response = await fetch(ADDRESS_FILE_URL);
                if (!response.ok) throw new Error('주소 파일을 불러올 수 없습니다.');
                
                const text = await response.text();
                const lines = text.split('\n');
                const targetLine = lines.find(line => line.trim().startsWith(DATE_KEY));

                if (!targetLine) {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                    return;
                }

                // Extract Video ID
                const parts = targetLine.split(/\s+/);
                if (parts.length < 2) throw new Error('비디오 주소 형식이 잘못되었습니다.');
                
                const url = parts[1];
                const videoId = extractVideoId(url);

                if (!videoId) throw new Error('유효한 비디오 ID를 찾을 수 없습니다.');

                initializePlayer(videoId);

            } catch (error) {
                console.error('Configuration Error:', error);
                showError(error.message || '오디오 설정을 불러오는 중 오류가 발생했습니다.');
            }
        }

        function extractVideoId(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        function initializePlayer(videoId) {
            // Load YouTube IFrame API
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            window.onYouTubeIframeAPIReady = function() {
                player = new YT.Player('youtube-player', {
                    height: '100%',
                    width: '100%',
                    videoId: videoId,
                    playerVars: {
                        'playsinline': 1,
                        'controls': 1,
                        'modestbranding': 1
                    },
                    events: {
                        'onReady': onPlayerReady,
                        'onError': onPlayerError
                    }
                });
            };
        }

        function onPlayerReady(event) {
            playerStatus.style.display = 'none';
            const iframe = event.target.getIframe();
            iframe.setAttribute('aria-label', '교리 오디오 재생');
        }

        function onPlayerError(event) {
            showError('오디오 재생 중 오류가 발생했습니다. (YouTube Error Code: ' + event.data + ')');
        }

        function showError(message) {
            playerContainer.style.display = 'none';
            errorMessage.textContent = message;
            errorMessage.classList.remove('hidden');
        }
    </script>
</body>
</html>
