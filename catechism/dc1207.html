<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날마다 읽는 교리 - 12월 7일</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" as="style" crossorigin="anonymous" />
    <style>
        body {
            font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            word-break: keep-all;
            background-color: #f3f4f6;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        .card-header {
            background-color: #4a5568;
            color: white;
            padding: 1rem 1.5rem;
            font-size: 1.25rem;
            font-weight: 700;
            border-bottom: 1px solid #e5e7eb;
        }
        .card-body {
            padding: 1.5rem;
            line-height: 1.75;
        }
        .card-body h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #1f2937;
        }
        .card-body p {
            margin-bottom: 1rem;
            color: #374151;
        }
        .card-body ul {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-bottom: 1rem;
            color: #374151;
        }
        .card-body li {
            margin-bottom: 0.5rem;
        }
        .card-body .question {
            font-weight: 600;
            color: #111827;
        }
        .card-body .answer {
            color: #374151;
        }
        .audio-player-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            background-color: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }
        .audio-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 500;
            border-radius: 0.5rem;
            transition: all 0.2s ease-in-out;
            border: 1px solid transparent;
        }
        .audio-button:disabled {
            background-color: #e5e7eb;
            color: #9ca3af;
            cursor: not-allowed;
        }
        .audio-button.play {
            background-color: #2563eb;
            color: white;
        }
        .audio-button.play:hover {
            background-color: #1d4ed8;
        }
        .audio-button.pause {
            background-color: #f87171;
            color: white;
        }
        .audio-button.pause:hover {
            background-color: #ef4444;
        }
        .audio-error {
            color: #dc2626;
            font-weight: 500;
            text-align: center;
        }
        #player-container {
            width: 1px;
            height: 1px;
            opacity: 0;
            position: absolute;
            top: -100px;
            left: -100px;
        }
        footer {
            text-align: center;
            padding: 2rem 1rem;
            font-size: 0.875rem;
            color: #6b7280;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="container mx-auto max-w-3xl px-4 py-8 sm:py-12">

        <header class="mb-8 text-center">
            <h1 class="text-4xl font-bold text-gray-800">12월 7일</h1>
            <p class="text-xl text-gray-600 mt-2">주의 만찬에 합당한준비가되어</p>
        </header>

        <main>
            <div class="card">
                <div class="card-header">
                    대요리문답 172
                </div>
                <div class="card-body">
                    <p class="answer">대요리문답 172: 172. 자신이 그리스도 안에 있는지 혹은 주의 만찬에 합당한준비가되어 있는지를의십하는사람도주 의 만찬에 참여할 수 있습니까? 답. 자신이 그리스도 안에 있는지 혹은 주의 만찬 에 합당한 준비가 되어 있는지를 의심하는 사람은, 비 록 아직 확신이 없을지라도? 그리스도 안에서 참된 권 리를 가질 수 있습니다. 만약 자신의 자격 없음에 대해 서 매우 염려하여? 그리스도 안에서 발견되고리 악에서 떠나기를 간절히 원한다면4) 그는 하나님 보시기에 권리 가 있는 것입니다. 이 경우에 (연약하고 의심하는 그리 스도인조차도 도움받을 수 있도록 약속이 주어졌으며 또한 그런 목적으로도 성례가 제정되었기 때문에)전 그 대요리문답 172: ‘</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    AI요약 듣기
                </div>
                <div class="audio-player-container" id="audio-player-ui">
                    <div id="player-container"></div>
                    <button id="audio-button" class="audio-button play" aria-label="교리 오디오 재생" disabled>
                        <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2">
                            <path fill-rule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z" clip-rule="evenodd" />
                        </svg>
                        <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2" style="display: none;">
                            <path fill-rule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z" clip-rule="evenodd" />
                        </svg>
                        <span id="button-text">로딩 중...</span>
                    </button>
                    <div id="audio-error" class="audio-error mt-4" style="display: none;"></div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    교리 해설
                </div>
                <div class="card-body">
                    <p>오늘 읽은 대요리문답 172항은 어제 살핀 171 항의 논의를 자연스럽게 이어 
받야 그로부터 필연적으로 제기되는 질문에 대한 답을 제시합니다. 171항 
은 성찬에 참여하는 자가 합당하게 참여하기 위해 갖추어야 할 준비를 교 
훈하며, 이를 소홀히 하거나 무시한 채 성찬에 임할 때 초래되는 위험을 경 
고합니다. 
그런데 이러한 준비의 과정을 거친 후에도 자신이 과연 합당하게 준비되었 
는지 확신하지 못하는 성도들이 있습니다. 그들은 혹시 성찬에 부적절하게 
참여함으로 죄를 범할까 두려워, 오히려 성찬 참여를 주저하거나 피하기도 
합니다. 이에 대요리문답 172항은, 성찬이 연약하고 의심하는 신자를 돕기 
위한 은혜의 수단임을 분명히 밝히며, 그러한 신자들을 주님의 은혜의 자 
리로 초대합니다. 이 문답은 확신이 약하다는 사실이 성찬 참여의 부적격 
함을 의미하지 않으며, 오히려 성찬을 통해 그 믿음과 확신이 더욱 강화될 
수 있다는 점을 교훈합니다. 이제 우리는 172항의 내용을 세 부분으로 나 
누어살펴보겠습니다. 
(1) “자신이 그리스도 안에 있는지 혹은 주의 만찬에 합당한 준비가 되어 
있는지를 의심하는 사람은, 비록 아직 확신이 없을지라도, 그리스도 안에서 
참된 권리를 가질 수 있습니다"： 어제 살핀 대요리문답 171항에 비추어 볼 
때, 자신이 과연 그리스도 안에 있는지 혹은 주의 만찬에 참여할 만한 합 
당한 준비를 갖춘 자인지를 의심하는 신자가 있을 수 있습니다. 대요리문답 172항은 이러한 신자라도 여전히 그리스도 안에서, 그리스도와 그분의 
중보적 유익에 대한 언약적이며 법적인 권리(covenan al or legal right) 룰 
가지고 있음을 밝힙니다. 이 문답은 구원의 확신(assurance of salvation) 
과 구원의 소유(possess on of salvation) 룰 명확히 구별합니다. 비록 주관 
적으로 구원의 확신을 갖지 못한다 할지라도, 그러한 확신의 결여가 곧 구 
...</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    적용 질문
                </div>
                <div class="card-body">
                    <ul>
                        <li><span class="question">대요리문답 172항이 171 항과 어떤 관계 속에서 제시되는지를 설명해</span></li>
<li><span class="question">보십시오. 확신이 부족한 신자도 성찬에 참여할 수 있다고 가르치는 이 문</span></li>
<li><span class="question">답의 목적은 무엇입니까? 여러분은 성찬을 준비하는 과정에서 자신의 부</span></li>
<li><span class="question">족함을 인식할 때 낙심하기보다, 주님께서 연약한 신자를 위하여 성찬을</span></li>
<li><span class="question">제정하셨음을 기억하며, 그 자리를 피하지 않고 주님의 초대에 옹답하는</span></li>
<li><span class="question">겸손한 믿음을 지니기를 원하십니까?</span></li>

                    </ul>
                </div>
            </div>
        </main>

        <footer>
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
        </footer>

    </div>

    <script>
        let player;
        let videoId = null;
        let isPlayerReady = false;
        let isPlaying = false;
        const audioButton = document.getElementById('audio-button');
        const buttonText = document.getElementById('button-text');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const errorContainer = document.getElementById('audio-error');

        function loadYouTubeAPI() {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }

        function onYouTubeIframeAPIReady() {
            fetchAudioAddress();
        }

        async function fetchAudioAddress() {
            try {
                const response = await fetch('../address/dcaddr.txt');
                if (!response.ok) {
                    throw new Error('오디오 목록 파일을 불러오는 데 실패했습니다.');
                }
                const text = await response.text();
                const lines = text.split('\n');
                const today = '1207';
                const todayLine = lines.find(line => line.startsWith(today));

                if (todayLine) {
                    const regex = /(?:v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                    const match = todayLine.match(regex);
                    if (match && match[1]) {
                        videoId = match[1];
                        initializePlayer();
                    } else {
                        throw new Error('오늘 날짜의 오디오 주소 형식이 올바르지 않습니다.');
                    }
                } else {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                }
            } catch (error) {
                console.error('Error fetching audio address:', error);
                showError(error.message || '오디오를 불러오는 중 오류가 발생했습니다.');
            }
        }

        function initializePlayer() {
            player = new YT.Player('player-container', {
                height: '1',
                width: '1',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1,
                    'controls': 0,
                  'showinfo': 0,
                    'rel': 0
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            isPlayerReady = true;
            audioButton.disabled = false;
            buttonText.textContent = 'AI요약 듣기';
            audioButton.setAttribute('aria-label', '교리 오디오 재생');
            audioButton.addEventListener('click', togglePlayPause);
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                isPlaying = true;
                updateButtonUI(true);
            } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                isPlaying = false;
                updateButtonUI(false);
                if (event.data === YT.PlayerState.ENDED) {
                    player.seekTo(0);
                }
            }
        }

        function togglePlayPause() {
            if (!isPlayerReady) return;
            if (isPlaying) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }

        function updateButtonUI(playing) {
            if (playing) {
                audioButton.classList.remove('play');
                audioButton.classList.add('pause');
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'inline';
                buttonText.textContent = '일시정지';
                audioButton.setAttribute('aria-label', '교리 오디오 일시정지');
            } else {
                audioButton.classList.remove('pause');
                audioButton.classList.add('play');
                playIcon.style.display = 'inline';
                pauseIcon.style.display = 'none';
                buttonText.textContent = 'AI요약 듣기';
                audioButton.setAttribute('aria-label', '교리 오디오 재생');
            }
        }

        function showError(message) {
            const button = document.getElementById('audio-button');
            if (button) {
                button.style.display = 'none';
            }
            errorContainer.textContent = message;
            errorContainer.style.display = 'block';
        }

        loadYouTubeAPI();
    </script>

</body>
</html>