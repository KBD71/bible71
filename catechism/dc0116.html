<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날마다 읽는 교리 - 1월 16일</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .prose-custom {
            line-height: 1.75;
            word-break: keep-all;
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col items-center py-8 px-4">

    <main class="w-full max-w-2xl space-y-6">

        <header class="text-center space-y-2 mb-8">
            <span class="inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold tracking-wide">1월 16일</span>
            <h1 class="text-3xl font-bold text-gray-900 break-keep">살아계시고 참되신 한 분 하나님</h1>
        </header>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
                </svg>
                AI요약 듣기
            </h2>
            
            <div id="player-container" class="space-y-4">
                <div id="youtube-player" class="w-full aspect-video rounded-lg overflow-hidden hidden"></div>
                
                <div id="player-controls" class="flex flex-col items-center justify-center p-4 bg-gray-50 rounded-xl">
                    <button id="play-button" disabled class="group relative flex items-center justify-center w-16 h-16 bg-white border-2 border-blue-500 rounded-full shadow-md hover:bg-blue-50 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed" aria-label="교리 오디오 재생/일시정지">
                        <svg id="play-icon" class="w-8 h-8 text-blue-600 ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        <svg id="loading-icon" class="w-8 h-8 text-blue-600 animate-spin hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                    </button>
                    <p id="player-status" class="mt-3 text-sm text-gray-500 font-medium">오디오 로딩 중...</p>
                </div>

                <div id="error-message" class="hidden p-4 bg-red-50 text-red-600 text-sm rounded-lg text-center"></div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-100">말씀 요절</h2>
            <div class="space-y-4 text-gray-700 prose-custom">
                <div class="p-4 bg-gray-50 rounded-lg">
                    <p class="font-serif">"이스라엘아 들으라 우리 하나님 여호와는 오직 유일한 여호와이시니"</p>
                    <p class="text-right text-sm font-bold text-gray-500 mt-2">- 신명기 6:4</p>
                </div>
                <div>
                    <p class="font-serif">"오직 여호와는 참 하나님이시요 살아 계신 하나님이시요 영원한 왕이시라 그 진노하심에 땅이 진동하며 그 분노하심을 이방이 능히 당하지 못하느니라"</p>
                    <p class="text-right text-sm font-bold text-gray-500 mt-2">- 예레미야 10:10</p>
                </div>
                <div>
                    <p class="font-serif">"그러므로 우상의 제물을 먹는 일에 대하여는 우리가 우상은 세상에 아무 것도 아니며 또한 하나님은 한 분밖에 없는 줄 아노라"</p>
                    <p class="text-right text-sm font-bold text-gray-500 mt-2">- 고린도전서 8:4</p>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-100">소요리문답 5문 & 대요리문답 8문</h2>
            
            <div class="space-y-6">
                <div class="bg-indigo-50 p-5 rounded-xl">
                    <p class="font-semibold text-gray-800 mb-2">Q. 한 분 하나님 외에 다른 신들이 있습니까?</p>
                    <p class="text-gray-700 leading-relaxed">
                        A. 살아계시고 참되신 하나님께서는 <strong class="text-indigo-700">오직 한 분뿐</strong>이십니다.
                    </p>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-100">교리 해설</h2>
            <div class="prose-custom text-gray-700 space-y-4">
                
                <h3 class="font-bold text-lg text-gray-900 mt-2">1. 유일신 사상: 하나님은 오직 한 분이십니다</h3>
                <p>
                    성경은 오직 한 분 하나님만이 예배를 받으실 살아계시고 참된 신이라고 선포합니다. 기독교는 여러 신들 가운데 여호와 하나님이 가장 뛰어나다고 믿는 종교가 아니라, 여호와 외에는 <strong class="text-blue-600">다른 신이 존재하지 않음</strong>을 믿는 유일신교입니다. 세상의 다신론적 신들은 타락한 인간이 하나님을 아는 지식을 상실한 채, 자신의 형상을 투영하여 상상으로 빚어낸 허구에 불과합니다. 제1계명 "나 외에는 다른 신들을 네게 두지 말라"는 말씀은 다른 신들의 실재를 인정한 경쟁의 명령이 아니라, 피조물에 불과한 것들을 하나님 자리에 두지 말라는 엄중한 경고입니다.
                </p>

                <h3 class="font-bold text-lg text-gray-900 mt-4">2. 우상숭배의 본질과 위험성</h3>
                <p>
                    우상숭배란 영적인 존재(사탄, 악령)나 물질적인 대상을 하나님처럼 섬기는 것입니다. 어떤 이들은 우상을 "참된 하나님을 섬기기 위한 보조적 수단"이라고 변명하지만, 하나님께서는 이것 또한 엄격히 금지하셨습니다(제2계명).
                </p>
                <div class="bg-gray-50 p-4 rounded-lg border-l-4 border-gray-400 mt-2">
                    <p class="text-sm">
                        "수단을 하나님의 자리에 올리는 것은 사람의 부패한 본성입니다. 하나님을 물상화(物像化)하거나, 반대로 사물을 신격화(神格化)하는 모든 시도는 하나님을 모독하는 죄입니다."
                    </p>
                </div>

                <h3 class="font-bold text-lg text-gray-900 mt-4">3. 유일한 중보자 예수 그리스도</h3>
                <p>
                    오늘날 천주교회는 마리아나 성인들에게 기도하는 '전구(轉求)'를 가르칩니다. 그들은 이것이 숭배가 아니라 기도의 부탁일 뿐이라고 변명하지만, 실제로는 죽은 사람에게 중재를 구하는 종교적 행위이며 우상숭배의 양상을 띠고 있습니다.
                </p>
                <ul class="list-disc pl-5 space-y-2">
                    <li>
                        <strong>완전한 중보자:</strong> 하나님과 우리 사이의 중보자는 <strong class="text-indigo-700">오직 예수 그리스도 한 분</strong>뿐입니다. 예수님의 중보는 완전하시기에 마리아나 성인의 도움으로 더해질 것이 없습니다.
                    </li>
                    <li>
                        <strong>마리아의 위치:</strong> 마리아는 예수님을 잉태한 육신의 어머니로서 존경받을 분이지만, 그녀 또한 예수님의 중보로 구원받아야 할 사람일 뿐입니다. 그녀에게 중보의 공로는 없습니다.
                    </li>
                </ul>
                <p class="mt-2">
                    그러므로 우리는 오직 살아계신 한 분 하나님을 믿으며, 유일한 중보자이신 예수 그리스도를 통해서만 하나님께 나아가야 합니다.
                </p>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-100">적용 질문</h2>
            <ul class="list-none space-y-4 text-gray-700">
                <li class="flex gap-3">
                    <span class="font-bold text-blue-600 flex-shrink-0">1.</span>
                    <p>여러분은 힌두교나 기타 주변 종교에서 여러 신들을 믿는 행위를 보거나 사원들을 방문하신 적이 있습니까? 어떠한 느낌을 받으십니까?</p>
                </li>
                <li class="flex gap-3">
                    <span class="font-bold text-blue-600 flex-shrink-0">2.</span>
                    <p>죽은 조상을 섬기는 제사 행위는 어떻게 보아야 하겠습니까?</p>
                </li>
                <li class="flex gap-3">
                    <span class="font-bold text-blue-600 flex-shrink-0">3.</span>
                    <p>지금도 주변에서 보는 무당들은 결국 무엇을 섬기는 자들입니까?</p>
                </li>
                <li class="flex gap-3">
                    <span class="font-bold text-blue-600 flex-shrink-0">4.</span>
                    <p>마리아나 기타 베드로, 바울과 같은 성인들에게 기도하는 것과 관련해 천주교인과 이야기를 나누어 보신 적이 있습니까? 그런 일이 있다면 이들에게 어떻게 말하는 것이 지혜로운 접근이겠습니까?</p>
                </li>
            </ul>
        </section>

        <footer class="text-center text-xs text-gray-400 mt-8 pb-4">
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
        </footer>

    </main>

    <script>
        // --- Configuration ---
        const DATE_ID = "0116"; // January 16th
        const ADDR_FILE = "../address/dcaddr.txt";
        
        // --- Elements ---
        const playerContainer = document.getElementById('youtube-player');
        const playButton = document.getElementById('play-button');
        const playIcon = document.getElementById('play-icon');
        const loadingIcon = document.getElementById('loading-icon');
        const statusText = document.getElementById('player-status');
        const errorMsg = document.getElementById('error-message');
        const controlsDiv = document.getElementById('player-controls');

        let player;
        let videoId = null;
        let isPlayerReady = false;

        // --- Logic ---

        // 1. Fetch Video ID
        async function fetchVideoId() {
            try {
                const response = await fetch(ADDR_FILE);
                if (!response.ok) throw new Error("주소 파일을 불러올 수 없습니다.");
                
                const text = await response.text();
                const lines = text.split('\n');
                const todayLine = lines.find(line => line.trim().startsWith(DATE_ID));
                
                if (!todayLine) {
                    throw new Error("TODAY_NOT_FOUND");
                }

                // Extract URL (assuming format: MMDD URL)
                const urlPart = todayLine.replace(DATE_ID, '').trim();
                
                // Parse Video ID using Regex
                const regExp = /(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                const match = urlPart.match(regExp);

                if (match && match[1]) {
                    return match[1];
                } else {
                    throw new Error("INVALID_URL");
                }

            } catch (error) {
                console.error("Video Fetch Error:", error);
                if (error.message === "TODAY_NOT_FOUND") {
                    showError("오늘의 AI요약 음성은 아직 업로드 전입니다.");
                } else {
                    showError("오디오 정보를 불러오는 중 오류가 발생했습니다.");
                }
                return null;
            }
        }

        // 2. UI Helper Functions
        function showError(msg) {
            statusText.style.display = 'none';
            playButton.style.display = 'none';
            errorMsg.textContent = msg;
            errorMsg.classList.remove('hidden');
        }

        function setButtonLoading(isLoading) {
            playButton.disabled = isLoading;
            if (isLoading) {
                playIcon.classList.add('hidden');
                loadingIcon.classList.remove('hidden');
                statusText.textContent = "플레이어 준비 중...";
            } else {
                playIcon.classList.remove('hidden');
                loadingIcon.classList.add('hidden');
                statusText.textContent = "재생하기";
            }
        }

        // 3. Initialize YouTube API
        function loadYoutubeAPI() {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }

        // 4. Player Setup (Called by API)
        function onYouTubeIframeAPIReady() {
            if (!videoId) return;

            player = new YT.Player('youtube-player', {
                height: '360',
                width: '640',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1,
                    'controls': 1,
                    'modestbranding': 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            isPlayerReady = true;
            setButtonLoading(false);
        }

        function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.PLAYING) {
                playIcon.innerHTML = '<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>'; // Pause icon
                statusText.textContent = "재생 중";
                playButton.setAttribute('aria-label', '일시정지');
                
                // Show player, hide large button if desired, or keep as toggle
                playerContainer.classList.remove('hidden');
                controlsDiv.classList.add('hidden'); // Hide big button once playing starts
            } else if (event.data == YT.PlayerState.PAUSED) {
                playIcon.innerHTML = '<path d="M8 5v14l11-7z"/>'; // Play icon
                statusText.textContent = "일시정지됨";
                playButton.setAttribute('aria-label', '재생');
            }
        }

        // 5. Main Execution
        (async function init() {
            setButtonLoading(true);
            videoId = await fetchVideoId();
            
            if (videoId) {
                loadYoutubeAPI();
                
                playButton.addEventListener('click', () => {
                    if (isPlayerReady) {
                        playerContainer.classList.remove('hidden');
                        player.playVideo();
                    }
                });
            }
        })();

    </script>
</body>
</html>
