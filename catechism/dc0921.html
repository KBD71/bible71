<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9월 21일: 셋째 간구에서 구하는 기도</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .infographic-card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s ease-in-out;
        }
        .infographic-card:hover {
            transform: translateY(-5px);
        }
        .card-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 3rem;
            height: 3rem;
            border-radius: 9999px;
            margin-bottom: 1rem;
            background-color: #eef2ff; /* indigo-100 */
        }
        .card-icon svg {
            width: 1.75rem;
            height: 1.75rem;
            color: #4f46e5; /* indigo-600 */
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">

        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-2">셋째 간구에서 구하는 기도</h1>
            <p class="text-md sm:text-lg text-gray-600 mb-4">"뜻이 하늘에서 이루어진 것같이 땅에서도 이루어지이다"는, 우리 본성의 무능력을 인정하고, 성령의 도우심으로 하나님의 교훈적 뜻을 알고 천사들과 같이 기꺼이 순종하게 되기를 구하는 기도입니다.</p>
            <button id="audio-toggle" class="bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-300 inline-flex items-center space-x-2">
                <svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                </svg>
                <span id="audio-text">AI 요약</span>
            </button>
        </header>

        <main class="grid grid-cols-1 md:grid-cols-2 gap-6">

            <section class="infographic-card md:col-span-2">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v11.494m0 0a7.5 7.5 0 101.5-11.494A7.5 7.5 0 0012 17.747zM12 6.253v11.494a7.5 7.5 0 01-1.5-11.494A7.5 7.5 0 0112 6.253z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">대요리문답 제192문</h3>
                <div class="text-gray-700 space-y-2">
                    <p class="font-semibold">문: 셋째 간구에서 우리는 무엇을 위해 기도합니까?</p>
                    <p>답: "뜻이 하늘에서 이루어진 것같이 땅에서도 이루어지이다"라는 셋째 간구에서, 우리는 본질상 우리와 모든 사람이 하나님의 뜻을 알며 행하는 데 전적으로 무능하고 원하지도 않을 뿐만 아니라, 그분의 말씀을 거슬러 반역하고, 그분의 섭리를 원망하며 불평하고, 육신과 마귀의 뜻을 행하는 데로 전적으로 기울어진다는 것을 인정합니다. 따라서 우리는 하나님이 성령님으로 우리 자신과 다른 사람에게서 모든 눈멈, 연약함, 완고함, 마음의 패악을 제거하시어, 그분의 은혜로 하늘에서 천사들이 그리하는 것과 같은 겸손과 기쁨과 신실함과 열심과 열정과 진지함과 꾸준함을 가지고, 범사에 하나님의 뜻을 알고 행하며 복종하는 것을 즐겨할 수 있게 해 주시기를 위해 기도합니다.</p>
                </div>
            </section>

            <section class="infographic-card">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M14.25 9.75 16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">두 종류의 하나님의 뜻</h3>
                <p class="text-gray-700">하나님의 '뜻'에는 두 종류가 있습니다. 첫째는 반드시 성취되는 '작정적 뜻'이고, 둘째는 우리의 순종을 요구하시는 '교훈적 뜻'입니다. 이 간구에서 말하는 '뜻'은 후자인 교훈적 뜻으로, 하나님께서 우리에게 명하신 그 교훈이 땅에서도 온전히 이루어지기를 구하는 기도입니다.</p>
            </section>

            <section class="infographic-card">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">인간의 전적 무능력 인정</h3>
                <p class="text-gray-700">타락한 인간은 본질적으로 하나님의 뜻을 알 능력도, 행하려는 의지도 없습니다. 죄의 '인지적 효과'로 인해 바른 이해를 갖지 못하며, 오히려 하나님의 말씀을 거역하고 그분의 섭리에 불평하며 육신과 마귀의 뜻을 따르려는 경향이 있습니다. 이 기도는 이러한 인간의 상태를 먼저 인정하는 것입니다.</p>
            </section>
            
            <section class="infographic-card">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m15.75 15.75-2.489-2.489m0 0a3.375 3.375 0 1 0-4.773-4.773 3.375 3.375 0 0 0 4.774 4.774ZM21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">성령으로 장애물 제거를 구함</h3>
                <p class="text-gray-700">우리는 하나님의 뜻에 순종하지 못하게 하는 장애물들을 성령께서 제거해 주시기를 간구해야 합니다. 이 장애물들에는 영적 무지(눈멂), 무능력(연약함), 순종을 내켜 하지 않는 마음(무관심), 그리고 악을 즐기는 마음(패악)이 포함됩니다. 마음을 새롭게 하시는 분은 오직 성령 하나님이십니다.</p>
            </section>

            <section class="infographic-card">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.354a15.055 15.055 0 0 1-4.5 0m3.75-2.354a15.055 15.055 0 0 0 4.5 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 6a9 9 0 1 1 0-18 9 9 0 0 1 0 18Zm0 0a9 9 0 0 0 0-18Z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">천사와 같은 순종의 태도</h3>
                <p class="text-gray-700">우리는 단순히 하나님의 뜻을 행하는 것을 넘어, 하늘의 천사들이 하는 것과 같은 태도로 순종하기를 구해야 합니다. 그 태도는 겸손, 기쁨, 신실함, 열심, 열정, 진지함(진실성), 그리고 꾸준함(인내)을 포함합니다. 이 간구는 순종의 질적인 변화를 구하는 기도입니다.</p>
            </section>

            <section class="infographic-card md:col-span-2">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">적용 질문</h3>
                <ol class="list-decimal list-inside text-gray-700 space-y-2">
                    <li>셋째 간구에서 구하는 하나님의 뜻을 어떻게 이해하고 계십니까? 하나님의 뜻이 이루어지기를 바라는 여러분의 기도가 간구한 것은 무엇입니까?</li>
                    <li>하나님의 교훈적 뜻을 바르게 알고 기꺼이 행하려는 마음이 부족할 때, 성령의 도우심을 실제적으로 구하고 있습니까? 성령 하나님께서 어떤 도우심을 주실 것으로 기대하시고 구하십니까?</li>
                    <li>대요리문답 192항이 묘사하는 인간의 네 가지 부패한 상태(눈멂, 연약함, 무관심, 마음의 패악)는 각각 어떤 의미를 가지며, 여러분은 이러한 상태를 경험한 적이 있습니까?</li>
                    <li>셋째 간구가 요청하는 천사와 같은 태도들은 어떠한 것들입니까? 여러분이 가장 약하다고 느끼는 부분은 무엇이며, 그것을 강화하기 위해 무엇을 하고자 하십니까?</li>
                </ol>
            </section>

        </main>

        <footer class="text-center mt-8 text-sm text-gray-500">
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다.</p>
        </footer>
    </div>

    <div id="player" class="hidden"></div>

    <script>
        // 1. YouTube IFrame Player API 비동기 로드
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        var videoId = null;

        const audioToggleButton = document.getElementById('audio-toggle');
        const audioIcon = document.getElementById('audio-icon');
        const audioText = document.getElementById('audio-text');
        
        const playIconSVG = `<svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" /></svg>`;
        const pauseIconSVG = `<svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" /></svg>`;

        // 2. YouTube 플레이어 생성 함수
        function createPlayer(videoId) {
            player = new YT.Player('player', {
                height: '0',
                width: '0',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }
        
        // 3. API 로드 완료 후 실행될 콜백 (API가 자동으로 호출)
        function onYouTubeIframeAPIReady() {
            // 이 함수는 API가 로드되면 자동으로 호출됩니다.
        }

        // 4. 플레이어 준비 완료 시 실행
        function onPlayerReady(event) {
            event.target.playVideo();
        }

        // 5. 플레이어 상태 변경 시 실행 (재생, 일시정지 등)
        function onPlayerStateChange(event) {
            switch(event.data) {
                case YT.PlayerState.PLAYING:
                    audioText.textContent = '일시정지';
                    audioIcon.innerHTML = pauseIconSVG;
                    break;
                case YT.PlayerState.PAUSED:
                    audioText.textContent = 'AI 요약';
                    audioIcon.innerHTML = playIconSVG;
                    break;
                case YT.PlayerState.ENDED:
                    audioText.textContent = 'AI 요약';
                    audioIcon.innerHTML = playIconSVG;
                    player.seekTo(0);
                    player.stopVideo();
                    break;
            }
        }
        
        // 6. 비디오 ID 추출 함수
        function extractVideoId(url) {
            if (!url) return null;
            const regex = /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/;
            const match = url.match(regex);
            return match ? match[1] : null;
        }

        // 7. 페이지 로드 완료 후 버튼에 이벤트 리스너 추가
        document.addEventListener('DOMContentLoaded', () => {
            audioToggleButton.addEventListener('click', async () => {
                if (!player) {
                    try {
                        const response = await fetch('../address/0921.txt');
                        if (!response.ok) {
                            throw new Error('file not found');
                        }
                        
                        const fullUrl = await response.text();
                        if (!fullUrl.trim()) {
                            alert('유효한 오디오 주소가 파일에 없습니다.');
                            return;
                        }
                        
                        videoId = extractVideoId(fullUrl);
                        if (!videoId) {
                            alert('유효한 YouTube URL이 아닙니다.');
                            return;
                        }

                        createPlayer(videoId);

                    } catch (error) {
                        if (error.message === 'file not found') {
                            alert('아직 업로드 전입니다.');
                        } else {
                            console.error('오디오 파일 로드 오류:', error);
                        }
                    }
                } else {
                    const playerState = player.getPlayerState();
                    if (playerState === YT.PlayerState.PLAYING) {
                        player.pauseVideo();
                    } else {
                        player.playVideo();
                    }
                }
            });
        });
    </script>
</body>
</html>
