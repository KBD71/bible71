<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9월 23일: 다섯째 간구에서 구하는 기도</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .infographic-card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s ease-in-out;
        }
        .infographic-card:hover {
            transform: translateY(-5px);
        }
        .card-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 3rem;
            height: 3rem;
            border-radius: 9999px;
            margin-bottom: 1rem;
            background-color: #eef2ff; /* indigo-100 */
        }
        .card-icon svg {
            width: 1.75rem;
            height: 1.75rem;
            color: #4f46e5; /* indigo-600 */
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">

        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-2">다섯째 간구에서 구하는 기도</h1>
            <p class="text-md sm:text-lg text-gray-600 mb-4">다섯째 간구는, 우리가 갚을 수 없는 죄의 빚을 졌음을 인정하고, 오직 그리스도의 공로를 의지하여 값없는 용서를 구하는 기도입니다. 다른 이를 용서하는 것은 용서의 조건이 아니라, 우리가 용서받았다는 은혜의 증거로서 더 담대히 구할 수 있게 합니다.</p>
            <button id="audio-toggle" class="bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-300 inline-flex items-center space-x-2">
                <svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                </svg>
                <span id="audio-text">AI 요약</span>
            </button>
        </header>

        <main class="grid grid-cols-1 md:grid-cols-2 gap-6">

            <section class="infographic-card md:col-span-2">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v11.494m0 0a7.5 7.5 0 101.5-11.494A7.5 7.5 0 0012 17.747zM12 6.253v11.494a7.5 7.5 0 01-1.5-11.494A7.5 7.5 0 0112 6.253z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">대요리문답 제194문</h3>
                <div class="text-gray-700 space-y-2">
                    <p class="font-semibold">문: 다섯째 간구에서 우리는 무엇을 위해 기도합니까?</p>
                    <p>답: "우리가 우리에게 죄 지은 자를 사하여 준 것 같이 우리 죄를 사하여 주시옵고"라는 다섯째 간구에서 우리는, 우리와 다른 모든 사람이 원죄와 자범죄의 죄책이 있어 하나님의 공의에 빚진 자가 되었다는 것과 우리나 다른 아무 피조물이라도 그 빚을 조금도 갚을 수 없다는 사실을 인정합니다. 따라서 우리는 우리 자신과 다른 사람을 위해 기도하는데, 믿음에 의하여 깨달아지고 적용되는 그리스도의 순종과 속상(贖償)을 통하여, 하나님께서 그분의 값없는 은혜로 우리의 죄책과 죄의 형벌을 사면하시고, 그분의 사랑하시는 자 안에서 우리를 받아주시며, 또한 그분의 호의와 은혜를 우리에게 계속 주시고, 우리가 날마다 범하는 죄를 용서하시며, 용서의 확신을 매일 더욱더 주심으로써 우리를 화평과 기쁨으로 채우시기를 위해 기도합니다. 다른 사람의 죄를 진심으로 용서한다는 증거가 우리에게 있을 때, 우리는 이렇게 기도하는 바를 더 담대히 구할 수 있고 더욱 용기 내어 기대할 수 있게 됩니다.</p>
                </div>
            </section>

            <section class="infographic-card">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 8.25v-1.5m0 1.5c-1.355 0-2.697.056-4.024.166C6.845 8.51 6 9.473 6 10.608v2.156c0 1.136.845 2.098 1.976 2.192C9.303 15.057 10.645 15.113 12 15.113m0 0c1.355 0 2.697-.056 4.024-.166C17.155 14.84 18 13.882 18 12.764v-2.156c0-1.136-.845-2.098-1.976-2.192A48.424 48.424 0 0 0 12 8.25Z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">갚을 수 없는 죄의 빚</h3>
                [cite_start]<p class="text-gray-700">이 기도에서 "빚"이란 경제적 채무가 아니라, 하나님의 공의 앞에서 우리가 진 죄책에 대한 법적 채무를 의미합니다. [cite: 187, 188] [cite_start]모든 사람은 원죄와 자범죄로 인해 이 빚을 졌으며, 스스로는 물론 어떤 피조물도 그 빚을 조금도 갚을 수 없음을 인정하며 기도해야 합니다. [cite: 189, 191]</p>
            </section>

            <section class="infographic-card">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">용서의 근거: 그리스도의 공로</h3>
                [cite_start]<p class="text-gray-700">우리가 빚을 갚을 능력이 없으므로, 용서는 오직 하나님 아버지의 "값없는 은혜"를 통해 가능합니다. [cite: 195] [cite_start]우리는 "그리스도의 순종과 속상(贖償)"을 의지하여 죄 사함을 구합니다. [cite: 196] [cite_start]'속상'이란 그리스도께서 십자가 형벌로 우리의 죗값을 대신 치르신 것을 의미하며, 이 공로는 오직 믿음을 통해 우리에게 적용됩니다. [cite: 200, 201]</p>
            </section>
            
            <section class="infographic-card">
                <div class="card-icon">
                     <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">매일의 용서와 교제의 회복</h3>
                [cite_start]<p class="text-gray-700">신자는 이미 모든 죄책을 사함 받았고 정죄함이 없지만(롬 8:1), 여전히 날마다 죄를 짓습니다. [cite: 212, 213, 214] [cite_start]이 죄들은 구원을 잃게 하지는 않지만, 하나님 아버지를 불쾌하게 하고 그분과의 영적 교제를 약화시킵니다. [cite: 215, 217] [cite_start]따라서 우리는 관계 회복과 용서의 확신, 평안과 기쁨을 위해 매일의 죄를 고백하고 용서를 구해야 합니다. [cite: 218, 219]</p>
            </section>

            <section class="infographic-card">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">다른 이를 용서함의 의미</h3>
                [cite_start]<p class="text-gray-700">"우리가 우리에게 죄 지은 자를 사하여 준 것같이"라는 구절은 우리가 다른 사람을 용서하는 행위가 하나님의 용서를 받는 조건이나 공로가 아님을 의미합니다. [cite: 225] [cite_start]오히려, 우리가 다른 사람을 '마음으로부터' 용서할 수 있는 능력은, 우리가 먼저 하나님의 용서를 받았다는 성령의 열매이자 증거입니다. [cite: 228, 233, 238] [cite_start]이 증거가 있을 때 우리는 더욱 담대하게 용서를 구할 수 있습니다. [cite: 238]</p>
            </section>

            <section class="infographic-card md:col-span-2">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">적용 질문</h3>
                <ol class="list-decimal list-inside text-gray-700 space-y-2">
                    [cite_start]<li>다섯째 간구에서 "빚"이라는 용어는 어떤 의미를 표현하며, 경제적 채무와는 어떻게 다릅니까? [cite: 240]</li>
                    [cite_start]<li>"우리가 우리에게 죄 지은 자를 사하여 준 것같이"라는 표현이 하나님께 죄 사함을 구하는 조건이나 공로가 될 수 없는 이유는 무엇입니까? [cite: 241]</li>
                    <li>날마다 짓는 죄 때문에 이미 받은 칭의(의롭다 하심)에 대해 의심하거나 불안해한 적이 있습니까? [cite_start]하나님과의 교제가 약화될 때, 어떤 방식으로 회복을 구하며 기도하십니까? [cite: 242, 243]</li>
                    [cite_start]<li>다른 사람을 '마음으로부터' 용서하는 것이 자신이 하나님의 용서를 받은 자임을 증거한다는 사실을 기억할 때, 지금 누구를 용서해야 합니까? [cite: 245]</li>
                </ol>
            </section>

        </main>

        <footer class="text-center mt-8 text-sm text-gray-500">
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다.</p>
        </footer>
    </div>

    <div id="player" class="hidden"></div>

    <script>
        // 1. YouTube IFrame Player API 비동기 로드
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        var videoId = null;

        const audioToggleButton = document.getElementById('audio-toggle');
        const audioIcon = document.getElementById('audio-icon');
        const audioText = document.getElementById('audio-text');
        
        const playIconSVG = `<svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" /></svg>`;
        const pauseIconSVG = `<svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" /></svg>`;

        // 2. YouTube 플레이어 생성 함수
        function createPlayer(videoId) {
            player = new YT.Player('player', {
                height: '0',
                width: '0',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }
        
        // 3. API 로드 완료 후 실행될 콜백 (API가 자동으로 호출)
        function onYouTubeIframeAPIReady() {
            // 이 함수는 API가 로드되면 자동으로 호출됩니다.
        }

        // 4. 플레이어 준비 완료 시 실행
        function onPlayerReady(event) {
            event.target.playVideo();
        }

        // 5. 플레이어 상태 변경 시 실행 (재생, 일시정지 등)
        function onPlayerStateChange(event) {
            switch(event.data) {
                case YT.PlayerState.PLAYING:
                    audioText.textContent = '일시정지';
                    audioIcon.innerHTML = pauseIconSVG;
                    break;
                case YT.PlayerState.PAUSED:
                    audioText.textContent = 'AI 요약';
                    audioIcon.innerHTML = playIconSVG;
                    break;
                case YT.PlayerState.ENDED:
                    audioText.textContent = 'AI 요약';
                    audioIcon.innerHTML = playIconSVG;
                    player.seekTo(0);
                    player.stopVideo();
                    break;
            }
        }
        
        // 6. 비디오 ID 추출 함수
        function extractVideoId(url) {
            if (!url) return null;
            const regex = /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/;
            const match = url.match(regex);
            return match ? match[1] : null;
        }

        // 7. 페이지 로드 완료 후 버튼에 이벤트 리스너 추가
        document.addEventListener('DOMContentLoaded', () => {
            audioToggleButton.addEventListener('click', async () => {
                if (!player) {
                    try {
                        const response = await fetch('../address/dcaddr.txt');
                        if (!response.ok) {
                            throw new Error('file not found');
                        }

                        const fileContent = await response.text();
                        if (!fileContent.trim()) {
                            alert('유효한 오디오 주소가 파일에 없습니다.');
                            return;
                        }

                        // 0923 날짜에 해당하는 링크 찾기
                        const lines = fileContent.split('\n');
                        const targetDate = '0923'; // 파일명에서 추출한 날짜
                        let fullUrl = '';

                        for (const line of lines) {
                            if (line.trim().startsWith(targetDate + ' ')) {
                                fullUrl = line.trim().substring(5); // '0923 ' 부분 제거
                                break;
                            }
                        }

                        if (!fullUrl) {
                            alert('해당 날짜의 오디오 주소를 찾을 수 없습니다.');
                            return;
                        }
                        
                        videoId = extractVideoId(fullUrl);
                        if (!videoId) {
                            alert('유효한 YouTube URL이 아닙니다.');
                            return;
                        }

                        createPlayer(videoId);

                    } catch (error) {
                        if (error.message === 'file not found') {
                            alert('아직 업로드 전입니다.');
                        } else {
                            console.error('오디오 파일 로드 오류:', error);
                        }
                    }
                } else {
                    const playerState = player.getPlayerState();
                    if (playerState === YT.PlayerState.PLAYING) {
                        player.pauseVideo();
                    } else {
                        player.playVideo();
                    }
                }
            });
        });
    </script>
</body>
</html>
