<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9월 16일: '주님께서 가르치신 기도'의 올바른 사용</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .infographic-card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s ease-in-out;
        }
        .infographic-card:hover {
            transform: translateY(-5px);
        }
        .card-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 3rem;
            height: 3rem;
            border-radius: 9999px;
            margin-bottom: 1rem;
            background-color: #eef2ff; /* indigo-100 */
        }
        .card-icon svg {
            width: 1.75rem;
            height: 1.75rem;
            color: #4f46e5; /* indigo-600 */
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">

        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-2">'주님께서 가르치신 기도'의 올바른 사용</h1>
            <p class="text-md sm:text-lg text-gray-600 mb-4">대요리문답 187문은 '주님의 기도'를 기도의 지침으로 삼고, 그 자체로도 기도할 수 있음을 가르칩니다. 이때 바른 이해와 믿음, 경외심을 가지고 형식주의를 경계하며 드려야 합니다.</p>
            <button id="audio-toggle" class="bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-300 inline-flex items-center space-x-2">
                <svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                </svg>
                <span id="audio-text">AI 요약</span>
            </button>
        </header>

        <main class="grid grid-cols-1 md:grid-cols-2 gap-6">

            <section class="infographic-card md:col-span-2">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v11.494m0 0a7.5 7.5 0 101.5-11.494A7.5 7.5 0 0012 17.747zM12 6.253v11.494a7.5 7.5 0 01-1.5-11.494A7.5 7.5 0 0112 6.253z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">대요리문답 제187문</h3>
                <div class="text-gray-700 space-y-2">
                    <p class="font-semibold">문: '주님의 기도'는 어떻게 사용해야 합니까?</p>
                    <p>답: '주님의 기도'는 기도의 지침으로서 우리는 다른 기도를 이 모범에 따라 해야 할 뿐만 아니라, 그 자체를 기도로 사용할 수도 있습니다. 따라서 '주님의 기도'는 바른 이해와 믿음과 경외, 그리고 기도의 의무를 바르게 이행하는 데 필요한 다른 은혜들과 함께 드려야 합니다.</p>
                </div>
            </section>

            <section class="infographic-card">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">기도의 모범 (교훈적 용도)</h3>
                <p class="text-gray-700">'주님의 기도'는 성도가 하나님의 뜻에 따라 바르게 기도하도록 방향을 제시하는 **지침**입니다. 기도할 내용, 구조, 하나님의 영광을 우선하는 태도 등 기도의 길을 안내합니다. 이를 통해 신자는 임의대로 기도하는 혼란을 피하고, 올바른 기도를 통해 다른 성도와 영적 일치를 누릴 수 있습니다.</p>
            </section>

            <section class="infographic-card">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.182 15.182a4.5 4.5 0 01-6.364 0M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">실제 기도로서의 사용</h3>
                <p class="text-gray-700">'주님의 기도'는 단순히 모범일 뿐 아니라, 그 **자체를 암송하는 행위**가 하나님께 드리는 참된 기도로 인정됩니다. 웨스트민스터 총대들은 기계적으로 반복하는 형식주의를 경계하면서도, 그 가능성 때문에 '주님의 기도'를 실제 기도로 사용하는 것을 금지하지 않았습니다. 일부 급진파들은 고정된 문구를 읽는 것이 성령의 자발성을 거스른다고 보았으나, 장로교회는 신학적 분별을 통해 경건과 믿음으로 사용할 것을 권장합니다.</p>
            </section>

            <section class="infographic-card md:col-span-2">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">기도의 바른 자세</h3>
                <p class="text-gray-700">형식주의 오류를 피하기 위해 '주님의 기도'는 다음과 같은 은혜와 함께 드려야 합니다.</p>
                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                    <li><strong>바른 이해:</strong> 기도의 내용과 의미를 알고 기도해야 합니다.</li>
                    <li><strong>믿음:</strong> 하나님의 약속을 신뢰하며 기도해야 합니다.</li>
                    <li><strong>경외:</strong> 거룩하신 하나님 앞에서 겸손한 마음으로 드려야 합니다.</li>
                    <li><strong>기타 은혜들:</strong> 사랑, 회개, 진실함, 인내, 순종하는 마음을 다해야 합니다.</li>
                </ul>
            </section>

            <section class="infographic-card md:col-span-2">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-900">적용 질문</h3>
                <ol class="list-decimal list-inside text-gray-700 space-y-2">
                    <li>여러분 생각에, 굳이 '주님의 기도'가 기도의 모범을 제시하는 교육적인 용도로 사용될 필요가 있겠습니까? 그렇다면 그 까닭은 무엇이며, 어떤 의미에서 모범을 제시합니까?</li>
                    <li>여러분의 개인 기도나, 교회의 공적 예배에서 드려지는 기도가 '주님의 기도'가 교훈하는 기도의 모범에 비추어 적절합니까?</li>
                    <li>왜 일부 개신교 교파나 교인들은 '주님의 기도'를 실제 기도로 사용하는 것을 꺼리거나 반대했습니까? 그들의 주된 신학적 우려는 무엇입니까?</li>
                    <li>'주님의 기도'를 실제 기도로 사용할 때, 여러분은 혹시 '주님의 기도'를 형식적으로 암송하지는 않았습니까?</li>
                </ol>
            </section>

        </main>

        <footer class="text-center mt-8 text-sm text-gray-500">
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다.</p>
        </footer>
    </div>

    <div id="player" class="hidden"></div>

    <script>
        // 1. YouTube IFrame Player API 비동기 로드
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        var videoId = null;

        const audioToggleButton = document.getElementById('audio-toggle');
        const audioIcon = document.getElementById('audio-icon');
        const audioText = document.getElementById('audio-text');
        
        const playIconSVG = `<svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" /></svg>`;
        const pauseIconSVG = `<svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" /></svg>`;

        // 2. YouTube 플레이어 생성 함수
        function createPlayer(videoId) {
            player = new YT.Player('player', {
                height: '0',
                width: '0',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }
        
        // 3. API 로드 완료 후 실행될 콜백 (API가 자동으로 호출)
        function onYouTubeIframeAPIReady() {
            // 이 함수는 API가 로드되면 자동으로 호출됩니다.
            // 버튼 클릭 시 플레이어를 생성하도록 로직을 변경합니다.
        }

        // 4. 플레이어 준비 완료 시 실행
        function onPlayerReady(event) {
            event.target.playVideo();
        }

        // 5. 플레이어 상태 변경 시 실행 (재생, 일시정지 등)
        function onPlayerStateChange(event) {
            switch(event.data) {
                case YT.PlayerState.PLAYING:
                    audioText.textContent = '일시정지';
                    audioIcon.innerHTML = pauseIconSVG;
                    break;
                case YT.PlayerState.PAUSED:
                    audioText.textContent = 'AI 요약';
                    audioIcon.innerHTML = playIconSVG;
                    break;
                case YT.PlayerState.ENDED:
                    audioText.textContent = 'AI 요약';
                    audioIcon.innerHTML = playIconSVG;
                    player.seekTo(0);
                    player.stopVideo();
                    break;
            }
        }
        
        // 6. 비디오 ID 추출 함수
        function extractVideoId(url) {
            if (!url) return null;
            // 정규식: youtube.com/watch?v=VIDEO_ID 또는 youtu.be/VIDEO_ID 등 다양한 형식 지원
            const regex = /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/;
            const match = url.match(regex);
            return match ? match[1] : null;
        }

        // 7. 페이지 로드 완료 후 버튼에 이벤트 리스너 추가
        document.addEventListener('DOMContentLoaded', () => {
            audioToggleButton.addEventListener('click', async () => {
                // 플레이어가 아직 생성되지 않은 경우
                if (!player) {
                    try {
                        const response = await fetch('../address/0916.txt');
                        if (!response.ok) {
                            throw new Error('file not found');
                        }
                        
                        const fullUrl = await response.text();
                        if (!fullUrl.trim()) {
                            alert('유효한 오디오 주소가 파일에 없습니다.');
                            return;
                        }
                        
                        videoId = extractVideoId(fullUrl);
                        if (!videoId) {
                            alert('유효한 YouTube URL이 아닙니다.');
                            return;
                        }

                        createPlayer(videoId);

                    } catch (error) {
                        if (error.message === 'file not found') {
                            alert('아직 업로드 전입니다.');
                        } else {
                            console.error('오디오 파일 로드 오류:', error);
                        }
                    }
                } else {
                    // 플레이어가 이미 생성된 경우, 상태에 따라 재생/일시정지 토글
                    const playerState = player.getPlayerState();
                    if (playerState === YT.PlayerState.PLAYING) {
                        player.pauseVideo();
                    } else {
                        player.playVideo();
                    }
                }
            });
        });
    </script>
</body>
</html>
