<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날마다 읽는 교리 - 12월 6일</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" as="style" crossorigin="anonymous" />
    <style>
        body {
            font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            word-break: keep-all;
            background-color: #f3f4f6;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        .card-header {
            background-color: #4a5568;
            color: white;
            padding: 1rem 1.5rem;
            font-size: 1.25rem;
            font-weight: 700;
            border-bottom: 1px solid #e5e7eb;
        }
        .card-body {
            padding: 1.5rem;
            line-height: 1.75;
        }
        .card-body h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #1f2937;
        }
        .card-body p {
            margin-bottom: 1rem;
            color: #374151;
        }
        .card-body ul {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-bottom: 1rem;
            color: #374151;
        }
        .card-body li {
            margin-bottom: 0.5rem;
        }
        .card-body .question {
            font-weight: 600;
            color: #111827;
        }
        .card-body .answer {
            color: #374151;
        }
        .audio-player-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            background-color: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }
        .audio-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 500;
            border-radius: 0.5rem;
            transition: all 0.2s ease-in-out;
            border: 1px solid transparent;
        }
        .audio-button:disabled {
            background-color: #e5e7eb;
            color: #9ca3af;
            cursor: not-allowed;
        }
        .audio-button.play {
            background-color: #2563eb;
            color: white;
        }
        .audio-button.play:hover {
            background-color: #1d4ed8;
        }
        .audio-button.pause {
            background-color: #f87171;
            color: white;
        }
        .audio-button.pause:hover {
            background-color: #ef4444;
        }
        .audio-error {
            color: #dc2626;
            font-weight: 500;
            text-align: center;
        }
        #player-container {
            width: 1px;
            height: 1px;
            opacity: 0;
            position: absolute;
            top: -100px;
            left: -100px;
        }
        footer {
            text-align: center;
            padding: 2rem 1rem;
            font-size: 0.875rem;
            color: #6b7280;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="container mx-auto max-w-3xl px-4 py-8 sm:py-12">

        <header class="mb-8 text-center">
            <h1 class="text-4xl font-bold text-gray-800">12월 6일</h1>
            <p class="text-xl text-gray-600 mt-2">주의 만찬에 합당하게 참여하기</p>
        </header>

        <main>
            <div class="card">
                <div class="card-header">
                    소요리문답 97
                </div>
                <div class="card-body">
                    <p class="answer">대요리문답 171 소요리문답 97: 97. 주의 만찬을합당하게 받기 위해 요구되는것은무 엇입니까? 답. 주의 만찬에 합당하게 참여하려는 자들에게 요구되는 것은 자신에게 주의 몸을 분별하는 지식과,1) 그분을 먹는 믿음과,2) 그리고 회개와3) 사랑과4) 새로운 순종이 5) 있는지를 살피는 것입니다. 합당하지 않게 참 여함으로써 자기 자신에 대한 심판올 먹고 마시는 것이 되지 않도록 해야 합니다.6) 1) 고전 11 :28-29. 3) 고전 11:31. 5) 고전 5:7-8. 2) 고후 13:5. 4) 고전 10:16-17. 6) 고전 11 :28-29. 대요리문답 171: 17 1. 주의 만찬의 성례를 받는 사람은 성찬에 참여하기 전에 어떻게 준비해야 합니까? 달 주의 만찬의 성례를 받는 사람은 성찬에 참여 하기 전에 다음과 같이 준비해야 합니다. 먼저 자신이 그리스도 안에 있는지에 대하여,1) 자신의 죄와 부족함 에 대하여? 지식과3) 믿음과4) 회개5) 그리고 하나님과 형제들을 향한 사랑,8) 모든 사람을 향한 자비? 자기에 게 잘못한 사람에 대한 용서가B) 진실하고 충분한지에 대하여, 또한 그리스도를 따르고자 하는 갈망에 대하 ,9) 그리고 새로운 순종에 대하여10) 자신을 살핌으로 써 준비해야 합니다.11) 그리고 진지하게 묵상하고띠 열심 히 기도하여때 이런 은혜들을 새롭게 실천함으로써 4) 준 비해야합니다. 1) 고후 13:5. 2) 고전 5:7; 출 12:15. 3) 고전 11:29. 4) 고전 13:5; 마 26:28. 5) 슥 12:10; 고전 11:31. 6) 고전 10:16-17; 행 2:46-47. 7) 고전 5:8; 11 :18, 20. 8) 마 5:23-24. 9) 사 55:1 ; 요 7:37. 10) 고전 5:7-8. 11) 고전 11:28. 12) 고전 11:24-25. 13) 대하 30:18-19; 마 26:26. 14) 고전 11:25-26, 28; 히 10:21-22, 24; 시 26:6. ‘</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    AI요약 듣기
                </div>
                <div class="audio-player-container" id="audio-player-ui">
                    <div id="player-container"></div>
                    <button id="audio-button" class="audio-button play" aria-label="교리 오디오 재생" disabled>
                        <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2">
                            <path fill-rule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z" clip-rule="evenodd" />
                        </svg>
                        <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2" style="display: none;">
                            <path fill-rule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z" clip-rule="evenodd" />
                        </svg>
                        <span id="button-text">로딩 중...</span>
                    </button>
                    <div id="audio-error" class="audio-error mt-4" style="display: none;"></div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    교리 해설
                </div>
                <div class="card-body">
                    <p>오늘 읽는 소요리문답 97항과 대요리문답 171 항은 모두 성찬식에 합당하 
게 참여하기 위해 수찬자가 어떠한 준비를 해야 하는가에 대해 교훈합니다. 
성찬에 참여하기 전의 준비는 “사람이 자기를 살피고 그 후에야 이 떡을 먹 
고 이 잔을 마실지니라”(고전 11:28) 라는 말씀에 근거한 마땅한 의무입니 
다. 그러므로 우리는 어떻게 자신을 바르고 충분히 준비해야 하는지를 분 
명히 알아야 하며, 오늘의 두 문답은 이에 대한 풍성하고 구체적인 지침을 
제공합니다. 오늘 해설에서는 대요리문답 171 항을 중심으로 일곱 가지 주 
제로 나누어 살피되, 소요리문답 97항의 내용이 대요리문답과 공통된 주제 
를 다루는 경우에는 함께 설명하고, 그렇지 않은 부분은 별도로 보충하여 
다루고자합니다. 
(1) “주의 만찬의 성례를 받는 사람은 성찬에 참여하기 전에 다음과 같이 
준비해야 합니다”(대요리문답 171); “주의 만찬에 합당하게 참여하려는 자 
들에게 요구되는 것은”(소요리문답 97): 두 문답은 공통적으로, 성찬에 참 
여하기 위해서는 합당한 준비가 반드시 필요하다는 점을 명확히 가르칩니 
다. 이 교훈은 절실히 필요합니다. 어제 읽은 신앙고백서 29.8에서처럼 준비 
룰 소홀히 하거나 무시하여 성례에 합당하지 않게 참여하는 일이 있게 되 
면, 주님의 몸과 피에 대하여 죄를 범하여 스스로 정죄에 이르게 되기 때문 
입니다. 이에 따라 두 문답은 합당하지 않은 상태에서 성찬을 받는 일이 없 
도록 하기 위하여 실천적 준비의 내용을 정리하여 제시하며, 이것은 곧 신앙고백서 29.8의 경고에 대한 긍정적 대응으로 이해할 수 있습니다. 
(2) “먼저 자신이 그리스도 안에 있는지에 대하여 ••• 자신을 살핌으로써 
준비해야 합니다"（대요리문답 171): 자신이 그리스도 안에 있는지를 살피는 
일은, 그리스도와 그분의 중보적 온택들을 믿고 있는지, 그리고 그 믿음에 
합당한 삶을 살고 있는지를 점검하는 것입니다. 성찬은 그리스...</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    적용 질문
                </div>
                <div class="card-body">
                    <ul>
                        <li><span class="question">성찬에 참여하기 전에 합당한 준비가 왜 필수적인지, 그리고 이것이 신앙고백서 29.8의 경고와 어떤 관계에 있는지 설명할 수 있습니까? 여러분</span></li>
<li><span class="question">은 주님의 몸과 피에 대하여 죄를 범하지 않기 위해, 성찬을 대하기 전 자</span></li>
<li><span class="question">신의 마음과 태도를 경건하게 준비하고 계십니까?</span></li>
<li><span class="question">자신이 그리스도 안에 있는지를 살핀다는 것은 무엇을 의미하며, 그리</span></li>
<li><span class="question">스도를 믿는 참된 믿음이 어떤 열매를 맺는지를 이해하고 계십니까? 여러</span></li>
<li><span class="question">분은 성찬이 새로운 출발의 수단이 아니라 이미 그리스도와 연합한 자에게</span></li>

                    </ul>
                </div>
            </div>
        </main>

        <footer>
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
        </footer>

    </div>

    <script>
        let player;
        let videoId = null;
        let isPlayerReady = false;
        let isPlaying = false;
        const audioButton = document.getElementById('audio-button');
        const buttonText = document.getElementById('button-text');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const errorContainer = document.getElementById('audio-error');

        function loadYouTubeAPI() {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }

        function onYouTubeIframeAPIReady() {
            fetchAudioAddress();
        }

        async function fetchAudioAddress() {
            try {
                const response = await fetch('../address/dcaddr.txt');
                if (!response.ok) {
                    throw new Error('오디오 목록 파일을 불러오는 데 실패했습니다.');
                }
                const text = await response.text();
                const lines = text.split('\n');
                const today = '1206';
                const todayLine = lines.find(line => line.startsWith(today));

                if (todayLine) {
                    const regex = /(?:v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                    const match = todayLine.match(regex);
                    if (match && match[1]) {
                        videoId = match[1];
                        initializePlayer();
                    } else {
                        throw new Error('오늘 날짜의 오디오 주소 형식이 올바르지 않습니다.');
                    }
                } else {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                }
            } catch (error) {
                console.error('Error fetching audio address:', error);
                showError(error.message || '오디오를 불러오는 중 오류가 발생했습니다.');
            }
        }

        function initializePlayer() {
            player = new YT.Player('player-container', {
                height: '1',
                width: '1',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1,
                    'controls': 0,
                  'showinfo': 0,
                    'rel': 0
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            isPlayerReady = true;
            audioButton.disabled = false;
            buttonText.textContent = 'AI요약 듣기';
            audioButton.setAttribute('aria-label', '교리 오디오 재생');
            audioButton.addEventListener('click', togglePlayPause);
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                isPlaying = true;
                updateButtonUI(true);
            } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                isPlaying = false;
                updateButtonUI(false);
                if (event.data === YT.PlayerState.ENDED) {
                    player.seekTo(0);
                }
            }
        }

        function togglePlayPause() {
            if (!isPlayerReady) return;
            if (isPlaying) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }

        function updateButtonUI(playing) {
            if (playing) {
                audioButton.classList.remove('play');
                audioButton.classList.add('pause');
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'inline';
                buttonText.textContent = '일시정지';
                audioButton.setAttribute('aria-label', '교리 오디오 일시정지');
            } else {
                audioButton.classList.remove('pause');
                audioButton.classList.add('play');
                playIcon.style.display = 'inline';
                pauseIcon.style.display = 'none';
                buttonText.textContent = 'AI요약 듣기';
                audioButton.setAttribute('aria-label', '교리 오디오 재생');
            }
        }

        function showError(message) {
            const button = document.getElementById('audio-button');
            if (button) {
                button.style.display = 'none';
            }
            errorContainer.textContent = message;
            errorContainer.style.display = 'block';
        }

        loadYouTubeAPI();
    </script>

</body>
</html>