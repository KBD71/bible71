<!DOCTYPE html>

<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>10월 26일 | 그리스도와의 연합과 성도의 교제</title>
<link as="style" crossorigin="" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com"></script>
<style>
        body {
            font-family: 'Pretendard', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
<div class="container mx-auto max-w-3xl px-4 py-8">
<header class="text-center mb-8">
<h1 class="text-4xl font-bold text-gray-900">10월 26일</h1>
<p class="text-xl text-gray-600 mt-2">그리스도와의 연합과 성도의 교제</p>
</header>
<section class="bg-white p-6 rounded-lg shadow-md mb-6" id="audio-player-section">
<h2 class="text-2xl font-semibold mb-4">AI요약 듣기</h2>
<div class="flex items-center space-x-4" id="player-ui">
<button aria-label="교리 오디오 재생/일시정지" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full w-28 transition-opacity duration-300" disabled="" id="play-pause-button">
                    로딩 중...
                </button>
<div class="w-full bg-gray-200 rounded-full h-2.5">
<div class="bg-blue-600 h-2.5 rounded-full" id="progress-bar" style="width: 0%"></div>
</div>
</div>
<div class="hidden" id="player"></div>
<div class="hidden text-red-500 mt-4" id="error-message"></div>
</section>
<section class="bg-white p-6 rounded-lg shadow-md mb-6">
<h2 class="text-2xl font-semibold mb-4 text-blue-800">대요리문답 69</h2>
<div class="space-y-4 text-lg leading-relaxed">
<p><strong class="font-bold">문:</strong> 보이지 않는 교회의 지체들이 은혜 안에서 그리스도와 함께하는 교제는 무엇입니까?</p>
<p><strong class="font-bold">답:</strong> 보이지 않는 교회의 지체들이 은혜 안에서 그리스도와 함께하는 교제는 칭의, 양자 됨, 성화, 그리고 그 밖에 이 세상에서 그리스도와의 연합을 나타내는 다른 모든 것 안에서 그리스도의 중보 사역의 효과에 참여함입니다.</p>
</div>
</section>
<section class="bg-white p-6 rounded-lg shadow-md mb-6">
<h2 class="text-2xl font-semibold mb-4 text-blue-800">신앙고백서 26.1</h2>
<div class="space-y-4 text-lg leading-relaxed">
<p>모든 성도는 자신들의 머리이신 예수 그리스도에게 그분의 성령에 의하여 그리고 믿음으로 연합되어 그리스도와 함께 그분의 은혜, 고난, 죽음, 부활, 그리고 영광에 참여한다. 그리고 사랑 안에서 서로 연합되어 각 사람의 은사와 은혜를 나눈다. 또한 속사람과 겉사람 모두와 관련하여 서로의 유익에 기여하는 공적, 사적 의무를 행할 책임이 있다.</p>
</div>
</section>
<section class="bg-white p-6 rounded-lg shadow-md mb-6">
<h2 class="text-2xl font-semibold mb-4 text-blue-800">교리 해설</h2>
<div class="space-y-6 text-lg leading-relaxed">
<p>
                    교회는 단순히 제도 안에 존재하는 것이 아니라, 성도 각자가 그리스도와 연합하고, 그 기초 위에서 서로 사랑으로 섬기는 <strong class="text-blue-600">성도의 교제</strong>(the Communion of Saints)를 통해 실현됩니다. 이 교제의 본질은 다음과 같이 네 가지로 나누어 살펴볼 수 있습니다.
                </p>
<div>
<strong class="text-xl block text-gray-900">(1) 기초: 그리스도와의 연합</strong>
<div class="pl-4 mt-2 space-y-3 border-l-4 border-blue-100">
<p>성도의 교제는 성도 간의 교제 이전에, 각 성도가 머리이신 그리스도와 먼저 연합하는 것에서 출발합니다. <strong class="text-blue-600">그리스도와의 연합</strong>이 모든 교제의 기초입니다. 이 연합은 "성령에 의하여 그리고 믿음으로" 이루어지며, 이를 통해 성도는 그리스도의 "은혜, 고난, 죽음, 부활, 그리고 영광"에 참여하게 됩니다.</p>
</div>
</div>
<div>
<strong class="text-xl block text-gray-900">(2) 내용: 구속 사역에의 참여</strong>
<div class="pl-4 mt-2 space-y-3 border-l-4 border-blue-100">
<p>성도의 교제는 그리스도께서 성취하신 구원의 은택에 실제로 참여하는 것입니다. 이는 <strong class="text-blue-600">법적이며 언약적인 연합</strong>에 의한 참여입니다. 즉, 그리스도께서 우리를 대신하여 십자가에서 죽으셨기에, 법적으로 우리가 그 죽음에 참여한 것으로 간주됩니다(갈 2:20; 롬 6:6). 마찬가지로, 그분의 부활은 우리의 부활로 간주되며(롬 6:5), 장차 누릴 영광을 보증하는 "첫 열매"가 됩니다. 이 연합을 통해 성도는 <strong class="text-blue-600">칭의</strong>, <strong class="text-blue-600">양자 됨</strong>, <strong class="text-blue-600">성화</strong>와 같은 구원의 모든 은혜를 누리게 됩니다.</p>
</div>
</div>
<div>
<strong class="text-xl block text-gray-900">(3) 표현: 사랑 안에서 은사와 은혜를 나눔</strong>
<div class="pl-4 mt-2 space-y-3 border-l-4 border-blue-100">
<p>그리스도와의 수직적 연합은 자연스럽게 성도들 간의 수평적 연합으로 이어집니다. 이 연합의 본질은 "사랑"입니다(골 3:14). 성도는 사랑 안에서 각자 받은 "은사"(가르침, 섬김 등 영적 선물)와 "은혜"(성령의 열매, 위로, 소망 등)를 서로 나누어 공동체의 덕을 세워야 합니다(롬 14:19; 살전 5:11).</p>
</div>
</div>
<div>
<strong class="text-xl block text-gray-900">(4) 의무: 총체적인 상호 돌봄</strong>
<div class="pl-4 mt-2 space-y-3 border-l-4 border-blue-100">
<p>성도의 교제는 선택이 아닌 언약적 의무입니다. 성도는 서로의 유익을 위해 섬길 책임이 있습니다. 이 책임의 범위는 <strong class="text-blue-600">"속사람과 겉사람 모두와 관련"</strong>됩니다. <strong class="text-blue-600">"속사람"</strong>의 유익은 말씀, 기도, 위로 등 영적인 돌봄을, <strong class="text-blue-600">"겉사람"</strong>의 유익은 경제적 도움과 물질적 나눔 등 실제적인 필요를 채우는 것을 포함합니다. 이러한 의무는 교회의 "공적 의무"(공예배, 사역)와 성도의 "사적 의무"(일상 속 돌봄)를 통해 실천됩니다.</p>
</div>
</div>
</div>
</section>

<footer class="text-center mt-8 text-sm text-gray-500">
<p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
</footer>
</div>
<script>
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        let player;
        let progressInterval;
        const playPauseButton = document.getElementById('play-pause-button');
        const progressBar = document.getElementById('progress-bar');
        const errorMessageDiv = document.getElementById('error-message');
        const playerUi = document.getElementById('player-ui');

        function onYouTubeIframeAPIReady() {
            loadVideoForToday();
        }

        async function loadVideoForToday() {
            try {
                const response = await fetch('../address/dcaddr.txt');
                if (!response.ok) {
                    throw new Error('Audio address file could not be loaded.');
                }
                const data = await response.text();
                const lines = data.split('\n');
                
                const todayKey = '1026';

                // --- 수정된 부분 시작 ---
                // '1021'로 시작하는 줄을 찾습니다 (공백이나 '=' 모두 처리).
                const todayLine = lines.find(line => line.trim().startsWith(todayKey));
                
                if (!todayLine) {
                    throw new Error('not_uploaded');
                }

                // 날짜(키) 부분을 제외하고 나머지(URL)를 추출합니다.
                let url = todayLine.substring(todayKey.length).trim();
                // 맨 앞에 '=' 문자가 있다면 제거합니다.
                if (url.startsWith('=')) {
                    url = url.substring(1).trim();
                }
                // --- 수정된 부분 끝 ---

                const videoId = extractVideoID(url);

                if (!videoId) {
                    // URL은 찾았으나 비디오 ID 추출에 실패한 경우
                    throw new Error('Invalid YouTube URL in dcaddr.txt');
                }
                
                player = new YT.Player('player', {
                    height: '0',
                    width: '0',
                    videoId: videoId,
                    playerVars: {
                        'playsinline': 1
                    },
                    events: {
                        'onReady': onPlayerReady,
                        'onStateChange': onPlayerStateChange
                    }
                });

            } catch (error) {
                playerUi.classList.add('hidden');
                errorMessageDiv.classList.remove('hidden');
                if (error.message === 'not_uploaded') {
                    errorMessageDiv.textContent = '오늘의 AI요약 음성은 아직 업로드 전입니다.';
                } else {
                    errorMessageDiv.textContent = '오디오를 불러오는 중 오류가 발생했습니다.';
                    console.error('Error loading video:', error);
                }
            }
        }

        function extractVideoID(url) {
            // 다양한 YouTube URL 형식에서 비디오 ID를 추출하는 정규식
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        function onPlayerReady(event) {
            playPauseButton.disabled = false;
            playPauseButton.textContent = '재생';
            playPauseButton.setAttribute('aria-label', '교리 오디오 재생');
            
            playPauseButton.addEventListener('click', togglePlayPause);
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                playPauseButton.textContent = '일시정지';
                playPauseButton.setAttribute('aria-label', '교리 오디오 일시정지');
                progressInterval = setInterval(updateProgressBar, 1000);
            } else {
                playPauseButton.textContent = '재생';
                playPauseButton.setAttribute('aria-label', '교리 오디오 재생');
                clearInterval(progressInterval);
                if (event.data === YT.PlayerState.ENDED) {
                    progressBar.style.width = '100%';
                }
            }
        }

        function togglePlayPause() {
            if (player.getPlayerState() === YT.PlayerState.PLAYING) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }

        function updateProgressBar() {
            if (player && player.getDuration) {
                const currentTime = player.getCurrentTime();
                const duration = player.getDuration();
                const progress = (currentTime / duration) * 100;
                progressBar.style.width = progress + '%';
            }
        }
    </script>
</body>
</html>
