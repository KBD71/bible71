<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2월 8일 | 날마다 읽는 교리</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        }
        .keep-all {
            word-break: keep-all;
            word-wrap: break-word;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 antialiased selection:bg-indigo-100 selection:text-indigo-800 pb-20">

    <!-- Header -->
    <header class="w-full max-w-4xl mx-auto p-6 md:p-8 mt-4 mb-2 text-center">
        <span class="inline-block py-1 px-3 rounded-full bg-indigo-100 text-indigo-700 text-sm font-bold tracking-wide mb-2">2월 8일</span>
        <h1 class="text-3xl md:text-4xl font-extrabold text-slate-900 tracking-tight leading-tight word-keep">
            사람의 창조 – 하나님의 형상
        </h1>
        <p class="mt-2 text-slate-500 font-medium">웨스트민스터 신앙고백서 4장 2항</p>
    </header>

    <main class="w-full max-w-3xl mx-auto px-4 md:px-6 space-y-8">

        <!-- Section 1: Original Text -->
        <section class="bg-white rounded-2xl shadow-lg overflow-hidden border-t-4 border-slate-600">
            <div class="p-6 md:p-8">
                <h2 class="text-lg font-bold text-slate-700 mb-4 flex items-center">
                    <span class="w-2 h-8 bg-slate-600 mr-3 rounded-sm"></span>
                    신앙고백서 4.2
                </h2>
                <div class="bg-slate-50 rounded-xl p-5 md:p-6 text-slate-700 leading-relaxed border border-slate-100">
                    <p class="keep-all text-justify font-medium">
                        "다른 모든 피조물을 만드신 후에, 하나님께서 이성적이며 불멸하는 영혼을 가진 사람, 곧 남자와 여자를 창조하셨다. 그리고 이들에게 자신의 형상을 따라 지식과 의와 참된 거룩함을 부여하셨고, 이들의 마음에 하나님의 법을 기록하셨으며, 이것을 성취할 능력을 부여하셨다. 그러나 범죄할 가능성이 있는 가운데, 이들은 변할 수 있는 자신들의 의지의 자유에 따라 행하도록 허락되었다. 이들은 자신들의 마음에 기록된 율법 외에도 선과 악을 알게 하는 나무의 열매를 먹지 말라는 명령을 받았다. 이것을 지키는 한, 이들은 하나님과의 교제 안에서 행복했으며 피조물에 대한 통치권을 가졌다."
                    </p>
                </div>
            </div>
        </section>

        <!-- Section 2: Exposition - Card 1 -->
        <section class="bg-white rounded-2xl shadow-lg overflow-hidden border-t-4 border-indigo-500">
            <div class="p-6 md:p-8">
                <h2 class="text-xl font-bold text-indigo-900 mb-4">
                    1. 하나님의 형상: 육체가 아닌 성품
                </h2>
                <div class="space-y-4 text-slate-700 leading-relaxed text-justify">
                    <p class="keep-all">
                        사람이 하나님의 형상과 모양을 따라 지음 받았다는 것은 결코 육체적인 닮음을 의미하지 않습니다. 하나님은 순수한 영이시므로 몸을 가지고 계시지 않습니다. 따라서 하나님을 '영적 몸' 등으로 형상화하려는 시도는 철저히 금지된 죄악입니다.
                    </p>
                    <p class="keep-all">
                        성경(골 3:10, 엡 4:24)이 말하는 하나님의 형상은 사람의 <strong class="text-indigo-700 bg-indigo-50 px-1 rounded">지식(Knowledge)과 의(Righteousness)와 거룩함(Holiness)</strong>을 의미합니다. 이를 신학적으로 <strong class="text-indigo-700">원초적 의(Original Righteousness)</strong>라고 부르며, 인간의 이성적, 도덕적, 영적 본질을 구성합니다.
                    </p>
                </div>
            </div>
        </section>

        <!-- Section 3: Exposition - Card 2 -->
        <section class="bg-white rounded-2xl shadow-lg overflow-hidden border-t-4 border-amber-500">
            <div class="p-6 md:p-8">
                <h2 class="text-xl font-bold text-amber-900 mb-4">
                    2. 하나님의 형상의 구체적 내용
                </h2>
                <div class="space-y-4 text-slate-700 leading-relaxed text-justify">
                    <p class="keep-all">
                        하나님의 형상을 입은 최초의 사람은 다음과 같은 완전한 특성을 지니고 있었습니다.
                    </p>
                    <ul class="list-none space-y-3 bg-amber-50 p-4 rounded-lg border border-amber-100">
                        <li class="keep-all">
                            <strong class="text-amber-800 block mb-1">① 이성적 본질 (오류 없는 지식)</strong>
                            하나님을 알고, 마음에 새겨진 법도를 이해하며, 피조 세계의 원리를 통찰하는 데 있어 오류가 없었습니다. 하나님을 영화롭게 하는 길이 무엇인지 정확히 알았습니다.
                        </li>
                        <li class="keep-all">
                            <strong class="text-amber-800 block mb-1">② 도덕적 본질 (의로운 의지)</strong>
                            자유로운 의지를 가지고 하나님 보시기에 옳은 선을 기꺼이 선택하고 실행하는 의로움이 있었습니다.
                        </li>
                        <li class="keep-all">
                            <strong class="text-amber-800 block mb-1">③ 영적 본질 (거룩한 성향)</strong>
                            하나님의 초월적 거룩함을 경외하며, 베푸신 사랑에 감사하여 마음과 뜻을 다해 하나님을 즐거워하는 거룩한 성향을 가졌습니다.
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 4: Exposition - Card 3 -->
        <section class="bg-white rounded-2xl shadow-lg overflow-hidden border-t-4 border-emerald-500">
            <div class="p-6 md:p-8">
                <h2 class="text-xl font-bold text-emerald-900 mb-4">
                    3. 가변성과 범죄의 가능성
                </h2>
                <div class="space-y-4 text-slate-700 leading-relaxed text-justify">
                    <p class="keep-all">
                        최초의 사람은 순전하고 거룩했지만, 동시에 <strong class="text-emerald-700 bg-emerald-50 px-1 rounded">가변적인 상태(Mutable State)</strong>로 창조되었습니다. 이는 범죄할 가능성을 가지고 있었다는 뜻입니다.
                    </p>
                    <p class="keep-all">
                        사람에게 주어진 자유 의지는 마음의 원하는 바를 따라 행합니다. 비록 처음에는 하나님을 사랑하는 마음이 있었으나, 만약 마음의 상태에 변화가 생긴다면 그 의지의 선택도 달라져 죄를 범할 수 있는 가능성이 열려 있었습니다.
                    </p>
                </div>
            </div>
        </section>

        <!-- Section 5: Exposition - Card 4 -->
        <section class="bg-white rounded-2xl shadow-lg overflow-hidden border-t-4 border-rose-500">
            <div class="p-6 md:p-8">
                <h2 class="text-xl font-bold text-rose-900 mb-4">
                    4. 선악을 알게 하는 나무의 명령
                </h2>
                <div class="space-y-4 text-slate-700 leading-relaxed text-justify">
                    <p class="keep-all">
                        하나님께서는 마음에 새겨진 율법 외에도 <strong class="text-rose-700 bg-rose-50 px-1 rounded">선악을 알게 하는 나무의 열매를 먹지 말라</strong>는 특별 명령을 주셨습니다.
                    </p>
                    <p class="keep-all">
                        이 명령은 단순한 금지 사항이 아니라, 인간이 하나님과의 교제 안에서 행복을 누리고 피조물에 대한 통치권을 유지하는 조건이었습니다. 아담은 원초적 의를 소유하고 있었기에, 이 명령을 순종하기에 지극히 유리한 상태에 있었습니다.
                    </p>
                </div>
            </div>
        </section>

        <!-- Audio Player Container (Hidden UI) -->
        <div id="audio-player-container" class="hidden w-full max-w-md mx-auto mt-8 p-4 bg-white rounded-lg shadow border border-slate-200">
            <div id="youtube-player"></div>
            <div id="audio-status" class="text-sm text-center text-slate-500 mt-2"></div>
        </div>

    </main>

    <footer class="mt-16 py-8 text-center text-slate-400 text-sm border-t border-slate-200 bg-white">
        <p class="mb-1">교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
    </footer>

    <script>
        // 1. 전역 변수 설정 (Global Player Variable)
        window.player = null;

        // 2. YouTube IFrame API 비동기 로드
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        // 3. API 준비 완료 시 호출될 함수
        window.onYouTubeIframeAPIReady = function() {
            initAudioPlayer();
        };

        // 4. 오디오 플레이어 초기화 및 주소 파싱 로직
        async function initAudioPlayer() {
            const statusElem = document.getElementById('audio-status');
            const targetDate = "0208"; // 오늘 날짜 (MMDD) - 2월 8일로 설정

            try {
                // 주소 파일 가져오기
                const response = await fetch('../address/dcaddr.txt');
                if (!response.ok) throw new Error('Address file not found');
                const text = await response.text();
                
                // 날짜와 일치하는 줄 찾기
                const lines = text.split('\n');
                let videoId = null;

                for (let line of lines) {
                    if (line.trim().startsWith(targetDate)) {
                        // URL 추출 및 Video ID 파싱
                        const urlMatch = line.match(/(https?:\/\/[^\s]+)/);
                        if (urlMatch) {
                            const fullUrl = urlMatch[0];
                            // 다양한 유튜브 URL 포맷 대응 정규식
                            const regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/;
                            const match = fullUrl.match(regExp);
                            if (match && match[7].length == 11) {
                                videoId = match[7];
                            }
                        }
                        break;
                    }
                }

                if (videoId) {
                    // 플레이어 생성 (window.player에 할당)
                    window.player = new YT.Player('youtube-player', {
                        height: '0',
                        width: '0',
                        videoId: videoId,
                        playerVars: {
                            'playsinline': 1,
                            'controls': 0,
                            'fs': 0
                        },
                        events: {
                            'onReady': onPlayerReady,
                            'onStateChange': onPlayerStateChange
                        }
                    });
                    console.log("Audio player initialized for ID:", videoId);
                } else {
                    // 오늘 날짜의 주소가 없을 경우
                    statusElem.innerText = "오늘의 AI요약 음성은 아직 업로드 전입니다.";
                    statusElem.parentElement.classList.remove('hidden'); // 메시지를 보여주기 위해 컨테이너 표시
                }

            } catch (error) {
                console.error("Error loading audio:", error);
                statusElem.innerText = "오디오 정보를 불러오는 중 오류가 발생했습니다.";
                statusElem.parentElement.classList.remove('hidden');
            }
        }

        function onPlayerReady(event) {
            // 플레이어 준비 완료 (상위 제어기에서 감지 가능)
            console.log("Player is ready");
        }

        function onPlayerStateChange(event) {
            // 상태 변경 시 로직 (필요시 구현)
        }
    </script>
</body>
</html>
