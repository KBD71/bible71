<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11월 1일: 진노와 저주를 피할 수 있도록 하나님께서 요구하시는 것</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 antialiased">

    <main class="max-w-3xl mx-auto p-4 sm:p-6 lg:p-8 space-y-8">
        
        <header class="text-center space-y-2">
            <div class="text-sm font-bold text-blue-600 tracking-wide uppercase">11월 1일</div>
            <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight">진노와 저주를 피할 수 있도록<br class="sm:hidden" /> 하나님께서 요구하시는 것</h1>
            <p class="text-gray-500 text-sm sm:text-base">소요리문답 85, 대요리문답 153</p>
        </header>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6">
            <h2 class="text-lg font-bold text-gray-900 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2 text-red-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg>
                AI요약 듣기
            </h2>
            <div id="audio-player-container" class="aspect-video bg-gray-100 rounded-lg flex items-center justify-center relative overflow-hidden">
                <div id="player-status" class="text-gray-500 text-sm">로딩 중...</div>
                <div id="youtube-player"></div>
            </div>
            <div id="error-message" class="hidden mt-4 p-4 bg-yellow-50 text-yellow-800 rounded-lg text-sm"></div>
        </section>

        <section class="bg-white rounded-2xl shadow-lg overflow-hidden border-l-4 border-blue-600">
            <div class="p-6 sm:p-8">
                <div class="mb-8">
                    <h2 class="text-xl font-bold text-gray-900 mb-4 border-b pb-2">소요리문답 85</h2>
                    <div class="prose prose-blue max-w-none text-gray-700 leading-relaxed">
                        <p>
                            <span class="font-bold text-blue-700">문85.</span> 우리가 죄로 인해 마땅히 받아야 할 진노와 저주를 피할 수 있도록 하나님께서 우리에게 요구하시는 것은 무엇입니까?<br>
                            <span class="font-bold text-blue-700">답.</span> 우리가 죄로 인해 마땅히 받아야 할 진노와 저주를 피하도록 하나님께서 예수 그리스도를 향한 믿음과 생명에 이르는 회개,<sup>1)</sup> 그리고 그리스도께서 구속의 유익을 우리에게 전달하시는 외적 수단들을 부지런히 사용할 것을 우리에게 요구하십니다.<sup>2)</sup>
                        </p>
                        <div class="mt-2 text-sm text-gray-500 bg-gray-50 p-2 rounded">
                            1) 행 20:21.<br>
                            2) 잠 2:1-5; 8:33-36; 사 55:3.
                        </div>
                    </div>
                </div>

                <div>
                    <h2 class="text-xl font-bold text-gray-900 mb-4 border-b pb-2">대요리문답 153</h2>
                    <div class="prose prose-blue max-w-none text-gray-700 leading-relaxed">
                        <p>
                            <span class="font-bold text-blue-700">문153.</span> 율법을 범했기 때문에 우리가 마땅히 받아야 할 진노와 저주를 피할 수 있도록 하나님께서 우리에게 요구하시는 것은 무엇입니까?<br>
                            <span class="font-bold text-blue-700">답.</span> 율법을 범했기 때문에 우리가 마땅히 받아야 할 진노와 저주를 피하도록 하나님께서 그분을 향한 회개와 우리 주 예수 그리스도를 향한 믿음, 그리고 그리스도께서 중보의 유익을 우리에게 전달하시는 외적 수단들을 부지런히 사용할 것을 우리에게 요구하십니다.<sup>1)</sup>
                        </p>
                        <div class="mt-2 text-sm text-gray-500 bg-gray-50 p-2 rounded">
                            1) 행 20:21; 마 3:7-8; 눅 13:3, 5; 행 16:30-31; 요 3:16-18.<br>
                            2) 잠 2:1-6; 8:33-36.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-blue-50 rounded-2xl shadow-sm border border-blue-100 p-6">
            <h3 class="text-lg font-bold text-blue-900 mb-3 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                관련 말씀
            </h3>
            <ul class="space-y-3 text-gray-700 leading-relaxed">
                <li>
                    <span class="font-semibold text-blue-800">행 20:21</span> "유대인과 헬라인들에게 하나님께 대한 회개와 우리 주 예수 그리스도께 대한 믿음을 증언한 것이라"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">눅 13:3</span> "너희에게 이르노니 아니라 너희도 만일 회개하지 아니하면 다 이와 같이 망하리라"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">요 3:16-18</span> "...그를 믿는 자는 심판을 받지 아니하는 것이요 믿지 아니하는 자는 하나님의 독생자의 이름을 믿지 아니하므로 벌써 심판을 받은 것이니라"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">잠 8:34-35</span> "누구든지 내게 들으며 날마다 내 문 곁에서 기다리며 문설주 옆에서 기다리는 자는 복이 있나니 대저 나를 얻는 자는 생명을 얻고 여호와께 은총을 얻을 것임이니라"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">사 55:3</span> "너희는 귀를 기울이고 내게로 나아와 들으라 그리하면 너희의 영혼이 살리라..."
                </li>
            </ul>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 sm:p-8">
            <h3 class="text-xl font-bold text-gray-900 mb-6 border-b pb-2">교리 해설</h3>
            <div class="prose prose-lg max-w-none text-gray-700 space-y-6">
                <p>
                    오늘 읽는 소요리문답 85항과 대요리문답 153항은 율법을 범한 죄로 인해 마땅히 받아야 할 하나님의 진노와 저주를 피하기 위해 하나님께서 우리에게 요구하시는 세 가지, 즉 <strong class="text-blue-600">믿음, 회개, 외적 수단의 부지런한 사용</strong>을 교훈합니다.
                </p>

                <div class="bg-gray-50 p-5 rounded-lg border-l-4 border-gray-400">
                    <h4 class="font-bold text-gray-900 mb-2">1. 하나님의 진노와 저주 아래 있는 인간</h4>
                    <p class="mb-2">
                        인간의 비참함은 율법을 범함으로 인해 마땅히 받아야 할 진노와 저주 상태에 놓여 있다는 것입니다. 여기서 '연약함'은 단순한 육체적 한계가 아니라, 영적인 선을 행할 능력을 전적으로 상실한 <strong class="text-blue-600">전적 부패</strong>와 <strong class="text-blue-600">영적 무능력</strong>을 의미합니다. 이는 그 자체가 심판 아래 있는 상태이며, 동시에 영원한 심판을 초래하는 법적 저주입니다.
                    </p>
                </div>

                <div class="bg-blue-50 p-5 rounded-lg border-l-4 border-blue-400">
                    <h4 class="font-bold text-gray-900 mb-2">2. 하나님을 향한 회개</h4>
                    <p class="mb-2">
                        하나님께서는 죄인에게 회개를 요구하십니다. 참된 회개는 단순히 처벌이 두려워 피하려는 자기중심적 후회가 아닙니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>죄에 대한 인식:</strong> 자신의 죄가 하나님의 거룩한 율법에 반대되는 더럽고 혐오스러운 것임을 자각해야 합니다.</li>
                        <li><strong>복음적 회개:</strong> 그리스도의 십자가 은혜를 바라보고 용서받음을 감사하며, 하나님과의 관계 회복을 원하여 그분의 계명에 순종하기를 기뻐하는 회개입니다.</li>
                    </ul>
                </div>

                <div class="bg-yellow-50 p-5 rounded-lg border-l-4 border-yellow-400">
                    <h4 class="font-bold text-gray-900 mb-2">3. 우리 주 예수 그리스도를 향한 믿음</h4>
                    <p class="mb-2">
                        진노를 피하기 위해 회개는 반드시 믿음과 연결되어야 합니다. 이 믿음은 스스로의 힘으로 구원받을 수 없음을 인정하고, 오직 예수 그리스도의 의와 중보만을 의지하여 하나님과 화목하게 되는 은혜의 방편입니다. 믿음으로 그리스도와 연합할 때, 우리는 그분의 모든 중보의 유익을 누리게 됩니다.
                    </p>
                </div>

                <div class="bg-green-50 p-5 rounded-lg border-l-4 border-green-400">
                    <h4 class="font-bold text-gray-900 mb-2">4. 외적 수단들의 부지런한 사용</h4>
                    <p class="mb-2">
                        하나님께서는 구원의 유익을 전달하기 위해 <strong class="text-blue-600">말씀, 성례, 기도</strong>라는 외적 수단을 정하셨습니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>"부지런히"의 의미:</strong> 이는 단순한 행위의 열심이 아니라, 은혜를 받고자 하는 능동성과 진실한 마음으로 참여하는 것을 뜻합니다.</li>
                        <li><strong>형식주의 경계:</strong> 기계적으로 참여한다고 해서 은혜가 주어지는 것이 아닙니다(사효성 부정). 마음의 중심을 다해 믿음으로 참여할 때 성령을 통해 약속된 은혜가 전달됩니다.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-yellow-200 p-6">
            <h3 class="text-lg font-bold text-yellow-800 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                적용 질문
            </h3>
            <ul class="space-y-4">
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">1. 본문에서 말하는 '연약함'은 일반적인 인간적 한계와 어떻게 다르며, 왜 이것이 하나님의 진노와 저주의 표현이라고 할 수 있겠습니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 우리의 죄와 부패함을 단순한 약점이나 실수로 여기지 않고, 하나님 앞에서 심판을 받아 마땅한 죄악으로 진지하게 인식하고 계십니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">2. 회개가 단순히 형벌을 피하려는 두려움에서 비롯될 때와, 복음에 기초한 참된 회개는 어떤 차이가 있겠습니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 회개하실 때 죄를 하나님에 대한 반역으로 인식하며 그리스도의 은혜와 긍휼을 바라보고 계십니까, 아니면 단순히 마음의 불안과 두려움을 달래는 데 그치고 계십니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">3. 믿음은 어떻게 죄인을 의롭다 하심에 이르게 하며, 왜 그것이 하나님의 은혜의 선물이라고 할 수 있겠습니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 자신의 죄와 무능력을 인정하고, 다른 어떤 것을 의지하지 않고 오직 그리스도의 의와 중보에 붙들려 하나님과의 화목을 구하고 계십니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">4. 왜 말씀, 성례, 기도와 같은 은혜의 수단은 자동적으로 효력을 가지지 않으며, 부지런히 사용하라는 요구가 강조되는 것입니까?</span>
                    <p class="text-gray-700 text-sm">여러분은 예배와 말씀, 성례, 기도에 단순히 형식적으로 참여하는 것이 아니라, 마음 깊이 은혜를 갈망하며 진실하게 참여하여 그리스도의 중보의 유익을 누리고 계십니까?</p>
                </li>
            </ul>
        </section>

        <footer class="text-center text-gray-500 text-xs sm:text-sm mt-8 pb-8">
            교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다
        </footer>
    </main>

    <script>
        // Constants
        const ADDRESS_FILE_URL = '../address/dcaddr.txt';
        const DATE_KEY = '1101'; // MMDD format for November 01

        // State
        window.player = null;

        // DOM Elements
        const playerContainer = document.getElementById('audio-player-container');
        const playerStatus = document.getElementById('player-status');
        const errorMessage = document.getElementById('error-message');

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadVideoConfig();
        });

        async function loadVideoConfig() {
            try {
                const response = await fetch(ADDRESS_FILE_URL);
                if (!response.ok) throw new Error('주소 파일을 불러올 수 없습니다.');
                
                const text = await response.text();
                const lines = text.split('\n');
                const targetLine = lines.find(line => line.trim().startsWith(DATE_KEY));

                if (!targetLine) {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                    return;
                }

                // Extract Video ID
                const parts = targetLine.split(/\s+/);
                if (parts.length < 2) throw new Error('비디오 주소 형식이 잘못되었습니다.');
                
                const url = parts[1];
                const videoId = extractVideoId(url);

                if (!videoId) throw new Error('유효한 비디오 ID를 찾을 수 없습니다.');

                initializePlayer(videoId);

            } catch (error) {
                console.error('Configuration Error:', error);
                showError(error.message || '오디오 설정을 불러오는 중 오류가 발생했습니다.');
            }
        }

        function extractVideoId(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        function initializePlayer(videoId) {
            // Load YouTube IFrame API
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            window.onYouTubeIframeAPIReady = function() {
                player = new YT.Player('youtube-player', {
                    height: '100%',
                    width: '100%',
                    videoId: videoId,
                    playerVars: {
                        'playsinline': 1,
                        'controls': 1,
                        'modestbranding': 1
                    },
                    events: {
                        'onReady': onPlayerReady,
                        'onError': onPlayerError
                    }
                });
            };
        }

        function onPlayerReady(event) {
            playerStatus.style.display = 'none';
            const iframe = event.target.getIframe();
            iframe.setAttribute('aria-label', '교리 오디오 재생');
        }

        function onPlayerError(event) {
            showError('오디오 재생 중 오류가 발생했습니다. (YouTube Error Code: ' + event.data + ')');
        }

        function showError(message) {
            playerContainer.style.display = 'none';
            errorMessage.textContent = message;
            errorMessage.classList.remove('hidden');
        }
    </script>
</body>
</html>
