<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10월 17일 | 날마다 읽는 교리</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            word-break: keep-all;
        }
        .card-icon {
            font-size: 2rem;
            line-height: 1;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto max-w-3xl p-4 sm:p-6 lg:p-8">
        
        <header class="text-center mb-8">
            <h1 class="text-2xl font-bold text-gray-600">10월 17일</h1>
            <p class="text-3xl sm:text-4xl font-extrabold text-gray-900 mt-2 leading-tight">보이지 않는 보편교회의 의미</p>
            <h2 class="text-xl font-semibold text-blue-600 mt-3">대요리문답 64 & 신앙고백서 25.1</h2>
        </header>

        <main class="space-y-6">

            <section id="player-container" class="bg-white p-5 rounded-xl shadow-md">
                <div id="player-ui" class="flex items-center justify-between">
                    <h3 class="text-lg font-bold text-gray-800">AI요약 듣기</h3>
                    <button id="play-pause-button" class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg flex items-center justify-center w-32 transition-colors duration-300 ease-in-out disabled:bg-gray-400 disabled:cursor-wait" disabled aria-label="교리 오디오 로딩 중">
                        로딩 중...
                    </button>
                </div>
                <div id="error-message" class="hidden text-center text-gray-600 font-semibold py-4"></div>
                <div id="player" class="hidden"></div>
            </section>

            <section class="bg-white p-6 rounded-xl shadow-md">
                <div class="flex items-start space-x-4">
                    <div class="card-icon">📜</div>
                    <div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">대요리문답 64 & 신앙고백서 25.1</h3>
                        <div class="space-y-4">
                            <div>
                                <h4 class="font-semibold text-gray-700">대요리문답 64</h4>
                                <p class="text-base leading-relaxed">문64. 보이지 않는 교회란 무엇입니까?<br>답. 보이지 않는 교회는 머리이신 그리스도 아래 하나로 모여져 왔거나 모여지고 있거나 모여질 모든 선택받은 사람입니다.</p>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-700">신앙고백서 25.1</h4>
                                <p class="text-base leading-relaxed">보이지 않는 공교회 곧 보편교회는 교회의 머리이신 그리스도 아래 하나로 모여져 왔거나 모여지고 있거나 모여질 모든 선택 받은 사람으로 구성된다. 그리고 이 교회는 그리스도의 신부이고, 몸이며, 만물 안에서 만물을 충만하게 하시는 이의 충만함이다.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="bg-white p-6 rounded-xl shadow-md">
                <div class="flex items-start space-x-4">
                    <div class="card-icon">⛪</div>
                    <div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">교리 해설 1: 보이는 교회와 보이지 않는 교회</h3>
                        <div class="text-base leading-relaxed space-y-3">
                            <p>종교개혁자들은 교회의 본질을 설명하며 <strong class="text-blue-600">'보이지 않는 교회'</strong>가 존재론적으로 더 근원적이라고 강조했습니다. 반면, 말씀 선포와 성례를 통해 세상에 드러나는 <strong class="text-blue-600">'보이는 교회'</strong>는 이 보이지 않는 교회의 외적인 표현이자 도구입니다.</p>
                            <p>이러한 구분이 중요했던 이유는, 교회를 교황 중심의 가시적 제도로만 정의했던 로마 가톨릭의 주장에 맞서기 위함이었습니다. 로마 가톨릭은 교황의 다스림을 벗어난 종교개혁자들을 '교회 밖'에 있는 분열주의자로 정죄했습니다.</p>
                             <p>이에 맞서 종교개혁자들은 자신들이 분리된 것은 부패한 교황주의일 뿐, 모든 시대를 아우르는 선택받은 자들의 총체인 참된 '보이지 않는 교회'에 속해 있음을 선언했습니다. 오히려 말씀과 성례를 회복함으로써 참 교회의 모습을 더 진실하게 드러내고 있다고 주장한 것입니다.</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="bg-white p-6 rounded-xl shadow-md">
                <div class="flex items-start space-x-4">
                    <div class="card-icon">👥</div>
                    <div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">교리 해설 2: 보이지 않는 교회의 구성원</h3>
                         <div class="text-base leading-relaxed space-y-3">
                            <p>보이지 않는 교회는 <strong class="text-blue-600">과거, 현재, 미래의 모든 선택받은 백성</strong>으로 구성됩니다. 이들의 연합은 하나님의 영원한 선택과 그리스도와의 연합이라는 은혜에 근거한 것으로, 눈에 보이는 제도적 연합이 아닌 지극히 영적인 연합입니다.</p>
                            <p>이것이 진정한 교회의 본질입니다. 종교개혁자들은 이 보이지 않는 교회가, 말씀의 바른 선포와 성례의 합법적 시행을 통해 '보이는 교회'로 드러난다고 가르쳤습니다.</p>
                             <p>따라서 '보이는 교회' 안에는 참 신자와 거짓 신자가 섞여 있지만, 그 안에 '보이지 않는 교회'의 구성원이 포함되어 있으므로 보이는 교회 역시 참된 교회의 외적 표현으로서 의미를 가집니다.</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="bg-white p-6 rounded-xl shadow-md">
                <div class="flex items-start space-x-4">
                    <div class="card-icon">✨</div>
                    <div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">교리 해설 3: 교회의 정체성: 신부, 몸, 충만</h3>
                        <div class="text-base leading-relaxed space-y-3">
                           <p>신앙고백서는 보이지 않는 교회의 영광스러운 정체성을 세 가지 이미지로 설명합니다.</p>
                            <ul class="list-disc pl-5 space-y-2 text-gray-700">
                                <li><strong>그리스도의 신부:</strong> 그리스도의 구속적 사랑을 온전히 받으며, 마지막 날 어린 양의 혼인 잔치에서 영화로운 모습으로 나타날 공동체입니다.</li>
                                <li><strong>그리스도의 몸:</strong> 그리스도와 유기적으로 연결된 궁극적인 몸입니다. 보이는 교회도 몸이라 불리지만, 참 신자들로만 구성된 보이지 않는 교회에서 완전한 통일성과 다양성이 실현됩니다.</li>
                                <li><strong>그리스도의 충만함:</strong> '만물을 충만하게 하시는 이'이신 그리스도의 우주적 통치와 영광이 교회를 통해 세상에 드러남을 의미합니다. 교회는 그리스도의 생명과 은혜를 충만히 받아 그분의 영광을 세상에 반영하는 복된 통로입니다.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section class="bg-white p-6 rounded-xl shadow-md">
                <div class="flex items-start space-x-4">
                    <div class="card-icon">🤔</div>
                    <div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">적용 질문</h3>
                        <ol class="list-decimal list-inside space-y-5 text-base leading-relaxed">
                            <li>종교개혁자들은 왜 '보이지 않는 교회'를 존재론적으로 본질적이라고 강조하면서도, '보이는 교회'를 단순한 그림자나 부차적 요소로 보지 않았습니까? 여러분은 신앙생활에서 보이는 교회의 중요성을 얼마나 인식하고 있습니까? 단순히 눈에 보이지 않는 개인적 믿음만을 강조하지 않고, 보이는 교회의 말씀과 성례, 공동체적 생활을 통해 은혜를 받는 일을 어떻게 실천하고 있습니까?</li>
                            <li>로마 가톨릭은 교회를 교황의 권위와 성례 제도를 중심으로 정의했는데, 이에 대해 종교개혁자들은 어떻게 '보이지 않는 교회'를 강조함으로써 교황주의적 교회론을 반박했습니까? 오늘날에도 교회가 특정 제도나 인물 중심으로만 이해되는 위험이 있습니다. 여러분은 교회의 본질을 사람이나 제도가 아닌, 말씀과 성례를 통한 그리스도와의 연합으로 이해하고 있습니까?</li>
                            <li>신앙고백서는 '보이지 않는 교회'를 "과거, 현재, 미래에 걸쳐 교회의 머리이신 그리스도 아래로 모이는 선택받은 자들"이라고 정의합니다. 이것이 지극히 영적인 연합이라는 말은 무엇을 뜻합니까? 여러분은 자신의 신앙을 단지 지금 현재의 개인적 경험에만 국한하지 않고, 모든 시대에 걸친 하나님의 택자들의 교제 속에 포함된 것으로 이해합니까? 교회 공동체와 연결될 때 이러한 보편성과 영적 연합을 어떻게 경험하고 있습니까?</li>
                            <li>신앙고백서는 왜 '보이지 않는 교회'를 “그리스도의 충만함"이라고 말합니까? 교회를 통하여 그리스도의 충만이 세상 가운데 드러난다는 것은 어떤 의미입니까? 여러분은 교회의 지체로서, 교회를 통해 세상 속에 나타나는 그리스도의 충만에 어떻게 동참하고 있습니까? 여러분의 삶과 섬김이 그리스도의 충만을 반영하는 모습으로 드러나기 위해 어떤 노력을 하고 있습니까?</li>
                        </ol>
                    </div>
                </div>
            </section>

        </main>

        <footer class="text-center mt-12">
            <p class="text-sm text-gray-500">교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
        </footer>

    </div>

    <script>
        let player;
        const playPauseButton = document.getElementById('play-pause-button');
        const playerUi = document.getElementById('player-ui');
        const errorMessageDiv = document.getElementById('error-message');

        function onYouTubeIframeAPIReady() {
            fetchAudioAddressAndCreatePlayer();
        }

        async function fetchAudioAddressAndCreatePlayer() {
            const today = '1017'; // For generating the static page for Oct 17th
            let todayLine;

            try {
                const response = await fetch('../address/dcaddr.txt');
                if (!response.ok) {
                    throw new Error('오류: 오디오 주소 파일을 불러오는 데 실패했습니다.');
                }
                const text = await response.text();
                const lines = text.split('\n');
                todayLine = lines.find(line => line.trim().startsWith(today));

                if (!todayLine) {
                    displayError("오늘의 AI요약 음성은 아직 업로드 전입니다.");
                    return;
                }
                
                const url = todayLine.substring(today.length).trim();
                const videoId = parseYouTubeVideoId(url);

                if (!videoId) {
                    throw new Error('오류: 발견된 주소가 유효한 YouTube 주소가 아닙니다.');
                }

                createPlayer(videoId);

            } catch (error) {
                console.error('Audio Player Error:', error);
                displayError(error.message);
            }
        }

        function parseYouTubeVideoId(url) {
            if (!url) return null;
            const regExp = /(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
            const match = url.match(regExp);
            return (match && match[1]) ? match[1] : null;
        }

        function createPlayer(videoId) {
            player = new YT.Player('player', {
                height: '0',
                width: '0',
                videoId: videoId,
                playerVars: { 'playsinline': 1 },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }
        
        function onPlayerReady(event) {
            playPauseButton.disabled = false;
            playPauseButton.innerHTML = '▶&nbsp;재생';
            playPauseButton.setAttribute('aria-label', '교리 오디오 재생');
            playPauseButton.addEventListener('click', togglePlayPause);
        }
        
        function onPlayerStateChange(event) {
            const isPlaying = (event.data === YT.PlayerState.PLAYING);
            if (isPlaying) {
                playPauseButton.innerHTML = '⏸️&nbsp;일시정지';
                playPauseButton.setAttribute('aria-label', '교리 오디오 일시정지');
            } else {
                playPauseButton.innerHTML = '▶&nbsp;재생';
                playPauseButton.setAttribute('aria-label', '교리 오디오 재생');
            }
        }
        
        function togglePlayPause() {
            if (player && typeof player.getPlayerState === 'function') {
                const playerState = player.getPlayerState();
                if (playerState === YT.PlayerState.PLAYING || playerState === YT.PlayerState.BUFFERING) {
                    player.pauseVideo();
                } else {
                    player.playVideo();
                }
            }
        }

        function displayError(message) {
            playerUi.classList.add('hidden');
            errorMessageDiv.textContent = message;
            errorMessageDiv.classList.remove('hidden');
        }

        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    </script>

</body>
</html>
