<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날마다 읽는 교리 - 1월 10일</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .prose-custom {
            line-height: 1.75;
            word-break: keep-all;
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col items-center py-8 px-4">

    <main class="w-full max-w-2xl space-y-6">

        <header class="text-center space-y-2 mb-8">
            <span class="inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold tracking-wide">1월 10일</span>
            <h1 class="text-3xl font-bold text-gray-900 break-keep">성경 계시의 충분성</h1>
        </header>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
                </svg>
                AI요약 듣기
            </h2>
            
            <div id="audio-player-container" class="space-y-4">
                <div id="youtube-player" class="w-full aspect-video rounded-lg overflow-hidden hidden"></div>
                
                <div id="player-controls" class="flex flex-col items-center justify-center p-4 bg-gray-50 rounded-xl">
                    <button id="play-button" disabled class="group relative flex items-center justify-center w-16 h-16 bg-white border-2 border-blue-500 rounded-full shadow-md hover:bg-blue-50 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed" aria-label="교리 오디오 재생/일시정지">
                        <svg id="play-icon" class="w-8 h-8 text-blue-600 ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        <svg id="loading-icon" class="w-8 h-8 text-blue-600 animate-spin hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                    </button>
                    <p id="player-status" class="mt-3 text-sm text-gray-500 font-medium">오디오 로딩 중...</p>
                </div>

                <div id="error-message" class="hidden p-4 bg-red-50 text-red-600 text-sm rounded-lg text-center"></div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-100">말씀 요절</h2>
            <div class="space-y-4 text-gray-700 prose-custom">
                <div class="p-4 bg-gray-50 rounded-lg">
                    <p class="font-serif">"그러나 우리나 혹은 하늘로부터 온 천사라도 우리가 너희에게 전한 복음 외에 다른 복음을 전하면 저주를 받을지어다 우리가 전에 말하였거니와 내가 지금 다시 말하노니 만일 누구든지 너희가 받은 것 외에 다른 복음을 전하면 저주를 받을지어다"</p>
                    <p class="text-right text-sm font-bold text-gray-500 mt-2">- 갈라디아서 1:8-9</p>
                </div>
                <div>
                    <p class="font-serif">"그런즉 형제들아 어찌할까 너희가 모일 때에 각각 찬송시도 있으며 가르치는 말씀도 있으며 계시도 있으며 방언도 있으며 통역함도 있나니 모든 것을 덕을 세우기 위하여 하라... 모든 것을 품위 있게 하고 질서 있게 하라"</p>
                    <p class="text-right text-sm font-bold text-gray-500 mt-2">- 고린도전서 14:26, 40</p>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-100">신앙고백서</h2>
            
            <div class="space-y-6">
                <div class="bg-indigo-50 p-5 rounded-xl">
                    <h3 class="font-bold text-indigo-900 mb-2">신앙고백서 1.6</h3>
                    <div class="prose-custom text-gray-700 space-y-2">
                        <p>하나님 자신의 영광, 사람의 구원, 믿음, 그리고 생활에 필요한 모든 것과 관련한 하나님의 전체 경륜은 성경에 분명하게 기록되어 있거나, 또한 적절하고 필연적인 논리적 귀결에 의하여 성경으로부터 추론될 수 있다. <strong class="text-red-600">그러나 성령의 새로운 계시에 의해서든지, 사람의 전통에 의해서든지, 어떤 것이라도 어느 때이건 성경에 추가되어서는 안 된다.</strong></p>
                        <p>그럼에도 말씀에 계시된 일들을 구원에 이르도록 이해하기 위해서는 성령 하나님의 내적 조명이 필요함을 인정한다. 그리고 하나님을 예배하는 것과 교회 정치에 관해서는, 사람의 활동이나 사회 공동체들과 공통되는 상황들이 일부 있는데, 이 상황들은 본성의 빛과 기독교적 분별에 의해서 정해야 함을 인정한다. 그런데 이것들은 항상 지켜야 하는 말씀의 일반 규범을 따라야 한다.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-100">교리 해설</h2>
            <div class="prose-custom text-gray-700 space-y-4">
                
                <h3 class="font-bold text-lg text-gray-900 mt-2">1. 이미 충족된 계시: 추가적인 계시는 필요 없습니다</h3>
                <p>
                    [cite_start]하나님의 말씀인 성경은 하나님을 영화롭게 하고 사람을 구원하며, 믿음과 생활의 지침이 되는 모든 핵심적인 내용을 이미 담고 있습니다[cite: 382, 393, 398]. [cite_start]따라서 이것을 알기 위해 특별한 초월적 계시나 새로운 예언이 추가적으로 필요하지 않습니다[cite: 397]. [cite_start]하나님을 알고, 그분의 은혜를 깨닫고, 그분께 순종하는 데 필요한 모든 영적 사실은 이미 기록된 성경으로 충분합니다[cite: 409].
                </p>

                <h3 class="font-bold text-lg text-gray-900 mt-4">2. 명시된 기록과 논리적 귀결</h3>
                <p>
                    성경의 충분성은 두 가지 방식으로 나타납니다. 첫째는 성경에 문자 그대로 분명하게 기록된 사실들입니다. [cite_start]둘째는 기록된 내용을 토대로 <strong class="text-blue-600">'적절하고도 필연적인 논리적 귀결'</strong>을 통해 추론할 수 있는 진리들입니다[cite: 382, 399].
                </p>
                <div class="bg-gray-50 p-4 rounded-lg border-l-4 border-gray-400 mt-2">
                    <p class="text-sm">
                        [cite_start]예를 들어, 예수님께서는 "나는 아브라함의 하나님이요 이삭의 하나님이요 야곱의 하나님이로라" 하신 말씀을 통해, 하나님은 죽은 자의 하나님이 아니요 산 자의 하나님이시라는 사실을 논증하시며 <strong class="text-indigo-700">부활의 진리</strong>를 가르치셨습니다[cite: 400, 401].
                    </p>
                </div>

                <h3 class="font-bold text-lg text-gray-900 mt-4">3. 가감(加減) 금지의 원칙과 이단 경계</h3>
                <p>
                    [cite_start]이단들은 마치 성경이 부족한 것처럼 새로운 계시나 교주가 받은 특별한 경전을 주장하며 이를 성경 해석의 기준으로 삼습니다[cite: 402, 403, 404]. [cite_start]또한 천주교회는 정경 외에 외경이나 교회 전통을 성경과 동등한 권위로 내세워 연옥설이나 마리아의 중보적 공로 등을 주장함으로 오직 예수 그리스도의 공로로 구원받는 복음을 훼손합니다[cite: 406, 407, 408]. [cite_start]성경은 이러한 '다른 복음'을 전하는 자들에게 저주가 있을 것이라고 엄중히 경고합니다[cite: 405].
                </p>

                <h3 class="font-bold text-lg text-gray-900 mt-4">4. 본성의 빛과 기독교적 분별</h3>
                <p>
                    [cite_start]물론 성경이 모든 세세한 사항(예: 예배 시간, 장소, 교회 정치 조직의 구체적 방식 등)을 일일이 규정하는 것은 아닙니다[cite: 413, 414]. [cite_start]이러한 영역은 성경의 일반적인 규범(덕을 세우고, 질서 있게 하는 것 등)에 어긋나지 않는 범위 내에서 <strong class="text-blue-600">이성의 빛과 기독교적 분별(지혜)</strong>을 따라 결정하면 됩니다[cite: 414]. [cite_start]이것은 성경이 불충분한 것이 아니라, 상황에 맞게 적용할 수 있는 원리를 주신 것입니다[cite: 415].
                </p>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-100">적용 질문</h2>
            <ul class="list-none space-y-4 text-gray-700">
                <li class="flex gap-3">
                    <span class="font-bold text-blue-600 flex-shrink-0">1.</span>
                    <p>여러분은 구원을 위하여 알아야 할 핵심적인 주요 가르침을 성경을 통해서 배우며 깨닫습니까?</p>
                </li>
                <li class="flex gap-3">
                    <span class="font-bold text-blue-600 flex-shrink-0">2.</span>
                    <p>여러분은 성경을 읽어도 알지 못하는 영적 일에 대한 질문을 가지고 있습니까? 이것은 성경에서 가르치지 않고 있기 때문입니까? 아니면 성경에 관하여 적절하고도 필연적인 논리적 귀결을 이끌어낸 설명을 듣지 못한 까닭입니까?</p>
                </li>
                <li class="flex gap-3">
                    <span class="font-bold text-blue-600 flex-shrink-0">3.</span>
                    <p>성경에 없는 것조차 잘 가르쳐준다고 주장하는 사람이나 단체를 주변에서 본 적이 있습니까? 이들은 어떠한 사람들입니까?</p>
                </li>
                <li class="flex gap-3">
                    <span class="font-bold text-blue-600 flex-shrink-0">4.</span>
                    <p>예배 시간이나 장소를 결정할 때 여러분의 교회는 어떠한 방식을 따릅니까?</p>
                </li>
            </ul>
        </section>

        <footer class="text-center text-xs text-gray-400 mt-8 pb-4">
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
        </footer>

    </main>

    <script>
        // --- Configuration ---
        const DATE_ID = "0110"; // January 10th
        const ADDR_FILE = "../address/dcaddr.txt";
        
        // --- Elements ---
        const playerContainer = document.getElementById('youtube-player');
        const playButton = document.getElementById('play-button');
        const playIcon = document.getElementById('play-icon');
        const loadingIcon = document.getElementById('loading-icon');
        const statusText = document.getElementById('player-status');
        const errorMsg = document.getElementById('error-message');
        const controlsDiv = document.getElementById('player-controls');

        window.player = null;
        let videoId = null;
        let isPlayerReady = false;

        // --- Logic ---

        // 1. Fetch Video ID
        async function fetchVideoId() {
            try {
                const response = await fetch(ADDR_FILE);
                if (!response.ok) throw new Error("주소 파일을 불러올 수 없습니다.");
                
                const text = await response.text();
                const lines = text.split('\n');
                const todayLine = lines.find(line => line.trim().startsWith(DATE_ID));
                
                if (!todayLine) {
                    throw new Error("TODAY_NOT_FOUND");
                }

                // Extract URL (assuming format: MMDD URL)
                const urlPart = todayLine.replace(DATE_ID, '').trim();
                
                // Parse Video ID using Regex
                const regExp = /(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                const match = urlPart.match(regExp);

                if (match && match[1]) {
                    return match[1];
                } else {
                    throw new Error("INVALID_URL");
                }

            } catch (error) {
                console.error("Video Fetch Error:", error);
                if (error.message === "TODAY_NOT_FOUND") {
                    showError("오늘의 AI요약 음성은 아직 업로드 전입니다.");
                } else {
                    showError("오디오 정보를 불러오는 중 오류가 발생했습니다.");
                }
                return null;
            }
        }

        // 2. UI Helper Functions
        function showError(msg) {
            statusText.style.display = 'none';
            playButton.style.display = 'none';
            errorMsg.textContent = msg;
            errorMsg.classList.remove('hidden');
        }

        function setButtonLoading(isLoading) {
            playButton.disabled = isLoading;
            if (isLoading) {
                playIcon.classList.add('hidden');
                loadingIcon.classList.remove('hidden');
                statusText.textContent = "플레이어 준비 중...";
            } else {
                playIcon.classList.remove('hidden');
                loadingIcon.classList.add('hidden');
                statusText.textContent = "재생하기";
            }
        }

        // 3. Initialize YouTube API
        function loadYoutubeAPI() {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }

        // 4. Player Setup (Called by API)
        function onYouTubeIframeAPIReady() {
            if (!videoId) return;

            window.player = new YT.Player('youtube-player', {
                height: '360',
                width: '640',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1,
                    'controls': 1,
                    'modestbranding': 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            isPlayerReady = true;
            setButtonLoading(false);
        }

        function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.PLAYING) {
                playIcon.innerHTML = '<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>'; // Pause icon
                statusText.textContent = "재생 중";
                playButton.setAttribute('aria-label', '일시정지');
                
                // Show player, hide large button if desired, or keep as toggle
                playerContainer.classList.remove('hidden');
                controlsDiv.classList.add('hidden'); // Hide big button once playing starts
            } else if (event.data == YT.PlayerState.PAUSED) {
                playIcon.innerHTML = '<path d="M8 5v14l11-7z"/>'; // Play icon
                statusText.textContent = "일시정지됨";
                playButton.setAttribute('aria-label', '재생');
            }
        }

        // 5. Main Execution
        (async function init() {
            setButtonLoading(true);
            videoId = await fetchVideoId();
            
            if (videoId) {
                loadYoutubeAPI();
                
                playButton.addEventListener('click', () => {
                    if (isPlayerReady) {
                        playerContainer.classList.remove('hidden');
                        window.player.playVideo();
                    }
                });
            }
        })();

    </script>
</body>
</html>
