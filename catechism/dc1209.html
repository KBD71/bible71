<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12월 9일: 주의 만찬을 받는 사람에게 요구되는 일</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 antialiased">

    <main class="max-w-3xl mx-auto p-4 sm:p-6 lg:p-8 space-y-8">
        
        <header class="text-center space-y-2">
            <div class="text-sm font-bold text-blue-600 tracking-wide uppercase">12월 9일</div>
            <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight">주의 만찬을 받는 사람에게 요구되는 일</h1>
            <p class="text-gray-500 text-sm sm:text-base">대요리문답 174</p>
        </header>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6">
            <h2 class="text-lg font-bold text-gray-900 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2 text-red-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg>
                AI요약 듣기
            </h2>
            <div id="audio-player-container" class="aspect-video bg-gray-100 rounded-lg flex items-center justify-center relative overflow-hidden">
                <div id="player-status" class="text-gray-500 text-sm">로딩 중...</div>
                <div id="youtube-player"></div>
            </div>
            <div id="error-message" class="hidden mt-4 p-4 bg-yellow-50 text-yellow-800 rounded-lg text-sm"></div>
        </section>

        <section class="bg-white rounded-2xl shadow-lg overflow-hidden border-l-4 border-blue-600">
            <div class="p-6 sm:p-8">
                <h2 class="text-xl font-bold text-gray-900 mb-4 border-b pb-2">대요리문답 174</h2>
                <div class="prose prose-blue max-w-none text-gray-700 leading-relaxed">
                    <p>
                        <span class="font-bold text-blue-700">문174.</span> 주의 만찬의 성례를 시행할 때 이것을 받는 사람에게 요구되는 것이 무엇입니까?<br>
                        <span class="font-bold text-blue-700">답.</span> 주의 만찬을 받는 사람에게 요구되는 것은 성찬이 시행되는 동안 모든 거룩한 경외심과 집중력을 가지고 이 규례에서 하나님을 바라는 것입니다.<sup>1)</sup> 성례의 요소들과 행동을 주의해서 살펴보면서<sup>2)</sup> 주의 몸을 주의 깊게 분별하고<sup>3)</sup> 그분의 죽음과 고난을 애정을 담아 묵상해야 합니다.<sup>4)</sup> 그럼으로써 자신이 받은 은혜가 힘 있게 역사하도록 열심을 내야 하는데,<sup>5)</sup> 자신을 살피고 죄를 슬퍼하는 일에서,<sup>6)</sup> 그리스도에 대하여 진정으로 주리고 목말라하고,<sup>7)</sup> 믿음으로 그리스도를 받아 먹고,<sup>8)</sup> 그분의 충만함으로부터 받으며,<sup>9)</sup> 그분의 공로를 의지하고,<sup>10)</sup> 그분의 사랑을 기뻐하며,<sup>11)</sup> 그분의 은혜에 대하여 감사하는 일에서,<sup>12)</sup> 그리고 하나님과의 언약과<sup>13)</sup> 모든 성도에 대한 사랑을 새롭게 하는 일에서 열심을 내야 합니다.<sup>14)</sup>
                    </p>
                    <div class="mt-4 text-sm text-gray-500 bg-gray-50 p-3 rounded">
                        1) 레 10:3; 히 12:28; 시 5:7; 고전 11:17, 26-27.<br>
                        2) 출 24:8; 마 26:28.<br>
                        3) 고전 11:29.<br>
                        4) 눅 22:19.<br>
                        5) 고전 11:26; 10:3-5, 11, 14.<br>
                        6) 고전 11:31; 슥 12:10.<br>
                        7) 계 22:17.<br>
                        8) 요 6:35.<br>
                        9) 요 1:16.<br>
                        10) 빌 3:9.<br>
                        11) 시 63:4-5; 대하 30:21.<br>
                        12) 시 22:26.<br>
                        13) 렘 50:5; 시 50:5.<br>
                        14) 행 2:42.
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-blue-50 rounded-2xl shadow-sm border border-blue-100 p-6">
            <h3 class="text-lg font-bold text-blue-900 mb-3 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                관련 말씀
            </h3>
            <ul class="space-y-3 text-gray-700 leading-relaxed">
                <li>
                    <span class="font-semibold text-blue-800">레 10:3</span> "모세가 아론에게 이르되 이는 여호와의 말씀이라 이르시기를 나는 나를 가까이 하는 자 중에서 내 거룩함을 나타내겠고 온 백성 앞에서 내 영광을 나타내리라 하셨느니라 아론이 잠잠하니"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">슥 12:10</span> "내가 다윗의 집과 예루살렘 주민에게 은총과 간구하는 심령을 부어 주리니 그들이 그 찌른 바 그를 바라보고 그를 위하여 애통하기를 독자를 위하여 애통하듯 하며..."
                </li>
                <li>
                    <span class="font-semibold text-blue-800">요 6:35</span> "예수께서 이르시되 나는 생명의 떡이니 내게 오는 자는 결코 주리지 아니할 터이요 나를 믿는 자는 영원히 목마르지 아니하리라"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">행 2:42</span> "그들이 사도의 가르침을 받아 서로 교제하고 떡을 떼며 오로지 기도하기를 힘쓰니라"
                </li>
            </ul>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 sm:p-8">
            <h3 class="text-xl font-bold text-gray-900 mb-6 border-b pb-2">교리 해설</h3>
            <div class="prose prose-lg max-w-none text-gray-700 space-y-6">
                <p>
                    오늘 읽은 대요리문답 174항은 성찬이 시행되는 동안 수찬자가 취해야 할 바른 태도와 마음가짐을 교훈합니다. 이는 준비 단계(171항), 의무(172항), 금지 대상(173항)에 이은 실천적 지침입니다. 성찬 중에는 단순히 앉아 있는 것이 아니라, 능동적이고 전인적인 영적 활동이 요구됩니다.
                </p>

                <div class="bg-gray-50 p-5 rounded-lg border-l-4 border-gray-400">
                    <h4 class="font-bold text-gray-900 mb-2">1. 거룩한 경외심으로 하나님을 바람 (예배적 태도)</h4>
                    <p class="mb-2">
                        성찬식은 하나님께 드리는 <strong class="text-blue-600">예배</strong>의 한 형태입니다. 따라서 수찬자는 모든 거룩한 경외심과 집중력을 가지고 하나님을 바라보아야 합니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>능동적 참여:</strong> 성찬은 단순히 떡과 잔을 받는 수동적인 시간이 아닙니다. 하늘로부터 내리시는 은혜를 굳은 신뢰로 바라보며 기다리는 능동적인 예배의 시간입니다.</li>
                        <li><strong>경외와 집중:</strong> 하나님의 긍휼과 자비, 공의를 생각하며, 독생자를 내어주신 사랑을 찬송하고 경배하는 마음으로 집중해야 합니다.</li>
                    </ul>
                </div>

                <div class="bg-blue-50 p-5 rounded-lg border-l-4 border-blue-400">
                    <h4 class="font-bold text-gray-900 mb-2">2. 요소와 행동을 살피며 묵상함 (지각적 참여)</h4>
                    <p class="mb-2">
                        성찬이 진행되는 동안 신자는 성례의 요소(빵, 포도주)와 행동(뗌, 나눔, 먹음, 마심)을 주의 깊게 살피며 그 영적 의미를 묵상해야 합니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>분별과 묵상:</strong> 빵과 포도주가 표지하는 그리스도의 몸과 피를 분별해야 합니다. 찢기신 몸과 흘리신 피를 보며, 그분의 죽으심과 고난을 애정을 담아 깊이 묵상해야 합니다.</li>
                        <li><strong>지식과 감정의 조화:</strong> 이러한 묵상은 머리로만 아는 지식에 그쳐서는 안 되며, 그리스도의 죽음이 나를 위한 것임을 마음으로 믿고 감사와 사랑으로 응답하는 것이어야 합니다.</li>
                    </ul>
                </div>

                <div class="bg-yellow-50 p-5 rounded-lg border-l-4 border-yellow-400">
                    <h4 class="font-bold text-gray-900 mb-2">3. 은혜가 힘 있게 역사하도록 열심을 냄 (영적 반응)</h4>
                    <p class="mb-2">
                        성찬 중에 신자는 자신이 받은 은혜가 내면에서 힘 있게 역사하도록 적극적으로 반응해야 합니다. 문답서는 구체적인 내적 활동들을 제시합니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>애통과 갈망:</strong> 자신을 살피며 죄를 슬퍼하고(슥 12:10), 의에 주리고 목마른 심령으로 그리스도를 갈망해야 합니다(시 42:1-2).</li>
                        <li><strong>믿음의 섭취:</strong> 믿음으로 그리스도를 받아 먹으며, 그분의 공로를 전적으로 의지해야 합니다.</li>
                        <li><strong>기쁨과 감사:</strong> 그분의 충만함으로부터 오는 은혜와 평강을 누리며, 그분의 사랑을 기뻐하고 구속의 은혜에 깊이 감사해야 합니다.</li>
                    </ul>
                </div>

                <div class="bg-green-50 p-5 rounded-lg border-l-4 border-green-400">
                    <h4 class="font-bold text-gray-900 mb-2">4. 언약과 사랑을 새롭게 함 (헌신과 교제)</h4>
                    <p class="mb-2">
                        성찬은 하나님과의 수직적 관계와 성도와의 수평적 관계를 모두 새롭게 하는 자리입니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>언약 갱신:</strong> 하나님께서 우리의 아버지가 되시고 우리는 그분의 자녀임을 확인하며, 하나님께 대한 헌신과 순종을 새롭게 다짐해야 합니다.</li>
                        <li><strong>사랑의 실천:</strong> 우리는 한 떡에 참여하는 한 몸입니다(고전 10:17). 성찬을 통해 모든 성도에 대한 사랑을 새롭게 하고, 형제 사랑을 실천하기로 결단해야 합니다.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-yellow-200 p-6">
            <h3 class="text-lg font-bold text-yellow-800 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                적용 질문
            </h3>
            <ul class="space-y-4">
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">1. 성찬에 참여할 때 성찬식을 예배의 한 형태로 이해하는 것이 왜 중요합니까?</span>
                    <p class="text-gray-700 text-sm">성찬을 예배로 이해할 때 신자는 어떤 태도와 마음으로 임해야 합니까? 여러분은 성찬에 참여할 때 수동적인 자세를 벗어나, 하나님께 드리는 예배자로서 전심으로 그분의 은혜를 사모하며 능동적으로 참여하고 계십니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">2. 성찬이 시행되는 동안 신자가 성찬의 외적 요소와 행위를 주의 깊게 살펴야 하는 이유는 무엇입니까?</span>
                    <p class="text-gray-700 text-sm">빵과 포도주가 상징하는 그리스도의 몸과 피가 신자에게 어떤 신앙적 의미를 주나요? 여러분은 성찬의 표지를 볼 때마다 단순한 형식으로 여기지 않고, 그리스도의 죽음이 자신을 위한 실제적 은혜임을 믿음으로 되새기며 감사와 사랑으로 응답하고 계십니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">3. 성찬에 참여하는 신자가 자신을 살피며 죄를 슬퍼하고 의에 주리고 목말라해야 하는 이유는 무엇입니까?</span>
                    <p class="text-gray-700 text-sm">이러한 마음이 그리스도의 의를 믿음으로 받는 일과 어떻게 연결됩니까? 여러분은 성찬 때마다 자신의 죄를 애통해하며, 그리스도의 공로를 의지하는 믿음으로 새로워져, 감사와 사랑으로 주님께 헌신하고 계십니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">4. 성찬이 하나님과의 언약을 새롭게 할 뿐 아니라 성도 간의 사랑과 연합을 강화하는 예식이라는 것은 무슨 뜻입니까?</span>
                    <p class="text-gray-700 text-sm">왜 성찬이 교회의 하나 됨을 드러내는 자리라고 말할 수 있습니까? 여러분은 성찬을 통해 하나님과의 언약적 관계뿐 아니라 성도와의 사랑과 교제를 새롭게 하며, 교회의 하나 됨을 기쁨과 감사로 지켜가고 계십니까?</p>
                </li>
            </ul>
        </section>

        <footer class="text-center text-gray-500 text-xs sm:text-sm mt-8 pb-8">
            교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다
        </footer>
    </main>

    <script>
        // Constants
        const ADDRESS_FILE_URL = '../address/dcaddr.txt';
        const DATE_KEY = '1209'; // MMDD format for December 09

        // State
        window.player = null;

        // DOM Elements
        const playerContainer = document.getElementById('audio-player-container');
        const playerStatus = document.getElementById('player-status');
        const errorMessage = document.getElementById('error-message');

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadVideoConfig();
        });

        async function loadVideoConfig() {
            try {
                const response = await fetch(ADDRESS_FILE_URL);
                if (!response.ok) throw new Error('주소 파일을 불러올 수 없습니다.');
                
                const text = await response.text();
                const lines = text.split('\n');
                const targetLine = lines.find(line => line.trim().startsWith(DATE_KEY));

                if (!targetLine) {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                    return;
                }

                // Extract Video ID
                const parts = targetLine.split(/\s+/);
                if (parts.length < 2) throw new Error('비디오 주소 형식이 잘못되었습니다.');
                
                const url = parts[1];
                const videoId = extractVideoId(url);

                if (!videoId) throw new Error('유효한 비디오 ID를 찾을 수 없습니다.');

                initializePlayer(videoId);

            } catch (error) {
                console.error('Configuration Error:', error);
                showError(error.message || '오디오 설정을 불러오는 중 오류가 발생했습니다.');
            }
        }

        function extractVideoId(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        function initializePlayer(videoId) {
            // Load YouTube IFrame API
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            window.onYouTubeIframeAPIReady = function() {
                player = new YT.Player('youtube-player', {
                    height: '100%',
                    width: '100%',
                    videoId: videoId,
                    playerVars: {
                        'playsinline': 1,
                        'controls': 1,
                        'modestbranding': 1
                    },
                    events: {
                        'onReady': onPlayerReady,
                        'onError': onPlayerError
                    }
                });
            };
        }

        function onPlayerReady(event) {
            playerStatus.style.display = 'none';
            const iframe = event.target.getIframe();
            iframe.setAttribute('aria-label', '교리 오디오 재생');
        }

        function onPlayerError(event) {
            showError('오디오 재생 중 오류가 발생했습니다. (YouTube Error Code: ' + event.data + ')');
        }

        function showError(message) {
            playerContainer.style.display = 'none';
            errorMessage.textContent = message;
            errorMessage.classList.remove('hidden');
        }
    </script>
</body>
</html>
