<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날마다 읽는 교리 - 11월 26일</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" as="style" crossorigin="anonymous" />
    <style>
        body {
            font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            word-break: keep-all;
            background-color: #f3f4f6;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        .card-header {
            background-color: #4a5568;
            color: white;
            padding: 1rem 1.5rem;
            font-size: 1.25rem;
            font-weight: 700;
            border-bottom: 1px solid #e5e7eb;
        }
        .card-body {
            padding: 1.5rem;
            line-height: 1.75;
        }
        .card-body h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #1f2937;
        }
        .card-body p {
            margin-bottom: 1rem;
            color: #374151;
        }
        .card-body ul {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-bottom: 1rem;
            color: #374151;
        }
        .card-body li {
            margin-bottom: 0.5rem;
        }
        .card-body .question {
            font-weight: 600;
            color: #111827;
        }
        .card-body .answer {
            color: #374151;
        }
        .audio-player-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            background-color: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }
        .audio-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 500;
            border-radius: 0.5rem;
            transition: all 0.2s ease-in-out;
            border: 1px solid transparent;
        }
        .audio-button:disabled {
            background-color: #e5e7eb;
            color: #9ca3af;
            cursor: not-allowed;
        }
        .audio-button.play {
            background-color: #2563eb;
            color: white;
        }
        .audio-button.play:hover {
            background-color: #1d4ed8;
        }
        .audio-button.pause {
            background-color: #f87171;
            color: white;
        }
        .audio-button.pause:hover {
            background-color: #ef4444;
        }
        .audio-error {
            color: #dc2626;
            font-weight: 500;
            text-align: center;
        }
        #player-container {
            width: 1px;
            height: 1px;
            opacity: 0;
            position: absolute;
            top: -100px;
            left: -100px;
        }
        footer {
            text-align: center;
            padding: 2rem 1rem;
            font-size: 0.875rem;
            color: #6b7280;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="container mx-auto max-w-3xl px-4 py-8 sm:py-12">

        <header class="mb-8 text-center">
            <h1 class="text-4xl font-bold text-gray-800">11월 26일</h1>
            <p class="text-xl text-gray-600 mt-2">··' 11:: °</p>
        </header>

        <main>
            <div class="card">
                <div class="card-header">
                    소요리문답 96
                </div>
                <div class="card-body">
                    <p class="answer">대요리문답 168 소요리문답 96: 96. 주의 만찬이란무엇입니까? 답. 주의 만찬은 성례의 하나인데, 예수 그리스도 께서 지정하신 대로 빵과 포도주를 주고받음으로 그분 의 죽으심을 보여줍니다. 육체적으로나 물질적으로가 아니라 믿음으로 합당하게 참여하는 사람은 주님의 살 과 피를 먹고 마심으로 영적 양식올 먹으며 은혜 가운 데 자라는 모든 유익을 누립니다.1) 1) 고전 11:23-26; 10:16. 대요리문답 168: ‘</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    AI요약 듣기
                </div>
                <div class="audio-player-container" id="audio-player-ui">
                    <div id="player-container"></div>
                    <button id="audio-button" class="audio-button play" aria-label="교리 오디오 재생" disabled>
                        <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2">
                            <path fill-rule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z" clip-rule="evenodd" />
                        </svg>
                        <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2" style="display: none;">
                            <path fill-rule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z" clip-rule="evenodd" />
                        </svg>
                        <span id="button-text">로딩 중...</span>
                    </button>
                    <div id="audio-error" class="audio-error mt-4" style="display: none;"></div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    교리 해설
                </div>
                <div class="card-body">
                    <p>오늘 읽는 소요리문답 96항과 대요리문답 168항은 ‘주의 만찬’ 또는 ‘성찬’ 
이 무엇인지를 설명합니다. 두 문답은 성찬의 본질, 성찬에 참여하는 방식, 
그리고 성찬을 통해 맺기를 기대하는 열매들에 대해 교훈합니다. 내용을 
세 부분으로 나누어 살펴보겠습니다. 
(1) “주의 만찬은 신약 성례의 하나인데, 예수 그리스도께서 제정하신 대로 
빵과 포도주를 주고받음으로 그분의 죽으심을 보여줍니다”: 신약의 성례는 
두 가지입니다. 하나는 세례이며. 다른 하나는 성찬입니다. 성찬은 예수 그 
리스도께서 친히 명령하여 제정하신(ordained 또는 institut ed) 거룩한 규 
례입니다. 대요리문답이 성찬을 ‘신약의 성례’라고 진술하는 것은 구약의 성 
례와 구별하기 위함입니다. 구약의 대표적 성례는 할례와 유월절입니다. 그 
중 유월절 의식은 장차 오실 그리스도의 대속적 죽음을 예표한 것이고, 성 
찬은 그 예표가 성취된 예식입니다. 
예수 그리스도께서는 성찬의 시행에서 사용될 외적 요소를 명확히 지정하 
셨습니다(appointed). 따라서 성찬은 반드시 주께서 명하신 대로 빵과 포 
도주를 주고받는 방식으로 행해야 합니다. 주님께서는 빵을 들어 “이것은 
너희를 위하는 내 몸이니"（고전 11:24) 라 하셨고, 잔을 들어 “이 잔은 내 피 
로 세운 새 언약이라”(고전 11:25) 하셨습니다. 그러므로 성찬에서 빵과 포 
도주 외의 다른 요소로 대체하는 일은 잘못된 행위입니다. 
한국 교회 안에는 토착화의 명분으로 빵 대신 인절미나 시루빵을, 포도주 
대신 막걸리를 사용하는 시도가 있었으나, 이는 주님께서 제정하신 성례의 
본질을 변질시키는 일입니다. 성찬의 표지는 그리스도의 죽으심을 시각적 
으로 선포하는 은혜의 방편입니다. 성찬에 참여하는 자는 매번 그리스도의 
대속의 죽음을 기억하며, 빵과 포도주를 먹고 마심으로 죄 사함의 은혜에 
대한 깊은 감사와 감격으로 나아가야 합니다. 
(2) "육체적으로나 물질...</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    적용 질문
                </div>
                <div class="card-body">
                    <ul>
                        <li><span class="question">성찬에서 왜 반드시 빵과 포도주가 사용되어야 합니까? 여러분은 성찬</span></li>
<li><span class="question">의 표지가 단순한 전통이 아니라 주님께서 친히 제정하신 언약의 표지임을</span></li>
<li><span class="question">기억하고 계십니까? 주님께서 명하신 대로 행하는 것이 신앙의 순종이라는</span></li>
<li><span class="question">사실을 생각할 때, 성찬에 참여할 때마다 그리스도의 희생을 더욱 깊이 묵</span></li>
<li><span class="question">상하며 감사의 마음으로 그 식탁에 나아가고 계십니까?</span></li>
<li><span class="question">합당하게' 성찬에 참여한다는 말은 무슨 뜻입니까? 여러분은 성찬이</span></li>

                    </ul>
                </div>
            </div>
        </main>

        <footer>
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
        </footer>

    </div>

    <script>
        let player;
        let videoId = null;
        let isPlayerReady = false;
        let isPlaying = false;
        const audioButton = document.getElementById('audio-button');
        const buttonText = document.getElementById('button-text');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const errorContainer = document.getElementById('audio-error');

        function loadYouTubeAPI() {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }

        function onYouTubeIframeAPIReady() {
            fetchAudioAddress();
        }

        async function fetchAudioAddress() {
            try {
                const response = await fetch('../address/dcaddr.txt');
                if (!response.ok) {
                    throw new Error('오디오 목록 파일을 불러오는 데 실패했습니다.');
                }
                const text = await response.text();
                const lines = text.split('\n');
                const today = '1126';
                const todayLine = lines.find(line => line.startsWith(today));

                if (todayLine) {
                    const regex = /(?:v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                    const match = todayLine.match(regex);
                    if (match && match[1]) {
                        videoId = match[1];
                        initializePlayer();
                    } else {
                        throw new Error('오늘 날짜의 오디오 주소 형식이 올바르지 않습니다.');
                    }
                } else {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                }
            } catch (error) {
                console.error('Error fetching audio address:', error);
                showError(error.message || '오디오를 불러오는 중 오류가 발생했습니다.');
            }
        }

        function initializePlayer() {
            player = new YT.Player('player-container', {
                height: '1',
                width: '1',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1,
                    'controls': 0,
                  'showinfo': 0,
                    'rel': 0
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            isPlayerReady = true;
            audioButton.disabled = false;
            buttonText.textContent = 'AI요약 듣기';
            audioButton.setAttribute('aria-label', '교리 오디오 재생');
            audioButton.addEventListener('click', togglePlayPause);
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                isPlaying = true;
                updateButtonUI(true);
            } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                isPlaying = false;
                updateButtonUI(false);
                if (event.data === YT.PlayerState.ENDED) {
                    player.seekTo(0);
                }
            }
        }

        function togglePlayPause() {
            if (!isPlayerReady) return;
            if (isPlaying) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }

        function updateButtonUI(playing) {
            if (playing) {
                audioButton.classList.remove('play');
                audioButton.classList.add('pause');
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'inline';
                buttonText.textContent = '일시정지';
                audioButton.setAttribute('aria-label', '교리 오디오 일시정지');
            } else {
                audioButton.classList.remove('pause');
                audioButton.classList.add('play');
                playIcon.style.display = 'inline';
                pauseIcon.style.display = 'none';
                buttonText.textContent = 'AI요약 듣기';
                audioButton.setAttribute('aria-label', '교리 오디오 재생');
            }
        }

        function showError(message) {
            const button = document.getElementById('audio-button');
            if (button) {
                button.style.display = 'none';
            }
            errorContainer.textContent = message;
            errorContainer.style.display = 'block';
        }

        loadYouTubeAPI();
    </script>

</body>
</html>