<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11월 8일: 설교를 듣는 사람에게 요구되는 의무</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 antialiased">

    <main class="max-w-3xl mx-auto p-4 sm:p-6 lg:p-8 space-y-8">
        
        <header class="text-center space-y-2">
            <div class="text-sm font-bold text-blue-600 tracking-wide uppercase">11월 8일</div>
            <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight">설교를 듣는 사람에게<br class="sm:hidden" /> 요구되는 의무</h1>
            <p class="text-gray-500 text-sm sm:text-base">대요리문답 160</p>
        </header>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6">
            <h2 class="text-lg font-bold text-gray-900 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2 text-red-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg>
                AI요약 듣기
            </h2>
            <div id="audio-player-container" class="aspect-video bg-gray-100 rounded-lg flex items-center justify-center relative overflow-hidden">
                <div id="player-status" class="text-gray-500 text-sm">로딩 중...</div>
                <div id="youtube-player"></div>
            </div>
            <div id="error-message" class="hidden mt-4 p-4 bg-yellow-50 text-yellow-800 rounded-lg text-sm"></div>
        </section>

        <section class="bg-white rounded-2xl shadow-lg overflow-hidden border-l-4 border-blue-600">
            <div class="p-6 sm:p-8">
                <h2 class="text-xl font-bold text-gray-900 mb-4 border-b pb-2">대요리문답 160</h2>
                <div class="prose prose-blue max-w-none text-gray-700 leading-relaxed">
                    <p>
                        <span class="font-bold text-blue-700">문160.</span> 설교를 듣는 사람에게 요구되는 것은 무엇입니까?<br>
                        <span class="font-bold text-blue-700">답.</span> 설교를 듣는 사람에게 요구되는 것은 근면과<sup>1)</sup> 준비와<sup>2)</sup> 기도로써<sup>3)</sup> 말씀에 집중하고,<sup>4)</sup> 성경을 상고함으로 들은 것을 검토하며,<sup>5)</sup> 믿음과<sup>6)</sup> 사랑,<sup>7)</sup> 온유함과<sup>8)</sup> 준비된 마음으로<sup>9)</sup> 진리를 하나님의 말씀으로 받아들이고,<sup>10)</sup> 그것을 묵상하고<sup>11)</sup> 참조하며,<sup>12)</sup> 그들의 마음에 숨겨두고,<sup>13)</sup> 그들의 삶에 열매를 맺는 것입니다.<sup>14)</sup> 
                    </p>
                    <div class="mt-4 text-sm text-gray-500 bg-gray-50 p-3 rounded">
                        1) 잠 8:34.<br>
                        2) 벧전 2:1-2; 눅 8:18.<br>
                        3) 시 119:18; 엡 6:18-19.<br>
                        4) 눅 8:15; 약 1:25.<br>
                        5) 행 17:11.<br>
                        6) 히 4:2.<br>
                        7) 살후 2:10.<br>
                        8) 약 1:21.<br>
                        9) 행 17:11.<br>
                        10) 살전 2:13.<br>
                        11) 눅 9:44; 히 2:1.<br>
                        12) 눅 2:19, 51.<br>
                        13) 시 119:11.<br>
                        14) 눅 8:15; 약 1:25.
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-blue-50 rounded-2xl shadow-sm border border-blue-100 p-6">
            <h3 class="text-lg font-bold text-blue-900 mb-3 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                관련 말씀
            </h3>
            <ul class="space-y-3 text-gray-700 leading-relaxed">
                <li>
                    <span class="font-semibold text-blue-800">잠 8:34</span> "누구든지 내게 들으며 날마다 내 문 곁에서 기다리며 문설주 옆에서 기다리는 자는 복이 있나니"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">행 17:11</span> "베뢰아에 있는 사람들은 데살로니가에 있는 사람들보다 더 너그러워서 간절한 마음으로 말씀을 받고 이것이 그러한가 하여 날마다 성경을 상고하므로"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">살전 2:13</span> "이러므로 우리가 하나님께 끊임없이 감사함은 너희가 우리에게 들은 바 하나님의 말씀을 받을 때에 사람의 말로 받지 아니하고 하나님의 말씀으로 받음이니 진실로 그러하도다 이 말씀이 또한 너희 믿는 자 가운데에서 역사하느니라"
                </li>
                <li>
                    <span class="font-semibold text-blue-800">약 1:21</span> "그러므로 모든 더러운 것과 넘치는 악을 내버리고 너희 영혼을 능히 구원할 바 마음에 심어진 말씀을 온유함으로 받으라"
                </li>
            </ul>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 sm:p-8">
            <h3 class="text-xl font-bold text-gray-900 mb-6 border-b pb-2">교리 해설</h3>
            <div class="prose prose-lg max-w-none text-gray-700 space-y-6">
                <p>
                    설교의 효력은 설교자의 책임만으로 결정되지 않습니다. 말씀을 듣는 회중의 태도와 반응 또한 매우 중요합니다. 대요리문답 160항은 설교를 듣는 자들이 갖추어야 할 의무를 <strong class="text-blue-600">듣기 전, 듣는 중, 들은 후</strong>의 세 단계로 나누어 교훈합니다.
                </p>

                <div class="bg-gray-50 p-5 rounded-lg border-l-4 border-gray-400">
                    <h4 class="font-bold text-gray-900 mb-2">1. 듣기 전의 의무: "근면과 준비와 기도로써"</h4>
                    <p class="mb-2">
                        은혜를 받기 위해서는 준비가 필요합니다. 밭을 갈지 않고 씨를 뿌리면 결실하기 어렵듯, 마음의 밭을 기경하지 않고 예배에 나오는 것은 말씀을 헛되이 듣는 원인이 됩니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>근면과 준비:</strong> 주일 아침에 허둥지둥 나오지 않도록 토요일부터 몸과 마음을 정돈해야 합니다. 육체적 피로를 관리하고, 세속적인 염려를 내려놓으며, 하나님을 만날 기대감을 가지고 부지런히 나아와야 합니다.</li>
                        <li><strong>기도:</strong> 자신의 죄를 회개하고, 설교자를 위해, 그리고 자신의 영적 깨달음을 위해 간절히 기도해야 합니다. 성령님의 조명 없이는 말씀이 들리지 않기 때문입니다(시 119:18).</li>
                    </ul>
                </div>

                <div class="bg-blue-50 p-5 rounded-lg border-l-4 border-blue-400">
                    <h4 class="font-bold text-gray-900 mb-2">2. 듣는 중의 의무: "하나님의 말씀으로 받아들이고"</h4>
                    <p class="mb-2">
                        말씀이 선포될 때, 회중은 설교자를 통해 말씀하시는 하나님의 음성을 들어야 합니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>검토(Examining):</strong> 맹목적인 수용이 아니라, 베뢰아 사람들처럼 선포된 말씀이 성경에 합한지 상고하며 들어야 합니다(행 17:11). 이는 비판적 태도가 아니라 진리를 향한 진지한 탐구입니다.</li>
                        <li><strong>수용의 태도:</strong> <strong class="text-blue-600">믿음</strong>으로 화답하고, 진리를 <strong class="text-blue-600">사랑</strong>하며, 책망의 말씀 앞에서도 <strong class="text-blue-600">온유함</strong>으로 받아야 합니다. 사람의 말이 아닌 하나님의 말씀으로 받을 때, 그 말씀이 믿는 자 속에서 역사합니다(살전 2:13).</li>
                    </ul>
                </div>

                <div class="bg-yellow-50 p-5 rounded-lg border-l-4 border-yellow-400">
                    <h4 class="font-bold text-gray-900 mb-2">3. 들은 후의 의무: "열매를 맺는 것"</h4>
                    <p class="mb-2">
                        설교는 듣는 것으로 끝나지 않습니다. 예배당 문을 나선 후의 삶이 진짜 반응입니다.
                    </p>
                    <ul class="list-disc list-inside space-y-1 ml-2">
                        <li><strong>묵상과 참조:</strong> 들은 말씀을 깊이 묵상하고 기억해야 합니다(히 2:1). 말씀을 마음에 숨겨두어(시 119:11) 죄를 이기는 무기로 삼아야 합니다.</li>
                        <li><strong>실천적 열매:</strong> 말씀은 지적 유희를 위한 것이 아닙니다. 삶의 변화와 순종의 열매로 나타나야 합니다. 듣고 행하지 않는 자는 자신을 속이는 자입니다(약 1:22).</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-sm border border-yellow-200 p-6">
            <h3 class="text-lg font-bold text-yellow-800 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                적용 질문
            </h3>
            <ul class="space-y-4">
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">1. 여러분은 주일 설교를 듣기 위해 어떤 준비를 하고 있습니까?</span>
                    <p class="text-gray-700 text-sm">토요일 저녁부터 마음을 정돈하고, 주일 아침에 기도와 기대로 예배 자리에 나아오고 있습니까? 아니면 허둥지둥 준비 없이 자리에 앉아 있지는 않습니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">2. 설교를 들을 때 여러분의 태도는 어떠합니까?</span>
                    <p class="text-gray-700 text-sm">베뢰아 사람들처럼 말씀을 간절히 사모하며 성경과 대조해 보는 진지함이 있습니까? 혹은 설교자의 말투나 예화에만 관심을 두고 있지는 않습니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">3. 책망의 말씀을 들을 때 온유함으로 받고 있습니까?</span>
                    <p class="text-gray-700 text-sm">내 생각과 다르거나 나의 죄를 지적할 때, 반발심을 갖기보다 나를 고치시려는 하나님의 사랑의 음성으로 받아들이고 있습니까?</p>
                </li>
                <li class="bg-yellow-50 p-4 rounded-lg">
                    <span class="font-bold text-yellow-900 block mb-1">4. 설교를 들은 후 삶에서 어떤 열매를 맺고 있습니까?</span>
                    <p class="text-gray-700 text-sm">예배당을 나서는 순간 말씀을 잊어버리지는 않습니까? 한 주간 동안 들은 말씀을 묵상하며 구체적으로 순종하려고 노력하고 있습니까?</p>
                </li>
            </ul>
        </section>

        <footer class="text-center text-gray-500 text-xs sm:text-sm mt-8 pb-8">
            교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다
        </footer>
    </main>

    <script>
        // Constants
        const ADDRESS_FILE_URL = '../address/dcaddr.txt';
        const DATE_KEY = '1108'; // MMDD format for November 8th

        // State
        let player = null;

        // DOM Elements
        const playerContainer = document.getElementById('audio-player-container');
        const playerStatus = document.getElementById('player-status');
        const errorMessage = document.getElementById('error-message');

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadVideoConfig();
        });

        async function loadVideoConfig() {
            try {
                const response = await fetch(ADDRESS_FILE_URL);
                if (!response.ok) throw new Error('주소 파일을 불러올 수 없습니다.');
                
                const text = await response.text();
                const lines = text.split('\n');
                const targetLine = lines.find(line => line.trim().startsWith(DATE_KEY));

                if (!targetLine) {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                    return;
                }

                // Extract Video ID (Assume format: MMDD url)
                const parts = targetLine.split(/\s+/);
                if (parts.length < 2) throw new Error('비디오 주소 형식이 잘못되었습니다.');
                
                const url = parts[1];
                const videoId = extractVideoId(url);

                if (!videoId) throw new Error('유효한 비디오 ID를 찾을 수 없습니다.');

                initializePlayer(videoId);

            } catch (error) {
                console.error('Configuration Error:', error);
                showError(error.message || '오디오 설정을 불러오는 중 오류가 발생했습니다.');
            }
        }

        function extractVideoId(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        function initializePlayer(videoId) {
            // Load YouTube IFrame API
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            window.onYouTubeIframeAPIReady = function() {
                player = new YT.Player('youtube-player', {
                    height: '100%',
                    width: '100%',
                    videoId: videoId,
                    playerVars: {
                        'playsinline': 1,
                        'controls': 1,
                        'modestbranding': 1
                    },
                    events: {
                        'onReady': onPlayerReady,
                        'onError': onPlayerError
                    }
                });
            };
        }

        function onPlayerReady(event) {
            playerStatus.style.display = 'none';
            const iframe = event.target.getIframe();
            iframe.setAttribute('aria-label', '교리 오디오 재생');
        }

        function onPlayerError(event) {
            showError('오디오 재생 중 오류가 발생했습니다. (YouTube Error Code: ' + event.data + ')');
        }

        function showError(message) {
            playerContainer.style.display = 'none';
            errorMessage.textContent = message;
            errorMessage.classList.remove('hidden');
        }
    </script>
</body>
</html>
