<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날마다 읽는 교리 - 2월 13일</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
            background-color: #f8fafc;
            color: #334155;
        }
        .keep-all {
            word-break: keep-all;
            overflow-wrap: break-word;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center py-10 px-4 sm:px-6 lg:px-8">

    <!-- Header -->
    <header class="w-full max-w-3xl mb-10 text-center space-y-2">
        <h1 class="text-3xl sm:text-4xl font-extrabold text-slate-900 tracking-tight">2월 13일</h1>
        <p class="text-xl text-blue-600 font-bold">천사를 향한 섭리</p>
    </header>

    <!-- Audio Player Section -->
    <div id="audio-player-container" class="w-full max-w-3xl mb-10 bg-white rounded-2xl shadow-sm border border-slate-200 p-6 flex flex-col items-center justify-center transition-all duration-300 hover:shadow-md">
        <div id="player-status" class="text-sm text-slate-500 mb-4 h-5 font-medium"></div>
        <button id="play-button" class="group relative inline-flex items-center justify-center px-8 py-3.5 text-base font-bold text-white bg-blue-600 rounded-full hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg shadow-blue-600/30 hover:shadow-blue-600/40 active:scale-95" disabled aria-label="교리 오디오 재생 로딩 중">
            <span id="btn-text">로딩 중...</span>
            <svg id="icon-play" class="w-5 h-5 ml-2 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <svg id="icon-pause" class="w-5 h-5 ml-2 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
        </button>
        <div id="youtube-player" class="hidden"></div>
    </div>

    <!-- Main Content -->
    <main class="w-full max-w-3xl space-y-8">

        <!-- Confession Section -->
        <section class="space-y-6">
            <div class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                <div class="bg-slate-50 px-6 py-4 border-b border-slate-100 flex items-center">
                    <span class="bg-indigo-100 text-indigo-700 text-xs font-bold px-2.5 py-1 rounded-full mr-3">대요리문답</span>
                    <h2 class="text-lg font-bold text-slate-800">제19문</h2>
                </div>
                <div class="p-6 sm:p-8 space-y-4">
                    <div class="space-y-4">
                        <p class="font-bold text-slate-900 text-lg">문19. 천사에 대한 하나님의 섭리는 무엇입니까?</p>
                        <p class="text-slate-700 leading-relaxed keep-all pl-4 border-l-4 border-indigo-500 bg-indigo-50/50 py-2 pr-2 rounded-r-lg">
                            답: 하나님께서 그분 자신의 섭리에 따라 천사들 중 일부가 자의로 그리고 회복될 수 없을 정도로 타락하여 죄와 정죄에 이르는 일을 허용하셨는데, 이들의 타락과 모든 죄를 제한하시고 질서 있게 정하셔서 그분 자신의 영광이 되게 하셨고, 나머지 천사들은 거룩하고 복된 상태로 확립시키셨습니다. 그리고 자신의 능력과 긍휼과 공의를 실행하심으로 이들 모두를 그분의 기쁘신 뜻대로 사용하십니다.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Scripture Section -->
        <section class="bg-slate-800 rounded-2xl shadow-md overflow-hidden text-slate-100">
            <div class="px-6 py-4 border-b border-slate-700 flex items-center">
                <svg class="w-5 h-5 text-yellow-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                </svg>
                <h2 class="text-lg font-bold">말씀 요절</h2>
            </div>
            <div class="p-6 sm:p-8 space-y-6 text-sm sm:text-base leading-relaxed opacity-90">
                <div>
                    <strong class="text-yellow-400 block mb-1">유다서 1:6</strong>
                    <p class="keep-all">"또 자기 지위를 지키지 아니하고 자기 처소를 떠난 천사들을 큰 날의 심판까지 영원한 결박으로 흑암에 가두셨으며"</p>
                </div>
                <div>
                    <strong class="text-yellow-400 block mb-1">베드로후서 2:4</strong>
                    <p class="keep-all">"하나님이 범죄한 천사들을 용서하지 아니하시고 지옥에 던져 어두운 구덩이에 두어 심판 때까지 지키게 하셨으며"</p>
                </div>
                <div>
                    <strong class="text-yellow-400 block mb-1">욥기 1:12</strong>
                    <p class="keep-all">"여호와께서 사탄에게 이르시되 내가 그의 소유물을 다 네 손에 맡기노라 다만 그의 몸에는 네 손을 대지 말지니라..."</p>
                </div>
                <div>
                    <strong class="text-yellow-400 block mb-1">히브리서 1:14</strong>
                    <p class="keep-all">"모든 천사들은 섬기는 영으로서 구원 받을 상속자들을 위하여 섬기라고 보내심이 아니냐"</p>
                </div>
            </div>
        </section>

        <!-- Exposition Section -->
        <section class="space-y-6">
            
            <!-- Card 1: Nature of Angels -->
            <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6 sm:p-8">
                <h3 class="text-xl font-bold text-slate-800 mb-4 pb-2 border-b border-slate-100">천사의 존재론적 특성</h3>
                <div class="text-slate-700 space-y-4 leading-relaxed keep-all">
                    <p>
                        천사는 본래 <strong class="text-blue-600">영적이고 무형적인 존재</strong>로 창조되었습니다. 이들은 살과 뼈와 같은 신체적 몸을 가지고 있지 않으며, 보이지 않는 존재입니다. 그러나 영적인 존재라고 해서 무한한 것은 아닙니다.
                    </p>
                    <ul class="list-none space-y-3 mt-4 bg-slate-50 p-5 rounded-xl text-sm sm:text-base">
                        <li class="flex items-start">
                            <span class="flex-shrink-0 w-1.5 h-1.5 mt-2 bg-blue-500 rounded-full mr-3"></span>
                            <span>천사는 <strong class="text-slate-900">유한한 피조물</strong>이며, 제한된 공간에 존재합니다. 동시에 여러 곳에 있을 수 없습니다.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="flex-shrink-0 w-1.5 h-1.5 mt-2 bg-blue-500 rounded-full mr-3"></span>
                            <span>이성적이고 도덕적인 존재로서 지식이 뛰어나며, 하나님의 도덕적 법 아래 <strong class="text-slate-900">순종의 의무</strong>를 가집니다.</span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Card 2: Creation and Fall -->
            <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6 sm:p-8">
                <h3 class="text-xl font-bold text-slate-800 mb-4 pb-2 border-b border-slate-100">천사의 타락과 개별성</h3>
                <div class="text-slate-700 space-y-4 leading-relaxed keep-all">
                    <p>
                        모든 천사는 처음에 <strong class="text-green-600">선한 상태</strong>로 지음을 받았습니다. 그러나 그들 중 일부는 자의적으로 자신의 지위를 지키지 않고 타락하여 악한 천사가 되었습니다.
                    </p>
                    <p>
                        천사의 타락은 인간의 타락과 한 가지 중요한 차이점이 있습니다. 인류는 아담이라는 한 조상과 유기적으로 연결되어 모두 죄 아래 있게 되었지만, <strong class="text-blue-600">천사는 개별적으로 창조</strong>되었습니다.
                    </p>
                    <div class="bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg">
                        <p class="text-amber-900 text-sm sm:text-base font-medium">
                            "천사는 유기적 연결 없이 각기 지음을 받은 집단이기에, 개인적인 행위와 순종 여부에 따라 선한 천사와 악한 천사로 나뉘게 되었습니다."
                        </p>
                    </div>
                </div>
            </div>

            <!-- Card 3: God's Sovereignty over All Angels -->
            <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6 sm:p-8">
                <h3 class="text-xl font-bold text-slate-800 mb-4 pb-2 border-b border-slate-100">하나님의 통제와 목적</h3>
                <div class="text-slate-700 space-y-4 leading-relaxed keep-all">
                    <p>
                        하나님께서는 선한 천사와 악한 천사 모두를 그분의 주권 아래 다스리십니다.
                    </p>
                    <ul class="list-none space-y-3 mt-4">
                        <li class="p-4 bg-slate-50 rounded-xl border border-slate-100">
                            <strong class="text-slate-900 block mb-1">악한 천사의 제한:</strong>
                            <span class="text-sm">악한 천사들은 감히 하나님을 대적하나, 결코 그분의 권세를 벗어나지 못합니다. 하나님은 이들의 죄를 제한하시고 질서 있게 정하셔서 궁극적으로 그분의 <strong class="text-red-600">공의의 영광</strong>을 드러내십니다.</span>
                        </li>
                        <li class="p-4 bg-slate-50 rounded-xl border border-slate-100">
                            <strong class="text-slate-900 block mb-1">선한 천사의 확립:</strong>
                            <span class="text-sm">하나님의 선택을 받은 선한 천사들은 거룩하고 복된 상태로 확립되었습니다. 이들은 <strong class="text-blue-600">섬기는 영</strong>으로서 구원받을 상속자들을 돕고 하나님의 명을 실행합니다.</span>
                        </li>
                    </ul>
                    <p class="mt-4">
                        결국 하나님께서는 자신의 능력과 긍휼과 공의를 실행하시기 위해 이들 모두를 그분의 기쁘신 뜻대로 사용하십니다.
                    </p>
                </div>
            </div>

        </section>

    </main>

    <!-- Footer -->
    <footer class="mt-16 mb-8 text-center text-slate-400 text-sm">
        <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
    </footer>

    <!-- Scripts -->
    <script>
        window.player = null;
        const DCADDR_URL = '../address/dcaddr.txt';
        const TODAY_DATE = '0213';

        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        window.onYouTubeIframeAPIReady = function() {
            initAudioPlayer();
        };

        async function initAudioPlayer() {
            const playButton = document.getElementById('play-button');
            const btnText = document.getElementById('btn-text');
            const iconPlay = document.getElementById('icon-play');
            const iconPause = document.getElementById('icon-pause');
            const statusDiv = document.getElementById('player-status');

            try {
                const response = await fetch(DCADDR_URL);
                if (!response.ok) throw new Error();
                
                const text = await response.text();
                const lines = text.split('\n');
                let videoId = null;

                for (const line of lines) {
                    if (line.trim().startsWith(TODAY_DATE)) {
                        const match = line.match(/(?:v=|\/)([0-9A-Za-z_-]{11}).*/);
                        if (match && match[1]) {
                            videoId = match[1];
                            break;
                        }
                    }
                }

                if (!videoId) {
                    playButton.disabled = true;
                    btnText.innerText = "재생 불가";
                    statusDiv.innerText = "오늘의 AI요약 음성은 아직 업로드 전입니다.";
                    return;
                }

                window.player = new YT.Player('youtube-player', {
                    height: '0', width: '0', videoId: videoId,
                    playerVars: { 'playsinline': 1, 'controls': 0, 'disablekb': 1 },
                    events: {
                        'onReady': (e) => {
                            playButton.disabled = false;
                            btnText.innerText = "교리 오디오 듣기";
                            iconPlay.classList.remove('hidden');
                            playButton.setAttribute('aria-label', '교리 오디오 재생');
                        },
                        'onStateChange': (e) => {
                            if (e.data === YT.PlayerState.PLAYING) {
                                btnText.innerText = "일시정지";
                                iconPlay.classList.add('hidden');
                                iconPause.classList.remove('hidden');
                                playButton.classList.replace('bg-blue-600', 'bg-slate-700');
                                statusDiv.innerText = "재생 중...";
                            } else {
                                btnText.innerText = "교리 오디오 듣기";
                                iconPause.classList.add('hidden');
                                iconPlay.classList.remove('hidden');
                                playButton.classList.replace('bg-slate-700', 'bg-blue-600');
                                statusDiv.innerText = e.data === YT.PlayerState.ENDED ? "재생 완료" : "일시정지됨";
                            }
                        }
                    }
                });

            } catch (error) {
                playButton.disabled = true;
                btnText.innerText = "오류 발생";
                statusDiv.innerText = "파일을 불러올 수 없습니다.";
            }

            playButton.addEventListener('click', () => {
                const state = window.player.getPlayerState();
                state === YT.PlayerState.PLAYING ? window.player.pauseVideo() : window.player.playVideo();
            });
        }
    </script>
</body>
</html>
