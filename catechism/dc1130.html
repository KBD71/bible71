<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날마다 읽는 교리 - 11월 30일</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" as="style" crossorigin="anonymous" />
    <style>
        body {
            font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            word-break: keep-all;
            background-color: #f3f4f6;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        .card-header {
            background-color: #4a5568;
            color: white;
            padding: 1rem 1.5rem;
            font-size: 1.25rem;
            font-weight: 700;
            border-bottom: 1px solid #e5e7eb;
        }
        .card-body {
            padding: 1.5rem;
            line-height: 1.75;
        }
        .card-body h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #1f2937;
        }
        .card-body p {
            margin-bottom: 1rem;
            color: #374151;
        }
        .card-body ul {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-bottom: 1rem;
            color: #374151;
        }
        .card-body li {
            margin-bottom: 0.5rem;
        }
        .card-body .question {
            font-weight: 600;
            color: #111827;
        }
        .card-body .answer {
            color: #374151;
        }
        .audio-player-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            background-color: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }
        .audio-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 500;
            border-radius: 0.5rem;
            transition: all 0.2s ease-in-out;
            border: 1px solid transparent;
        }
        .audio-button:disabled {
            background-color: #e5e7eb;
            color: #9ca3af;
            cursor: not-allowed;
        }
        .audio-button.play {
            background-color: #2563eb;
            color: white;
        }
        .audio-button.play:hover {
            background-color: #1d4ed8;
        }
        .audio-button.pause {
            background-color: #f87171;
            color: white;
        }
        .audio-button.pause:hover {
            background-color: #ef4444;
        }
        .audio-error {
            color: #dc2626;
            font-weight: 500;
            text-align: center;
        }
        #player-container {
            width: 1px;
            height: 1px;
            opacity: 0;
            position: absolute;
            top: -100px;
            left: -100px;
        }
        footer {
            text-align: center;
            padding: 2rem 1rem;
            font-size: 0.875rem;
            color: #6b7280;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="container mx-auto max-w-3xl px-4 py-8 sm:py-12">

        <header class="mb-8 text-center">
            <h1 class="text-4xl font-bold text-gray-800">11월 30일</h1>
            <p class="text-xl text-gray-600 mt-2">1¼일 °</p>
        </header>

        <main>
            <div class="card">
                <div class="card-header">
                    신앙고백서 29.3
                </div>
                <div class="card-body">
                    <p class="answer">주의만찬의시행과제한 신앙고백서 29.3 이 규례에서, 주 예수님께서 자신의 사역자들에게 명하 여, 제정의 말씀을 회중에게 선포하게 하시고, 기도함 으로 빵과 포도주를 축사하여 이것들을 일상적 용도가 아닌 거룩한 용도를 위해 따로 구분하게 하시며, 빵을 가지고 떼며 잔올 가지고 (자신들도 참여하면서) 이 두 요소를 모두 수찬자들에게 나누어주게 하셨다.1) 그러나 예식에 참석하지 않은 자에게는 나누어주지 않도록 하 셨다.2) 1) 마 26:26-28: 막 14:22-24; 눅 22:19-20: 고전 11 :23-26. 2) 행 20:7; 고전 11 :20. ‘</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    AI요약 듣기
                </div>
                <div class="audio-player-container" id="audio-player-ui">
                    <div id="player-container"></div>
                    <button id="audio-button" class="audio-button play" aria-label="교리 오디오 재생" disabled>
                        <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2">
                            <path fill-rule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z" clip-rule="evenodd" />
                        </svg>
                        <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2" style="display: none;">
                            <path fill-rule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z" clip-rule="evenodd" />
                        </svg>
                        <span id="button-text">로딩 중...</span>
                    </button>
                    <div id="audio-error" class="audio-error mt-4" style="display: none;"></div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    교리 해설
                </div>
                <div class="card-body">
                    <p>오늘 읽는 신앙고백서 29.3의 내용은 문장을 분절하여 살필 때 크게 여섯 
가지로 구분할 수 있습니다. 첫째, “자신의 사역자들에게 명하여 제정의 말 
씀을 회중에게 선포하게 하시고,” 둘째, “기도함으로 빵과 포도주를 축사하 
여 이것들을 일상적 용도가 아닌 거룩한 용도를 위해 따로 구분하게 하시 
II 월. 29장. 주의 만찬(성 찬) 231 
며,” 셋째, “빵을 가지고 떼며 잔을 가지고,” 넷째, ”(자신들도 참여하면서)," 
다섯째, “이 두 요소를 모두 수찬자들에게 나누어주게 하셨다,” 그리고 여 
섯째, “그러나 예식에 참석하지 않은 자에게는 나누어주지 않도록 하셨다” 
입니다. 
이 가운데 성례 집행자에 관한 첫 번째 내용, 성찬 외적 요소의 성별에 관 
한 두 번째 내용 빵을 가지고 떼어 나누어 주는 행위에 관한 세 번째 내용, 
그리고 빵과 포도주 두 요소를 모두 수찬자에게 주는 ‘양형 배찬’에 관한 
다섯 번째 내용은 어제 살핀 대요리문답 169항을 참조하면 충분히 이해할 
수 있습니다. 그러므로 오늘은 이 부분의 반복 설명을 생략하고, 신앙고백서 29.3에서 새롭게 주목할 두 가지 내용, 죽 집례자의 성찬 참여와 성찬이 
시행되는 공동체적 현장에 관한 교훈을 살펴보겠습니다. 
(1) "（자신들도 참여하면서)"： 이 구절이 본문에 포함된 이유는, 집례자들이 
성찬에 참여하지 않았던 역사적 관행이 있어서가 아닙니다. 오히려 로마 가 
톨릭에서도 사제가 그리스도를 대신하여 희생제사로서 미사룰 집전할 때, 
자신도 성체를 받는 영성체에 반드시 참여해야 합니다. 그렇지 않으면 미사 
는 불완전한 것으로 여겨집니다. 
그럼에도 불구하고 신앙고백서는 "집례자 자신들도 참여하면서”라는 표현 
을 괄호 안에 포함시킴으로써, 집례자가 단지 말씀을 선포하고 성찬을 집행 
하는 직무를 수행하는 자에 그쳐서는 안 되며, 자신 또한 성찬에 참여하는 
자임을 교회의 규범으로 강조합니다. 이것은 성찬이 집례자를 포함한 공동 ...</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    적용 질문
                </div>
                <div class="card-body">
                    <ul>
                        <li><span class="question">신앙고백서 29.3의 "（자신들도 참여하면서)”는 무엇을 규범화하며, 집례</span></li>
<li><span class="question">자의 정체성과 직무 이해에 어떤 균형을 요구합니까? 우리는 집례자가 단</span></li>
<li><span class="question">지 은혜를 전달하는 자가 아니라 교회 공동체 안에서 함께 은혜를 받는 자</span></li>
<li><span class="question">로서 성찬의 식탁에 겸손히 참여하고 있는지를 돌아보고 있습니까?</span></li>
<li><span class="question">“그러나 예식에 참석하지 않은 자에게는 나누어주지 않도록 하셨다”라</span></li>
<li><span class="question">는 조항은 성찬의 공예배성과 공동체성을 어떤 방식으로 보호합니까? 우리</span></li>

                    </ul>
                </div>
            </div>
        </main>

        <footer>
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
        </footer>

    </div>

    <script>
        let player;
        let videoId = null;
        let isPlayerReady = false;
        let isPlaying = false;
        const audioButton = document.getElementById('audio-button');
        const buttonText = document.getElementById('button-text');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const errorContainer = document.getElementById('audio-error');

        function loadYouTubeAPI() {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }

        function onYouTubeIframeAPIReady() {
            fetchAudioAddress();
        }

        async function fetchAudioAddress() {
            try {
                const response = await fetch('../address/dcaddr.txt');
                if (!response.ok) {
                    throw new Error('오디오 목록 파일을 불러오는 데 실패했습니다.');
                }
                const text = await response.text();
                const lines = text.split('\n');
                const today = '1130';
                const todayLine = lines.find(line => line.startsWith(today));

                if (todayLine) {
                    const regex = /(?:v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                    const match = todayLine.match(regex);
                    if (match && match[1]) {
                        videoId = match[1];
                        initializePlayer();
                    } else {
                        throw new Error('오늘 날짜의 오디오 주소 형식이 올바르지 않습니다.');
                    }
                } else {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                }
            } catch (error) {
                console.error('Error fetching audio address:', error);
                showError(error.message || '오디오를 불러오는 중 오류가 발생했습니다.');
            }
        }

        function initializePlayer() {
            player = new YT.Player('player-container', {
                height: '1',
                width: '1',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1,
                    'controls': 0,
                  'showinfo': 0,
                    'rel': 0
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            isPlayerReady = true;
            audioButton.disabled = false;
            buttonText.textContent = 'AI요약 듣기';
            audioButton.setAttribute('aria-label', '교리 오디오 재생');
            audioButton.addEventListener('click', togglePlayPause);
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                isPlaying = true;
                updateButtonUI(true);
            } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                isPlaying = false;
                updateButtonUI(false);
                if (event.data === YT.PlayerState.ENDED) {
                    player.seekTo(0);
                }
            }
        }

        function togglePlayPause() {
            if (!isPlayerReady) return;
            if (isPlaying) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }

        function updateButtonUI(playing) {
            if (playing) {
                audioButton.classList.remove('play');
                audioButton.classList.add('pause');
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'inline';
                buttonText.textContent = '일시정지';
                audioButton.setAttribute('aria-label', '교리 오디오 일시정지');
            } else {
                audioButton.classList.remove('pause');
                audioButton.classList.add('play');
                playIcon.style.display = 'inline';
                pauseIcon.style.display = 'none';
                buttonText.textContent = 'AI요약 듣기';
                audioButton.setAttribute('aria-label', '교리 오디오 재생');
            }
        }

        function showError(message) {
            const button = document.getElementById('audio-button');
            if (button) {
                button.style.display = 'none';
            }
            errorContainer.textContent = message;
            errorContainer.style.display = 'block';
        }

        loadYouTubeAPI();
    </script>

</body>
</html>