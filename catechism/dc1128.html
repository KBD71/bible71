<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날마다 읽는 교리 - 11월 28일</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" as="style" crossorigin="anonymous" />
    <style>
        body {
            font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            word-break: keep-all;
            background-color: #f3f4f6;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        .card-header {
            background-color: #4a5568;
            color: white;
            padding: 1rem 1.5rem;
            font-size: 1.25rem;
            font-weight: 700;
            border-bottom: 1px solid #e5e7eb;
        }
        .card-body {
            padding: 1.5rem;
            line-height: 1.75;
        }
        .card-body h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #1f2937;
        }
        .card-body p {
            margin-bottom: 1rem;
            color: #374151;
        }
        .card-body ul {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-bottom: 1rem;
            color: #374151;
        }
        .card-body li {
            margin-bottom: 0.5rem;
        }
        .card-body .question {
            font-weight: 600;
            color: #111827;
        }
        .card-body .answer {
            color: #374151;
        }
        .audio-player-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            background-color: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }
        .audio-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 500;
            border-radius: 0.5rem;
            transition: all 0.2s ease-in-out;
            border: 1px solid transparent;
        }
        .audio-button:disabled {
            background-color: #e5e7eb;
            color: #9ca3af;
            cursor: not-allowed;
        }
        .audio-button.play {
            background-color: #2563eb;
            color: white;
        }
        .audio-button.play:hover {
            background-color: #1d4ed8;
        }
        .audio-button.pause {
            background-color: #f87171;
            color: white;
        }
        .audio-button.pause:hover {
            background-color: #ef4444;
        }
        .audio-error {
            color: #dc2626;
            font-weight: 500;
            text-align: center;
        }
        #player-container {
            width: 1px;
            height: 1px;
            opacity: 0;
            position: absolute;
            top: -100px;
            left: -100px;
        }
        footer {
            text-align: center;
            padding: 2rem 1rem;
            font-size: 0.875rem;
            color: #6b7280;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="container mx-auto max-w-3xl px-4 py-8 sm:py-12">

        <header class="mb-8 text-center">
            <h1 class="text-4xl font-bold text-gray-800">11월 28일</h1>
            <p class="text-xl text-gray-600 mt-2">111/ 28일</p>
        </header>

        <main>
            <div class="card">
                <div class="card-header">
                    신앙고백서 29.2
                </div>
                <div class="card-body">
                    <p class="answer">희생제사가아닌 주의 만찬 신앙고백서 29.2 이 성례에서 그리스도께서 성부 하나님께 바쳐지는 것 이 아니며,또한산자와죽은자의 죄 사함을위한희 생제사가 실제로 행해지는 것도 결코 아니다? 단지 십 자가 위에서 단번에 스스로 자신을 바치신 그 한 번의 봉헌을 기념하는 것일 뿐이다. 그리고 이것에 대해 할 수 있는 모든 찬송을 하나님께 영적으로 올려드리는 것 일 뿐이다? 그러므로 교황주의자들이 미사라고 부르 는 희생저µH즌 선택받은 자들의 모든 죄를 위한 유일한 화목제물, 곧 그리스도의 단 하나뿐인 희생제사에 대한 지극히 혐오스러운 훼손이다.3) 1) 히 9:22, 25-26, 28. 2) 고전 11 :24-26; 마 26:26-27. 3) 히 7:23-24, 27; 10:11-12, 14, 18. ‘</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    AI요약 듣기
                </div>
                <div class="audio-player-container" id="audio-player-ui">
                    <div id="player-container"></div>
                    <button id="audio-button" class="audio-button play" aria-label="교리 오디오 재생" disabled>
                        <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2">
                            <path fill-rule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z" clip-rule="evenodd" />
                        </svg>
                        <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2" style="display: none;">
                            <path fill-rule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z" clip-rule="evenodd" />
                        </svg>
                        <span id="button-text">로딩 중...</span>
                    </button>
                    <div id="audio-error" class="audio-error mt-4" style="display: none;"></div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    교리 해설
                </div>
                <div class="card-body">
                    <p>오늘 읽는 신앙고백서 29.2은 성찬에 대한 개혁신학의 관점에서 로마 가톨 
릭의 미사(Mass) 교리를 반박합니다. 본 절은 무엇보다도 미사 때마다 그리 
스도의 희생이 반복된다는 교리를 부정하고, 그리스도의 단번의 희생제사 
교리를 확중합니다. 그 내용을 세 부분으로 나누어 살펴보겠습니다. 
(1) “이 성례에서 그리스도께서 성부 하나님께 바쳐지는 것이 아니며 또한 
산 자와 죽은 자의 죄 사함을 위한 희생제사가 실제로 행해지는 것도 결코 
아니다"： 성찬은 그리스도를 하나님께 다시 바치는 제사가 아닙니다. 성경 
이 중언하듯, 그리스도의 제사는 단 한 번에 완전하게 드려진 제사이기 때 
문입니다(히 7:27; 9:28; 10:12, 14, 18). 신앙고백서는 이 구절을 통해 로마 
가톨릭의 미사성제(Sacrifice of the Mass)를 명백히 비판합니다. 
로마 가톨릭은 미사를 십자가에서 단번에 드려진 그리스도의 희생의 제 
사를 재현하고 영속적으로 적용하는 성례전적 행위라고 주장합니다. 미사 
는 실제로 그리스도께서 십자가에서 드린 제사와 동일한 것이지만, 피 홀 
림이 없는 방식으로 반복적으로 드려지는 실제적인 속죄제사(propitiatory 
ffering)이며, 실제로 죄 사함을 위한 속죄의 효력을 가지고 있습니다. 이 
러한 이해를 따라서 로마 가톨릭에서 미사는 다음과 같이 거행됩니다. 먼 
저 빵과 포도주를 미사 테이블에 올리는 예물 봉헌을 합니다. 그리고 사제 
가 감사 기도문을 바치고 빵과 포도주에 대하여 예수님께서 최후의 만찬 
에서 하신 말씀을 그대로 반복함으로 축성을 합니다. 로마 가톨릭은 이때 
빵과 포도주의 실체가 그리스도의 몸과 피로 변화한다고 믿습니다. 이것이 
바로 십자가의 희생제물을 재현하는 것입니다. 그리고 이제 거룩한 주님의 
몸과 피로 변화한 성체를 높이 들어 신자들에게 보여주는 성체 거양을 행 
합니다. 그리고 신자는 이것을 그리스도 그분 자신으로 경배 (adoration...</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    적용 질문
                </div>
                <div class="card-body">
                    <ul>
                        <li><span class="question">적용 질문이 제공되지 않았습니다.</span></li>
                    </ul>
                </div>
            </div>
        </main>

        <footer>
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
        </footer>

    </div>

    <script>
        let player;
        let videoId = null;
        let isPlayerReady = false;
        let isPlaying = false;
        const audioButton = document.getElementById('audio-button');
        const buttonText = document.getElementById('button-text');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const errorContainer = document.getElementById('audio-error');

        function loadYouTubeAPI() {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }

        function onYouTubeIframeAPIReady() {
            fetchAudioAddress();
        }

        async function fetchAudioAddress() {
            try {
                const response = await fetch('../address/dcaddr.txt');
                if (!response.ok) {
                    throw new Error('오디오 목록 파일을 불러오는 데 실패했습니다.');
                }
                const text = await response.text();
                const lines = text.split('\n');
                const today = '1128';
                const todayLine = lines.find(line => line.startsWith(today));

                if (todayLine) {
                    const regex = /(?:v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                    const match = todayLine.match(regex);
                    if (match && match[1]) {
                        videoId = match[1];
                        initializePlayer();
                    } else {
                        throw new Error('오늘 날짜의 오디오 주소 형식이 올바르지 않습니다.');
                    }
                } else {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                }
            } catch (error) {
                console.error('Error fetching audio address:', error);
                showError(error.message || '오디오를 불러오는 중 오류가 발생했습니다.');
            }
        }

        function initializePlayer() {
            player = new YT.Player('player-container', {
                height: '1',
                width: '1',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1,
                    'controls': 0,
                  'showinfo': 0,
                    'rel': 0
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            isPlayerReady = true;
            audioButton.disabled = false;
            buttonText.textContent = 'AI요약 듣기';
            audioButton.setAttribute('aria-label', '교리 오디오 재생');
            audioButton.addEventListener('click', togglePlayPause);
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                isPlaying = true;
                updateButtonUI(true);
            } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                isPlaying = false;
                updateButtonUI(false);
                if (event.data === YT.PlayerState.ENDED) {
                    player.seekTo(0);
                }
            }
        }

        function togglePlayPause() {
            if (!isPlayerReady) return;
            if (isPlaying) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }

        function updateButtonUI(playing) {
            if (playing) {
                audioButton.classList.remove('play');
                audioButton.classList.add('pause');
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'inline';
                buttonText.textContent = '일시정지';
                audioButton.setAttribute('aria-label', '교리 오디오 일시정지');
            } else {
                audioButton.classList.remove('pause');
                audioButton.classList.add('play');
                playIcon.style.display = 'inline';
                pauseIcon.style.display = 'none';
                buttonText.textContent = 'AI요약 듣기';
                audioButton.setAttribute('aria-label', '교리 오디오 재생');
            }
        }

        function showError(message) {
            const button = document.getElementById('audio-button');
            if (button) {
                button.style.display = 'none';
            }
            errorContainer.textContent = message;
            errorContainer.style.display = 'block';
        }

        loadYouTubeAPI();
    </script>

</body>
</html>