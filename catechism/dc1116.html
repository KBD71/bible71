<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날마다 읽는 교리 - 11월 16일</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" as="style"
        crossorigin="anonymous" />
    <style>
        body {
            font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            word-break: keep-all;
            background-color: #f3f4f6;
        }

        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }

        .card-header {
            background-color: #4a5568;
            color: white;
            padding: 1rem 1.5rem;
            font-size: 1.25rem;
            font-weight: 700;
            border-bottom: 1px solid #e5e7eb;
        }

        .card-body {
            padding: 1.5rem;
            line-height: 1.75;
        }

        .card-body h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #1f2937;
        }

        .card-body p {
            margin-bottom: 1rem;
            color: #374151;
        }

        .card-body ul {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-bottom: 1rem;
            color: #374151;
        }

        .card-body li {
            margin-bottom: 0.5rem;
        }

        .card-body .question {
            font-weight: 600;
            color: #111827;
        }

        .card-body .answer {
            color: #374151;
        }

        .audio-player-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            background-color: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }

        .audio-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 500;
            border-radius: 0.5rem;
            transition: all 0.2s ease-in-out;
            border: 1px solid transparent;
        }

        .audio-button:disabled {
            background-color: #e5e7eb;
            color: #9ca3af;
            cursor: not-allowed;
        }

        .audio-button.play {
            background-color: #2563eb;
            color: white;
        }

        .audio-button.play:hover {
            background-color: #1d4ed8;
        }

        .audio-button.pause {
            background-color: #f87171;
            color: white;
        }

        .audio-button.pause:hover {
            background-color: #ef4444;
        }

        .audio-error {
            color: #dc2626;
            font-weight: 500;
            text-align: center;
        }

        #player-container {
            width: 1px;
            height: 1px;
            opacity: 0;
            position: absolute;
            top: -100px;
            left: -100px;
        }

        footer {
            text-align: center;
            padding: 2rem 1rem;
            font-size: 0.875rem;
            color: #6b7280;
        }
    </style>
</head>

<body class="bg-gray-100">

    <div class="container mx-auto max-w-3xl px-4 py-8 sm:py-12">

        <header class="mb-8 text-center">
            <h1 class="text-4xl font-bold text-gray-800">11월 16일</h1>
            <p class="text-xl text-gray-600 mt-2">구약의 성례</p>
        </header>

        <main>
            <div class="card">
                <div class="card-header">
                    신앙고백서 27.5
                </div>
                <div class="card-body">
                    <p class="answer">구약의 성례들은, 이것들이 표지하고 제시하는 영적인 실체들과 관련하여, 본질상 신약의 성례들과 동일하다. (고전 10:1-4)</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    AI요약 듣기
                </div>
                <div class="audio-player-container" id="audio-player-ui">
                    <div id="player-container"></div>
                    <button id="audio-button" class="audio-button play" aria-label="교리 오디오 재생" disabled>
                        <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
                            class="w-6 h-6 mr-2">
                            <path fill-rule="evenodd"
                                d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z"
                                clip-rule="evenodd" />
                        </svg>
                        <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
                            class="w-6 h-6 mr-2" style="display: none;">
                            <path fill-rule="evenodd"
                                d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z"
                                clip-rule="evenodd" />
                        </svg>
                        <span id="button-text">로딩 중...</span>
                    </button>
                    <div id="audio-error" class="audio-error mt-4" style="display: none;"></div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    교리 해설
                </div>
                <div class="card-body">
                    <h3>1. 구약과 신약의 동일한 은혜 언약</h3>
                    <p>하나님께서는 구약과 신약 시대에 모두 그분의 백성을 <strong class="text-blue-600">동일한 은혜 언약</strong> 아래에서 구원하셨습니다. 구약에서는
                        그리스도의 오심을 예표하는 방편으로 성례를 주셨고, 신약에서는 그리스도께서 성취하신 구속을 제시하고 기념하며 그 은혜를 실제로 누리게 하시는 방편으로 성례를 제정하셨습니다.
                    </p>
                    <p>그러므로 구약의 성례와 신약의 성례는 각각 표지하고(signified) 제시하는(exhibited) <strong class="text-blue-600">영적 실체가
                            본질적으로 동일한</strong> 연속성을 가지고 있습니다.</p>

                    <h3>2. 구약 성례의 내용과 의미</h3>
                    <p>구약 시대의 대표적인 성례는 <strong class="text-blue-600">할례와 유월절</strong>입니다. 할례는 "믿음으로 된 의를 인친 것"(롬
                        4:11)으로, 아브라함이 믿음으로 의롭다 하심을 받은 후에 이 믿음의 의를 인치는 표로 받은 것입니다. 또한 유월절은 그리스도의 희생을 예표하는 성례로, 유월절 양은 곧
                        그리스도를 가리킵니다(고전 5:7).</p>
                    <p>구약 시대의 은혜 언약은 오실 그리스도를 예표하는 여러 방편으로 나타났습니다. 그것들은 약속들, 예언들, 희생제사들, 할례, 유월절 어린양, 그리고 유대 백성에게 주어진 여러
                        모형과 규례들입니다. 구약의 성례들은 <strong class="text-blue-600">예표적 성격</strong>을 지닌 방편이며, 그러한 성격으로 인해 신약의
                        성례들과는 다른 방식으로 시행되었습니다.</p>

                    <h3>3. 표지와 실체의 관계</h3>
                    <p>신약의 성례인 세례와 성찬은 각각 물, 빵, 포도주로 표지하는 영적 실체가 있습니다. 세례는 그리스도의 구속 사역에 의한 죄 씻음을, 성찬은 그리스도의 몸과 피로 상징되는
                        대속의 죽음을 가리킵니다.</p>
                    <p>구약의 성례들도 마찬가지로 표지로 가리키는 영적 실체가 있었습니다. 구약 성례의 외적 표지는 신약 성례와는 다른 방식으로 주어졌는데, 그것은 짐승의 희생제사와 피 흘리는
                        할례, 그리고 절기 등이었습니다. 그러나 이러한 구약의 표지가 가리키고 제시하는 영적 실체는 <strong class="text-blue-600">신약 성례에서 표지된
                            실체와 동일</strong>합니다. 그것은 오실 그리스도의 중보 사역에 근거하여 주어지는 의와 정결함이며, 은혜 언약 안에서 누리는 하나님과의 교제입니다.</p>

                    <h3>4. 본질의 동일성과 시행의 차이</h3>
                    <p>구약의 성례와 신약의 성례는 본질상 동일한 실체를 가리키며, 그것을 제시하고 전달합니다. 두 성례 모두 동일한 은혜 언약 아래에서 주어진 것이며, 중보자 그리스도와 그분의
                        구속 사역에 근거한 중보적 유익을 제시합니다.</p>
                    <p>구약 시대에는 아직 그리스도께서 구속 사역을 성취하시기 전이었기에, 성례는 <strong class="text-blue-600">그림자의 형식</strong>으로
                        주어졌습니다. 신앙고백서 8.6은 이를 잘 뒷받침합니다: "성육신 이전에는 구속 사역이 그리스도에 의해 실제로 실행되지는 않았지만, 그럼에도 그 능력과 효력과 은택은
                        창세로부터 모든 시대에 걸쳐 약속들과 모형들과 희생제사들 안에서, 또 그것들을 통해 선택된 자들에게 전달되었다."</p>
                    <p>결론적으로, 구약의 성례와 신약의 성례는 <strong class="text-blue-600">본질적으로 동일한 은혜 언약의 실체</strong>와 구속의 유익을 제시하되,
                        외적 집행과 표지의 방식에서는 경륜적 차이를 지닙니다.</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    적용 질문
                </div>
                <div class="card-body">
                    <ul>
                        <li><span class="question">1. 구약의 성례가 오실 그리스도를 예표하고 신약의 성례가 이미 오신 그리스도를 가리킨다고 할 때, 왜 하나님께서는 시대마다
                                다른 방식으로 성례를 주셨을까요? 여러분은 하나님께서 구원의 방편을 시대마다 다양하게 나타내시지만, 그 중심은 언제나 동일한 그리스도이심을 믿고
                                있습니까?</span></li>
                        <li><span class="question">2. 그리스도께서 오시기 전에도 구약의 성도들이 할례와 유월절을 통해 동일한 구속의 은혜를 받았다고 할 때, 성례의 효력에
                                대하여 어떻게 이해해야 할까요? 여러분은 세례와 성찬에 참여할 때, 행위 그 자체나 형식보다 성령을 통해 역사하시는 하나님의 약속을 믿음으로 붙들고
                                있습니까?</span></li>
                        <li><span class="question">3. 구약의 성례와 신약의 성례가 본질적으로 동일한 은혜 언약의 실체를 제시한다고 할 때, 구약의 그림자적 표지와 신약의
                                명료한 표지의 차이는 어떤 의미가 있을까요? 여러분은 신약의 성례가 단지 예표가 아니라, 성취된 그리스도의 은혜를 실제로 누리게 하는 은혜의 수단임을 기억하며
                                성례에 참여하고 있습니까?</span></li>
                        <li><span class="question">4. 하나님께서 구약과 신약을 통해 동일한 은혜 언약을 주셨음에도, 구약 시대와 신약 시대의 교회가 서로 다른 방식으로
                                성례를 시행하게 하신 이유는 무엇일까요? 여러분은 예배와 성례의 외형적 변화 속에서도, 하나님의 구속의 본질이 결코 변하지 않음을 확신하고
                                있습니까?</span></li>
                    </ul>
                </div>
            </div>
        </main>

        <footer>
            <p>교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다</p>
        </footer>

    </div>

    <script>
        let player;
        let videoId = null;
        let isPlayerReady = false;
        let isPlaying = false;
        const audioButton = document.getElementById('audio-button');
        const buttonText = document.getElementById('button-text');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const errorContainer = document.getElementById('audio-error');

        function loadYouTubeAPI() {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }

        function onYouTubeIframeAPIReady() {
            fetchAudioAddress();
        }

        async function fetchAudioAddress() {
            try {
                const response = await fetch('../address/dcaddr.txt');
                if (!response.ok) {
                    throw new Error('오디오 목록 파일을 불러오는 데 실패했습니다.');
                }
                const text = await response.text();
                const lines = text.split('\n');
                const today = '1116';
                const todayLine = lines.find(line => line.startsWith(today));

                if (todayLine) {
                    const regex = /(?:v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                    const match = todayLine.match(regex);
                    if (match && match[1]) {
                        videoId = match[1];
                        initializePlayer();
                    } else {
                        throw new Error('오늘 날짜의 오디오 주소 형식이 올바르지 않습니다.');
                    }
                } else {
                    showError('오늘의 AI요약 음성은 아직 업로드 전입니다.');
                }
            } catch (error) {
                console.error('Error fetching audio address:', error);
                showError(error.message || '오디오를 불러오는 중 오류가 발생했습니다.');
            }
        }

        function initializePlayer() {
            player = new YT.Player('player-container', {
                height: '1',
                width: '1',
                videoId: videoId,
                playerVars: {
                    'playsinline': 1,
                    'controls': 0,
                    'showinfo': 0,
                    'rel': 0
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            isPlayerReady = true;
            audioButton.disabled = false;
            buttonText.textContent = 'AI요약 듣기';
            audioButton.setAttribute('aria-label', '교리 오디오 재생');
            audioButton.addEventListener('click', togglePlayPause);
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                isPlaying = true;
                updateButtonUI(true);
            } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                isPlaying = false;
                updateButtonUI(false);
                if (event.data === YT.PlayerState.ENDED) {
                    player.seekTo(0);
                }
            }
        }

        function togglePlayPause() {
            if (!isPlayerReady) return;
            if (isPlaying) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }

        function updateButtonUI(playing) {
            if (playing) {
                audioButton.classList.remove('play');
                audioButton.classList.add('pause');
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'inline';
                buttonText.textContent = '일시정지';
                audioButton.setAttribute('aria-label', '교리 오디오 일시정지');
            } else {
                audioButton.classList.remove('pause');
                audioButton.classList.add('play');
                playIcon.style.display = 'inline';
                pauseIcon.style.display = 'none';
                buttonText.textContent = 'AI요약 듣기';
                audioButton.setAttribute('aria-label', '교리 오디오 재생');
            }
        }

        function showError(message) {
            const button = document.getElementById('audio-button');
            if (button) {
                button.style.display = 'none';
            }
            errorContainer.textContent = message;
            errorContainer.style.display = 'block';
        }

        loadYouTubeAPI();
    </script>

</body>

</html>