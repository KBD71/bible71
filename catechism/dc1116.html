<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11월 16일: 구약의 성례</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #f0f2f5;
            color: #1a202c;
        }

        .infographic-card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            padding: 2rem;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }

        .infographic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .card-icon {
            flex-shrink: 0;
            width: 3rem;
            height: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 9999px;
            background-color: #e0e7ff;
            color: #4338ca;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e3a8a;
        }

        .catechism-body {
            color: #374151;
            padding-left: 1rem;
            border-left: 3px solid #6366f1;
            line-height: 1.7;
        }

        .sub-heading {
            font-weight: 700;
            color: #1e40af;
            margin-top: 1.25rem;
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        #player {
            display: none;
        }
    </style>
</head>

<body class="antialiased">

    <div class="container mx-auto p-4 md:p-8 max-w-3xl">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-800 mb-2">구약의 성례</h1>
            <p class="text-lg md:text-xl text-gray-500">11월 16일</p>
            <div class="mt-6 flex justify-center">
                <button id="audio-toggle"
                    class="flex items-center justify-center px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300">
                    <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 hidden" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <span id="button-text">AI 요약</span>
                </button>
            </div>
        </header>

        <main class="grid grid-cols-1 md:grid-cols-2 gap-8">

            <section class="infographic-card md:col-span-2">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                        </svg>
                    </div>
                    <h2 class="card-title">신앙고백서 27.5</h2>
                </div>
                <div class="catechism-body">
                    <p>구약의 성례들은, 이것들이 표지하고 제시하는 영적인 실체들과 관련하여, 본질상 신약의 성례들과 동일하다. (고전 10:1-4)</p>
                </div>
            </section>

            <section class="infographic-card">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                        </svg>
                    </div>
                    <h2 class="card-title">구약 성례의 예표적 성격</h2>
                </div>
                <div class="space-y-4 text-gray-600">
                    <p>하나님께서는 구약과 신약 시대에 모두 그분의 백성을 <strong class="text-blue-600">동일한 은혜 언약</strong> 아래에서 구원하셨습니다. 구약의
                        대표적인 성례인 할례와 유월절은 오실 그리스도를 예표하는 방편이었습니다.</p>
                    <p>할례는 "믿음으로 된 의를 인친 것"(롬 4:11)이며, 유월절은 그리스도의 희생을 예표합니다(고전 5:7). 구약 시대의 은혜 언약은 약속, 예언, 희생제사, 할례, 유월절
                        어린양 등 <strong class="text-blue-600">오실 그리스도를 예표하는 여러 모형과 규례들</strong>을 통해 시행되었습니다.</p>
                </div>
            </section>

            <section class="infographic-card">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                        </svg>
                    </div>
                    <h2 class="card-title">표지와 실체의 관계</h2>
                </div>
                <div class="space-y-4 text-gray-600">
                    <p>신약의 성례(세례, 성찬)가 물, 빵, 포도주를 통해 그리스도의 구속을 표지하듯, 구약의 성례들도 영적 실체를 가리켰습니다.</p>
                    <p>구약 성례의 외적 표지는 짐승의 희생제사나 피 흘리는 할례와 같이 신약과는 달랐습니다. 그러나 이것들이 가리키는 영적 실체는 <strong
                            class="text-blue-600">신약 성례와 동일한 그리스도의 중보 사역과 그로 인한 의와 정결함</strong>입니다. 즉, 구약의 성례들도 구속의 은혜를
                        실제로 전달하는 효과적인 은혜의 수단이었습니다.</p>
                </div>
            </section>

            <section class="infographic-card">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                        </svg>
                    </div>
                    <h2 class="card-title">본질의 동일성</h2>
                </div>
                <div class="space-y-4 text-gray-600">
                    <p>구약과 신약의 성례는 <strong class="text-blue-600">본질상 동일한 실체</strong>를 가리킵니다. 두 성례 모두 동일한 은혜 언약 아래 주어졌으며,
                        중보자 그리스도의 유익을 제시합니다.</p>
                    <p>구약 시대에는 아직 그리스도께서 오시기 전이었기에 성례가 '그림자'의 형식으로 주어졌습니다. 그러나 신앙고백서 8.6이 가르치듯, 성육신 이전에도 구속 사역의 효력과 은택은
                        약속과 모형들을 통해 선택된 자들에게 전달되었습니다. 그리스도는 어제나 오늘이나 영원토록 동일하시기 때문입니다.</p>
                </div>
            </section>

            <section class="infographic-card">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z" />
                        </svg>
                    </div>
                    <h2 class="card-title">요약 및 결론</h2>
                </div>
                <div class="space-y-4 text-gray-600">
                    <ul class="list-disc pl-5 space-y-2">
                        <li><strong>언약의 본질:</strong> 구약과 신약 모두 동일한 은혜 언약 아래 있습니다.</li>
                        <li><strong>시행 방식:</strong> 구약은 동물의 피 흘림과 같은 예표적 방식, 신약은 물과 빵과 포도주의 기념적 방식입니다.</li>
                        <li><strong>시점의 차이:</strong> 구약은 오실 그리스도를, 신약은 이미 오신 그리스도를 표지합니다.</li>
                        <li><strong>명료성:</strong> 구약은 그림자와 같으나, 신약은 성취된 은혜를 가리키므로 더욱 명료합니다.</li>
                    </ul>
                </div>
            </section>

            <section class="infographic-card md:col-span-2">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.79 4 4s-1.79 4-4 4c-1.742 0-3.223-.835-3.772-2M12 12h.01M12 12a2 2 0 100 4 2 2 0 000-4z" />
                        </svg>
                    </div>
                    <h2 class="card-title">적용 질문</h2>
                </div>
                <ul class="list-decimal pl-5 space-y-3 text-gray-700">
                    <li>구약의 성례가 오실 그리스도를 예표하고 신약의 성례가 이미 오신 그리스도를 가리킨다고 할 때, 왜 하나님께서는 시대마다 다른 방식으로 성례를 주셨을까요? 여러분은 하나님께서
                        구원의 방편을 시대마다 다양하게 나타내시지만, 그 중심은 언제나 동일한 그리스도이심을 믿고 있습니까? 그리고 오늘날의 성례를 받을 때, 구약의 성도들과 동일한 언약의 은혜에
                        참여하고 있음을 확신하며 감사하고 있습니까?</li>
                    <li>그리스도께서 오시기 전에도 구약의 성도들이 할례와 유월절을 통해 동일한 구속의 은혜를 받았다고 할 때, 성례의 효력에 대하여 어떻게 이해해야 할까요? 여러분은 세례와 성찬에
                        참여할 때, 행위 그 자체나 형식보다 성령을 통해 역사하시는 하나님의 약속을 믿음으로 붙들고 있습니까?</li>
                    <li>구약의 성례와 신약의 성례가 본질적으로 동일한 은혜 언약의 실체를 제시한다고 할 때 구약의 그림자적 표지와 신약의 명료한 표지의 차이는 어떤 의미가 있을까요? 여러분은
                        신약의 성례가 단지 예표가 아니라, 성취된 그리스도의 은혜를 실제로 누리게 하는 은혜의 수단임을 기억하며, 성례에 참여할 때마다 그리스도의 임재를 믿음으로 경험하고
                        있습니까?</li>
                    <li>하나님께서 구약과 신약을 통해 동일한 은혜 언약을 주셨음에도, 구약 시대와 신약 시대의 교회가 서로 다른 방식으로 성례를 시행하게 하신 이유는 무엇일까요? 여러분은 예배와
                        성례의 외형적 변화 속에서도, 하나님의 구속의 본질이 결코 변하지 않음을 확신하며, 어떤 시대와 문화 속에서도 동일한 복음의 실체를 굳게 붙들고 있습니까?</li>
                </ul>
            </section>
        </main>

        <div id="player"></div>

        <footer class="text-center text-sm text-gray-500 mt-12 py-4 border-t">
            교재는 날마다 양식으로 읽는 웨스트민스터 표준교리(영음사)를 사용합니다.
        </footer>

    </div>

    <script>
        // YouTube IFrame Player API 비동기 로드
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        let player;
        let playerState;

        const audioToggleButton = document.getElementById('audio-toggle');
        const buttonText = document.getElementById('button-text');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');

        function onYouTubeIframeAPIReady() {
            // 플레이어는 버튼 클릭 시 생성
        }

        function onPlayerReady(event) {
            event.target.playVideo();
        }

        function onPlayerStateChange(event) {
            playerState = event.data;
            updateButtonUI(playerState);
        }

        function updateButtonUI(state) {
            if (state === YT.PlayerState.PLAYING) {
                buttonText.textContent = '일시정지';
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
            } else {
                buttonText.textContent = 'AI 요약';
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            }
        }

        function extractVideoID(url) {
            const regex = /(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
            const match = url.match(regex);
            return match ? match[1] : null;
        }

        document.addEventListener('DOMContentLoaded', () => {
            if (audioToggleButton) {
                audioToggleButton.addEventListener('click', () => {
                    if (player && (playerState === YT.PlayerState.PLAYING || playerState === YT.PlayerState.BUFFERING)) {
                        player.pauseVideo();
                    }
                    else if (player && playerState === YT.PlayerState.PAUSED) {
                        player.playVideo();
                    }
                    else {
                        const audioFilePath = '../address/dcaddr.txt';

                        fetch(audioFilePath)
                            .then(response => {
                                if (!response.ok) throw new Error('404');
                                return response.text();
                            })
                            .then(fileContent => {
                                if (!fileContent || fileContent.trim() === '') {
                                    alert('유효한 오디오 주소가 파일에 없습니다.');
                                    return;
                                }

                                const lines = fileContent.split('\n');
                                const targetDate = '1116';
                                let url = '';

                                for (const line of lines) {
                                    if (line.trim().startsWith(targetDate + ' ')) {
                                        url = line.trim().substring(5);
                                        break;
                                    }
                                }

                                if (!url) {
                                    alert('해당 날짜의 오디오 주소를 찾을 수 없습니다.');
                                    return;
                                }

                                const videoId = extractVideoID(url.trim());

                                if (!videoId) {
                                    alert('유효한 YouTube URL이 아닙니다.');
                                    return;
                                }

                                if (player) {
                                    player.loadVideoById(videoId);
                                } else {
                                    player = new YT.Player('player', {
                                        height: '0',
                                        width: '0',
                                        videoId: videoId,
                                        playerVars: {
                                            'playsinline': 1
                                        },
                                        events: {
                                            'onReady': onPlayerReady,
                                            'onStateChange': onPlayerStateChange
                                        }
                                    });
                                }
                            })
                            .catch(error => {
                                if (error.message === '404') {
                                    alert('아직 업로드 전입니다.');
                                } else {
                                    console.error('오디오 파일 로드 중 오류 발생:', error);
                                }
                            });
                    }
                });
            }
        });
    </script>

</body>

</html>